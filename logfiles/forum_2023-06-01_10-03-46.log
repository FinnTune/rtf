2023/06/01 09:00:41 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/01 09:00:41 main.go:128: New Forum Begun
2023/06/01 09:00:41 sqlFuncs.go:18: Database opened successfully.
2023/06/01 09:00:41 main.go:57: File Servers Started.
2023/06/01 09:00:41 main.go:68: Handlers Started.
2023/06/01 09:00:41 main.go:104: Server Started and listening on port :443.
2023/06/01 09:00:46 main.go:73: Handling request "/" and serving index.html
2023/06/01 09:00:46 main.go:79: Cookie does not exist. Creating cookie.
2023/06/01 09:00:47 handlers.go:44: Checking login status.
2023/06/01 09:00:47 handlers.go:59: Manager's clients:  map[]
2023/06/01 09:00:47 handlers.go:97: No client found with matching session ID. User not logged in.
2023/06/01 09:00:54 handlers.go:44: Checking login status.
2023/06/01 09:00:54 handlers.go:59: Manager's clients:  map[]
2023/06/01 09:00:54 handlers.go:97: No client found with matching session ID. User not logged in.
2023/06/01 09:00:54 handlers.go:111: Login handler reached.
2023/06/01 09:00:54 handlers.go:127: Login POST request received.
2023/06/01 09:00:54 utility.go:29: Password and hash match.
2023/06/01 09:00:54 handlers.go:146: User found: {ID:1 Username:admin Email:admin@example.com Joined:2023-05-17 15:29:59 Password:$2a$12$nOhLtBhYC0.XOm3IQ37wy.H8Mk8u52Grek4d1UGA0sNbQr4D/ik32 Session: NumberComments:0 NumberPosts:0}
2023/06/01 09:00:54 handlers.go:147: Authentication condition reached.
2023/06/01 09:00:54 handlers.go:148: User Login list:  map[]
2023/06/01 09:00:54 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:00:54 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:00:54 handlers.go:280: Serving websocket.
2023/06/01 09:00:54 handlers.go:28: Checking origin: https://localhost
2023/06/01 09:00:54 handlers.go:288: Decoding request body.
2023/06/01 09:00:54 handlers.go:289: ServeWS request body:  {}
2023/06/01 09:00:54 handlers.go:301: Session Id in ServeWS:  97a336d2-0bbc-4c1a-a113-5de811817f76
2023/06/01 09:00:54 handlers.go:318: Client does not exist.
2023/06/01 09:00:54 ws-client.go:44: New client connected.
2023/06/01 09:00:54 ws-manager.go:164: Client: 127.0.0.1:47024 added to manager.
2023/06/01 09:00:54 ws-client.go:65: Client IP and client port num.:  127.0.0.1:47024
2023/06/01 09:00:54 ws-client.go:89: Client read message from:  127.0.0.1:47024
2023/06/01 09:00:54 ws-manager.go:64: Adding user info: {user-connect {"otp":"1d806752-6306-4147-b386-bb027ed76ec7","id":1,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":false}}
2023/06/01 09:00:54 ws-manager.go:77: Adding user to LoggedInList:  admin
2023/06/01 09:00:54 ws-manager.go:81: User: admin added to LoggedInList:  map[admin:true]
2023/06/01 09:00:54 ws-client.go:173: Message sent to client: 127.0.0.1:47024 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/01 09:00:59 ws-client.go:89: Client read message from:  127.0.0.1:47024
2023/06/01 09:00:59 ws-manager.go:37: Event/message sent: {new-message {"message":"advkjav","from":"admin","to":"admin","sent":1685599259448}}
2023/06/01 09:00:59 ws-client.go:173: Message sent to client: 127.0.0.1:47024 Message: {"type":"sent-message","payload":{"message":"advkjav","from":"admin","to":"","sent":"2023-06-01T09:00:59.46483405+03:00"}}
2023/06/01 09:01:02 handlers.go:623: GetComments Rows:  &{0xc0000c05a0 0x6d8440 0xc00008eae0 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/01 09:01:02 handlers.go:636: Comments sent:  [{admin 1 1 17 dskjbs 2023-05-22T12:23:35Z} {admin 2 1 17 dskhbsg 2023-05-22T12:23:38Z} {admin 3 1 17 adfjhb 2023-05-22T12:25:54Z}]
2023/06/01 09:01:03 ws-client.go:181: Ping sent to client: 127.0.0.1:47024
2023/06/01 09:01:03 ws-client.go:60: Pong received, handler called, timer reset.
2023/06/01 09:01:06 handlers.go:575: Adding comment... { 0 1 17 sdvkvjns }
2023/06/01 09:01:06 handlers.go:623: GetComments Rows:  &{0xc0000c05a0 0x6d8440 0xc0001e9020 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/01 09:01:06 handlers.go:636: Comments sent:  [{admin 1 1 17 dskjbs 2023-05-22T12:23:35Z} {admin 2 1 17 dskhbsg 2023-05-22T12:23:38Z} {admin 3 1 17 adfjhb 2023-05-22T12:25:54Z} {admin 5 1 17 sdvkvjns 2023-06-01T09:01:06Z}]
2023/06/01 09:01:11 handlers.go:575: Adding comment... { 0 1 17 sdhjksg }
2023/06/01 09:01:11 handlers.go:623: GetComments Rows:  &{0xc0000c05a0 0x6d8440 0xc0001e91a0 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/01 09:01:11 handlers.go:636: Comments sent:  [{admin 1 1 17 dskjbs 2023-05-22T12:23:35Z} {admin 2 1 17 dskhbsg 2023-05-22T12:23:38Z} {admin 3 1 17 adfjhb 2023-05-22T12:25:54Z} {admin 5 1 17 sdvkvjns 2023-06-01T09:01:06Z} {admin 6 1 17 sdhjksg 2023-06-01T09:01:11Z}]
2023/06/01 09:01:12 ws-client.go:181: Ping sent to client: 127.0.0.1:47024
2023/06/01 09:01:12 ws-client.go:60: Pong received, handler called, timer reset.
2023/06/01 09:01:14 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:01:17 handlers.go:493: GettingPostsByCategory...
2023/06/01 09:01:17 handlers.go:503: PostsByCategoryHandler reached.
2023/06/01 09:01:17 handlers.go:504: Categories: {Categories:[Politics]}
2023/06/01 09:01:17 handlers.go:523: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/01 09:01:17 handlers.go:524: With arguments: [Politics]
2023/06/01 09:01:17 handlers.go:545: Scanned post: {PostId:17 UserId:1 Title:skjkvjhx Content:kjxhbkjk Author:admin Created:2023-05-22T12:23:25Z}
2023/06/01 09:01:17 handlers.go:548: Processed 1 posts
2023/06/01 09:01:19 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:01:20 handlers.go:493: GettingPostsByCategory...
2023/06/01 09:01:20 handlers.go:503: PostsByCategoryHandler reached.
2023/06/01 09:01:20 handlers.go:504: Categories: {Categories:[Social]}
2023/06/01 09:01:20 handlers.go:523: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/01 09:01:20 handlers.go:524: With arguments: [Social]
2023/06/01 09:01:20 handlers.go:545: Scanned post: {PostId:17 UserId:1 Title:skjkvjhx Content:kjxhbkjk Author:admin Created:2023-05-22T12:23:25Z}
2023/06/01 09:01:20 handlers.go:548: Processed 1 posts
2023/06/01 09:01:21 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:01:21 ws-client.go:181: Ping sent to client: 127.0.0.1:47024
2023/06/01 09:01:21 ws-client.go:60: Pong received, handler called, timer reset.
2023/06/01 09:01:24 handlers.go:493: GettingPostsByCategory...
2023/06/01 09:01:24 handlers.go:503: PostsByCategoryHandler reached.
2023/06/01 09:01:24 handlers.go:504: Categories: {Categories:[Religion]}
2023/06/01 09:01:24 handlers.go:523: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/01 09:01:24 handlers.go:524: With arguments: [Religion]
2023/06/01 09:01:24 handlers.go:548: Processed 0 posts
2023/06/01 09:01:25 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:01:27 handlers.go:493: GettingPostsByCategory...
2023/06/01 09:01:27 handlers.go:503: PostsByCategoryHandler reached.
2023/06/01 09:01:27 handlers.go:504: Categories: {Categories:[Religion]}
2023/06/01 09:01:27 handlers.go:523: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/01 09:01:27 handlers.go:524: With arguments: [Religion]
2023/06/01 09:01:27 handlers.go:548: Processed 0 posts
2023/06/01 09:01:29 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:01:30 ws-client.go:181: Ping sent to client: 127.0.0.1:47024
2023/06/01 09:01:30 ws-client.go:60: Pong received, handler called, timer reset.
2023/06/01 09:01:39 ws-client.go:181: Ping sent to client: 127.0.0.1:47024
2023/06/01 09:01:39 ws-client.go:60: Pong received, handler called, timer reset.
2023/06/01 09:01:48 ws-client.go:181: Ping sent to client: 127.0.0.1:47024
2023/06/01 09:01:48 ws-client.go:60: Pong received, handler called, timer reset.
2023/06/01 09:01:49 handlers.go:387: AllPostsHandler reached.
2023/06/01 09:01:55 main.go:41: Server stopped.
