2023/05/20 12:08:34 main.go:127: Main begun. Log file checked, opened, and set.
2023/05/20 12:08:34 main.go:128: New Forum Begun
2023/05/20 12:08:34 sqlFuncs.go:18: Database opened successfully.
2023/05/20 12:08:34 main.go:57: File Servers Started.
2023/05/20 12:08:34 main.go:68: Handlers Started.
2023/05/20 12:08:34 main.go:104: Server Started and listening on port :443.
2023/05/20 12:08:38 main.go:73: Handling request "/" and serving index.html
2023/05/20 12:08:38 main.go:79: Cookie does not exist. Creating cookie.
2023/05/20 12:08:40 handlers.go:43: Checking login status.
2023/05/20 12:08:40 handlers.go:58: Manager's clients:  map[]
2023/05/20 12:08:40 handlers.go:88: No client found with matching session ID. User not logged in.
2023/05/20 12:08:45 handlers.go:43: Checking login status.
2023/05/20 12:08:45 handlers.go:58: Manager's clients:  map[]
2023/05/20 12:08:45 handlers.go:88: No client found with matching session ID. User not logged in.
2023/05/20 12:08:45 handlers.go:102: Login handler reached.
2023/05/20 12:08:45 handlers.go:118: Login POST request received.
2023/05/20 12:08:46 utility.go:29: Password and hash match.
2023/05/20 12:08:46 handlers.go:137: User found: {ID:1 Username:admin Email:admin@example.com Joined:2023-05-17 15:29:59 Password:$2a$12$nOhLtBhYC0.XOm3IQ37wy.H8Mk8u52Grek4d1UGA0sNbQr4D/ik32 Session: NumberComments:0 NumberPosts:0}
2023/05/20 12:08:46 handlers.go:138: Authentication condition reached.
2023/05/20 12:08:46 handlers.go:355: AllPostsHandler reached.
2023/05/20 12:08:46 handlers.go:355: AllPostsHandler reached.
2023/05/20 12:08:46 handlers.go:252: Serving websocket.
2023/05/20 12:08:46 handlers.go:27: Checking origin: https://localhost
2023/05/20 12:08:46 handlers.go:260: Decoding request body.
2023/05/20 12:08:46 handlers.go:261: ServeWS request body:  {}
2023/05/20 12:08:46 handlers.go:273: Session Id in ServeWS:  eaf3ad26-d62a-4bd0-9768-4160ba6b2e25
2023/05/20 12:08:46 handlers.go:287: Client does not exist.
2023/05/20 12:08:46 ws-client.go:44: New client connected.
2023/05/20 12:08:46 ws-manager.go:100: Client: 127.0.0.1:51314 added to manager.
2023/05/20 12:08:46 ws-client.go:65: Client IP and client port num.:  127.0.0.1:51314
2023/05/20 12:08:46 ws-client.go:89: Client read message from:  127.0.0.1:51314
2023/05/20 12:08:46 ws-manager.go:64: Adding user info: {user-connect {"otp":"053eddaa-0e87-4863-a154-640c87a6f534","id":1,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":false}}
2023/05/20 12:08:48 handlers.go:591: GetComments Rows:  &{0xc000176360 0x6d8440 0xc000414840 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/05/20 12:08:48 handlers.go:604: Comments sent:  []
2023/05/20 12:08:49 handlers.go:355: AllPostsHandler reached.
2023/05/20 12:08:51 handlers.go:461: GettingPostsByCategory...
2023/05/20 12:08:51 handlers.go:471: PostsByCategoryHandler reached.
2023/05/20 12:08:51 handlers.go:472: Categories: {Categories:[Cuisine]}
2023/05/20 12:08:51 handlers.go:491: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/05/20 12:08:51 handlers.go:492: With arguments: [Cuisine]
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:1 UserId:1 Title:Welcome to the Cuisines category! Content:Be the first to post in this category! Author:admin Created:2023-05-17T15:29:08Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:4 UserId:1 Title:Asian Food Content:Thai Khun Mom serves very typical Asian food in Mariehamn Author:admin Created:2023-05-17T15:29:08Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:6 UserId:1 Title:Best Sushi Content:Fina Fisken is the best sushi in Mariehamn Author:admin Created:2023-05-17T15:29:08Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:9 UserId:1 Title:ThaiFOOD Content:Yummm Author:admin Created:2023-05-17T15:30:59Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:10 UserId:1 Title:KoreanFood Content:yummy Author:admin Created:2023-05-17T15:36:29Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:11 UserId:1 Title:IndianFood Content:delicious Author:admin Created:2023-05-17T15:38:35Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:12 UserId:1 Title:CambodianFoood Content:oh yea Author:admin Created:2023-05-17T15:42:45Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:13 UserId:1 Title:ChineseFood Content:oh baby Author:admin Created:2023-05-17T15:45:51Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:14 UserId:1 Title:yum Content:yum Author:admin Created:2023-05-17T15:49:00Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:15 UserId:1 Title:food Content:dooooo Author:admin Created:2023-05-17T16:01:08Z}
2023/05/20 12:08:51 handlers.go:513: Scanned post: {PostId:16 UserId:1 Title:kjkjhkjhj Content:kjhkuhkhk Author:admin Created:2023-05-17T16:01:59Z}
2023/05/20 12:08:51 handlers.go:516: Processed 11 posts
2023/05/20 12:08:55 ws-client.go:181: Ping sent to client: 127.0.0.1:51314
2023/05/20 12:08:55 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 12:08:58 handlers.go:355: AllPostsHandler reached.
2023/05/20 12:09:03 handlers.go:191: Logout POST request received.
2023/05/20 12:09:03 handlers.go:206: Manager's clients:  map[0xc0002d4cb0:true]
2023/05/20 12:09:03 handlers.go:209: Client found.
2023/05/20 12:09:03 handlers.go:213: Session cookie found. User logged in.
2023/05/20 12:09:03 ws-client.go:89: Client read message from:  127.0.0.1:51314
2023/05/20 12:09:03 ws-client.go:91: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:51314: use of closed network connection
2023/05/20 12:09:04 ws-client.go:178: Client connection is nil.
2023/05/20 12:09:15 handlers.go:43: Checking login status.
2023/05/20 12:09:15 handlers.go:58: Manager's clients:  map[]
2023/05/20 12:09:15 handlers.go:88: No client found with matching session ID. User not logged in.
2023/05/20 12:09:16 handlers.go:102: Login handler reached.
2023/05/20 12:09:16 handlers.go:118: Login POST request received.
2023/05/20 12:09:16 utility.go:29: Password and hash match.
2023/05/20 12:09:16 handlers.go:137: User found: {ID:1 Username:admin Email:admin@example.com Joined:2023-05-17 15:29:59 Password:$2a$12$nOhLtBhYC0.XOm3IQ37wy.H8Mk8u52Grek4d1UGA0sNbQr4D/ik32 Session: NumberComments:0 NumberPosts:0}
2023/05/20 12:09:16 handlers.go:138: Authentication condition reached.
2023/05/20 12:09:16 handlers.go:355: AllPostsHandler reached.
2023/05/20 12:09:16 handlers.go:355: AllPostsHandler reached.
2023/05/20 12:09:16 handlers.go:252: Serving websocket.
2023/05/20 12:09:16 handlers.go:27: Checking origin: https://localhost
2023/05/20 12:09:16 handlers.go:260: Decoding request body.
2023/05/20 12:09:16 handlers.go:261: ServeWS request body:  {}
2023/05/20 12:09:16 handlers.go:273: Session Id in ServeWS:  eaf3ad26-d62a-4bd0-9768-4160ba6b2e25
2023/05/20 12:09:16 handlers.go:287: Client does not exist.
2023/05/20 12:09:16 ws-client.go:44: New client connected.
2023/05/20 12:09:16 ws-manager.go:100: Client: 127.0.0.1:58558 added to manager.
2023/05/20 12:09:16 ws-client.go:65: Client IP and client port num.:  127.0.0.1:58558
2023/05/20 12:09:16 ws-client.go:89: Client read message from:  127.0.0.1:58558
2023/05/20 12:09:16 ws-manager.go:64: Adding user info: {user-connect {"otp":"882b1493-e821-4f93-88b6-57fd070a1030","id":1,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":false}}
2023/05/20 12:09:25 ws-client.go:181: Ping sent to client: 127.0.0.1:58558
2023/05/20 12:09:25 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 12:09:33 handlers.go:191: Logout POST request received.
2023/05/20 12:09:33 handlers.go:206: Manager's clients:  map[0xc0002d4070:true]
2023/05/20 12:09:33 handlers.go:209: Client found.
2023/05/20 12:09:33 handlers.go:213: Session cookie found. User logged in.
2023/05/20 12:09:33 ws-client.go:89: Client read message from:  127.0.0.1:58558
2023/05/20 12:09:33 ws-client.go:91: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:58558: use of closed network connection
2023/05/20 12:09:34 ws-client.go:178: Client connection is nil.
2023/05/20 12:10:04 handlers.go:311: Registering user: &{[] %!s(*http.http2stream=&{0xc000146820 79 0xc00048a360 0xc0004b4240 0xc0004a8320 0x4f85e0 116 116 {[] 12582912 0xc0001468a0} {[] 1048460 0xc0001468b0} 3 false false false <nil> <nil> <nil> map[] map[]}) %!s(*http.http2serverConn=&{0xc00007c230 0xc00014c000 0xc000128700 0xc000012318 {0xc00007f440 0xc000128700 {0xc00014c000}} 0xc00007f7d0 0xc000148620 0xc000024420 0xc000024360 0xc000208660 0xc000208720 0xc0000243c0 0xc0002086c0 {[] 12450081 <nil>} {[] 1048460 <nil>} 0xc00012e370 127.0.0.1:49950 0xc000148540 0 true false true false 0 0 4294967295 250 1 0 79 0 map[79:0xc0004b2210] 131072 16384 0 map[dnt:Dnt pragma:Pragma sec-fetch-dest:Sec-Fetch-Dest sec-fetch-mode:Sec-Fetch-Mode sec-fetch-site:Sec-Fetch-Site sec-fetch-user:Sec-Fetch-User te:Te upgrade-insecure-requests:Upgrade-Insecure-Requests] 984 false false false false false false 0 <nil> <nil> {[136 207 193 97 150 220 52 253 40 32 41 160 126 148 16 4 202 128 126 224 31 184 203 42 98 209 191] 0 0} 0xc00014a500 {0 {0 0}}}) {%!s(uint32=0) {%!s(int32=0) %!s(uint32=0)}} %!s(bool=false) %!s(*http.http2pipe=&{{0 0} {{} 0xc00048a360 {0 0 0 <nil> <nil>} 824638481304} 0xc000072600 0 0xb287e0 <nil> <nil> 0x6c14e0}) %!s(bool=false)}
2023/05/20 12:10:04 handlers.go:342: User registered result: {%!s(*sql.driverConn=&{0xc00010eea0 {13912254111547429433 11572995911 0xb6dea0} {0 0} 0xc000208a80 true false false map[] false {13912254196204111731 90404074043 0xb6dea0} [] false}) %!s(*sqlite3.SQLiteResult=&{2 1})}
2023/05/20 12:10:29 handlers.go:311: Registering user: &{[] %!s(*http.http2stream=&{0xc000146820 81 0xc0002d02d0 0xc000024300 0xc00023a0f0 0x4f85e0 116 116 {[] 12582912 0xc0001468a0} {[] 1048460 0xc0001468b0} 3 false false false <nil> <nil> <nil> map[] map[]}) %!s(*http.http2serverConn=&{0xc00007c230 0xc00014c000 0xc000128700 0xc000012318 {0xc00007f440 0xc000128700 {0xc00014c000}} 0xc00007f7d0 0xc000148620 0xc000024420 0xc000024360 0xc000208660 0xc000208720 0xc0000243c0 0xc0002086c0 {[] 12450057 <nil>} {[] 1048460 <nil>} 0xc00012e370 127.0.0.1:49950 0xc000148540 0 true false true false 0 0 4294967295 250 1 0 81 0 map[81:0xc00012e4d0] 131072 16384 0 map[dnt:Dnt pragma:Pragma sec-fetch-dest:Sec-Fetch-Dest sec-fetch-mode:Sec-Fetch-Mode sec-fetch-site:Sec-Fetch-Site sec-fetch-user:Sec-Fetch-User te:Te upgrade-insecure-requests:Upgrade-Insecure-Requests] 984 false false false false false false 0 <nil> <nil> {[136 204 92 2 50 52 97 150 220 52 253 40 32 41 160 126 148 16 4 202 128 126 224 65 112 13 41 139 70 255] 0 0} 0xc00014a500 {0 {0 0}}}) {%!s(uint32=0) {%!s(int32=0) %!s(uint32=0)}} %!s(bool=false) %!s(*http.http2pipe=&{{0 0} {{} 0xc0002d02d0 {0 0 0 <nil> <nil>} 824636670728} 0xc0000a8180 0 0xb287e0 <nil> <nil> 0x6c14e0}) %!s(bool=false)}
2023/05/20 12:10:30 handlers.go:342: User registered result: {%!s(*sql.driverConn=&{0xc00010eea0 {13912254111547429433 11572995911 0xb6dea0} {0 0} 0xc000208a80 true false false map[] false {13912254223700151434 115982826322 0xb6dea0} [] false}) %!s(*sqlite3.SQLiteResult=&{3 1})}
2023/05/20 12:34:35 main.go:41: Server stopped.
