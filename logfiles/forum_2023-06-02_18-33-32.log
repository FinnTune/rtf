2023/06/02 18:20:43 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/02 18:20:43 main.go:128: New Forum Begun
2023/06/02 18:20:43 sqlFuncs.go:18: Database opened successfully.
2023/06/02 18:20:43 main.go:57: File Servers Started.
2023/06/02 18:20:43 main.go:68: Handlers Started.
2023/06/02 18:20:43 main.go:104: Server Started and listening on port :443.
2023/06/02 18:20:48 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:20:48 main.go:77: Cookie exists.
2023/06/02 18:20:49 handlers.go:41: Checking login status.
2023/06/02 18:20:49 handlers.go:56: Manager's clients:  map[]
2023/06/02 18:20:49 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:20:49 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:20:49 main.go:77: Cookie exists.
2023/06/02 18:20:50 handlers.go:41: Checking login status.
2023/06/02 18:20:50 handlers.go:56: Manager's clients:  map[]
2023/06/02 18:20:50 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:20:56 handlers.go:41: Checking login status.
2023/06/02 18:20:56 handlers.go:56: Manager's clients:  map[]
2023/06/02 18:20:56 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:20:56 handlers.go:108: Login handler reached.
2023/06/02 18:20:56 handlers.go:124: Login POST request received.
2023/06/02 18:20:56 utility.go:29: Password and hash match.
2023/06/02 18:20:56 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-02 12:28:02 Password:$2a$12$w9ii3aHQcYnJSgkSCskjM.WopLVDCQZHomxfIL8UwQSuSjmPN0kNy Session: NumberComments:0 NumberPosts:0}
2023/06/02 18:20:56 handlers.go:144: Authentication condition reached.
2023/06/02 18:20:56 handlers.go:145: User Login list:  map[]
2023/06/02 18:20:56 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:20:56 handlers.go:270: Serving websocket.
2023/06/02 18:20:56 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:20:56 handlers.go:278: Decoding request body.
2023/06/02 18:20:56 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:20:56 handlers.go:307: Client does not exist.
2023/06/02 18:20:56 ws-client.go:44: New client connected.
2023/06/02 18:20:56 ws-manager.go:233: Client: 127.0.0.1:41426 added to manager.
2023/06/02 18:20:56 ws-client.go:65: Client IP and client port num.:  127.0.0.1:41426
2023/06/02 18:20:56 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:20:56 ws-client.go:90: Client read message from:  127.0.0.1:41426
2023/06/02 18:20:56 ws-manager.go:75: Adding user info: {user-connect {"otp":"395ad14c-0f12-4af7-aa33-4aeeb46ee9cf","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":false}}
2023/06/02 18:20:56 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/02 18:20:56 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/02 18:20:56 ws-client.go:177: Message sent to client: 127.0.0.1:41426 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/02 18:21:03 handlers.go:41: Checking login status.
2023/06/02 18:21:03 handlers.go:56: Manager's clients:  map[0xc0001417a0:true]
2023/06/02 18:21:03 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:21:03 handlers.go:108: Login handler reached.
2023/06/02 18:21:03 handlers.go:124: Login POST request received.
2023/06/02 18:21:03 utility.go:29: Password and hash match.
2023/06/02 18:21:03 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-02 12:28:24 Password:$2a$12$k1hUhG0PwPea1UQP6jLGxuI1xeFVg/qaOYKJz58RJ6kQJKgbOLVwm Session: NumberComments:0 NumberPosts:0}
2023/06/02 18:21:03 handlers.go:144: Authentication condition reached.
2023/06/02 18:21:03 handlers.go:145: User Login list:  map[admin:true]
2023/06/02 18:21:03 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:21:03 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:21:03 handlers.go:270: Serving websocket.
2023/06/02 18:21:03 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:21:03 handlers.go:278: Decoding request body.
2023/06/02 18:21:03 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:21:03 handlers.go:307: Client does not exist.
2023/06/02 18:21:03 ws-client.go:44: New client connected.
2023/06/02 18:21:03 ws-manager.go:233: Client: 127.0.0.1:36902 added to manager.
2023/06/02 18:21:03 ws-client.go:65: Client IP and client port num.:  127.0.0.1:36902
2023/06/02 18:21:03 ws-client.go:90: Client read message from:  127.0.0.1:36902
2023/06/02 18:21:03 ws-manager.go:75: Adding user info: {user-connect {"otp":"ae823d2b-4e7f-471f-aca0-e924c5fda448","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":false}}
2023/06/02 18:21:03 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/02 18:21:03 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:21:03 ws-client.go:177: Message sent to client: 127.0.0.1:36902 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:21:03 ws-client.go:177: Message sent to client: 127.0.0.1:41426 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:23:47 ws-client.go:90: Client read message from:  127.0.0.1:41426
2023/06/02 18:23:47 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:23:47 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:23:47 main.go:77: Cookie exists.
2023/06/02 18:23:48 handlers.go:41: Checking login status.
2023/06/02 18:23:48 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:23:48 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:23:48 handlers.go:87: OTP:  fa7e98a5-58cf-430a-aa9c-05924428ed15
2023/06/02 18:23:48 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:23:48 handlers.go:270: Serving websocket.
2023/06/02 18:23:48 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:23:48 handlers.go:278: Decoding request body.
2023/06/02 18:23:48 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:23:48 handlers.go:293: Client already exists.
2023/06/02 18:23:48 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:23:48 ws-client.go:65: Client IP and client port num.:  127.0.0.1:39434
2023/06/02 18:23:48 ws-client.go:90: Client read message from:  127.0.0.1:39434
2023/06/02 18:23:48 ws-manager.go:75: Adding user info: {user-connect {"otp":"fa7e98a5-58cf-430a-aa9c-05924428ed15","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:23:48 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:23:48 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:23:48 ws-client.go:177: Message sent to client: 127.0.0.1:36902 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:23:48 ws-client.go:177: Message sent to client: 127.0.0.1:39434 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:23:50 ws-client.go:90: Client read message from:  127.0.0.1:36902
2023/06/02 18:23:50 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:23:50 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:23:50 main.go:77: Cookie exists.
2023/06/02 18:23:50 handlers.go:41: Checking login status.
2023/06/02 18:23:50 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:23:50 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:23:50 handlers.go:87: OTP:  99c2b859-d9b3-40dc-810d-282d470d2be5
2023/06/02 18:23:51 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:23:51 handlers.go:270: Serving websocket.
2023/06/02 18:23:51 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:23:51 handlers.go:278: Decoding request body.
2023/06/02 18:23:51 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:23:51 handlers.go:293: Client already exists.
2023/06/02 18:23:51 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:23:51 ws-client.go:65: Client IP and client port num.:  127.0.0.1:41724
2023/06/02 18:23:51 ws-client.go:90: Client read message from:  127.0.0.1:41724
2023/06/02 18:23:51 ws-manager.go:75: Adding user info: {user-connect {"otp":"99c2b859-d9b3-40dc-810d-282d470d2be5","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:23:51 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:23:51 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:23:51 ws-client.go:177: Message sent to client: 127.0.0.1:41724 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:23:51 ws-client.go:177: Message sent to client: 127.0.0.1:39434 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:25:44 ws-client.go:90: Client read message from:  127.0.0.1:39434
2023/06/02 18:25:44 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:25:44 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:25:44 main.go:77: Cookie exists.
2023/06/02 18:25:44 ws-client.go:182: Client connection is nil.
2023/06/02 18:25:45 handlers.go:41: Checking login status.
2023/06/02 18:25:45 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:25:45 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:25:45 handlers.go:87: OTP:  b7df550c-0189-4f96-a011-e083924df68b
2023/06/02 18:25:45 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:25:45 handlers.go:270: Serving websocket.
2023/06/02 18:25:45 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:25:45 handlers.go:278: Decoding request body.
2023/06/02 18:25:45 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:25:45 handlers.go:293: Client already exists.
2023/06/02 18:25:45 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:25:45 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50278
2023/06/02 18:25:45 ws-client.go:90: Client read message from:  127.0.0.1:50278
2023/06/02 18:25:45 ws-manager.go:75: Adding user info: {user-connect {"otp":"b7df550c-0189-4f96-a011-e083924df68b","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:25:45 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:25:45 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:25:45 ws-client.go:177: Message sent to client: 127.0.0.1:41724 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:25:45 ws-client.go:177: Message sent to client: 127.0.0.1:50278 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:25:45 ws-client.go:90: Client read message from:  127.0.0.1:41724
2023/06/02 18:25:45 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:25:45 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:25:45 main.go:77: Cookie exists.
2023/06/02 18:25:46 handlers.go:41: Checking login status.
2023/06/02 18:25:46 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:25:46 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:25:46 handlers.go:87: OTP:  788d4b15-9991-4bd1-944f-7233bd8ab179
2023/06/02 18:25:46 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:25:46 handlers.go:270: Serving websocket.
2023/06/02 18:25:46 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:25:46 handlers.go:278: Decoding request body.
2023/06/02 18:25:46 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:25:46 handlers.go:293: Client already exists.
2023/06/02 18:25:46 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:25:46 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50308
2023/06/02 18:25:46 ws-client.go:90: Client read message from:  127.0.0.1:50308
2023/06/02 18:25:46 ws-manager.go:75: Adding user info: {user-connect {"otp":"788d4b15-9991-4bd1-944f-7233bd8ab179","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:25:46 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:25:46 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:25:46 ws-client.go:177: Message sent to client: 127.0.0.1:50308 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:25:46 ws-client.go:177: Message sent to client: 127.0.0.1:50278 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:25:48 ws-client.go:90: Client read message from:  127.0.0.1:50278
2023/06/02 18:25:48 ws-manager.go:116: History Request:  {0 admin usr1 false   0 0}
2023/06/02 18:25:48 ws-manager.go:134: History of Messages:  []
2023/06/02 18:25:48 ws-manager.go:148: History sent to:  admin
2023/06/02 18:25:48 ws-client.go:177: Message sent to client: 127.0.0.1:50278 Message: {"type":"chat_history","payload":null}
2023/06/02 18:28:31 ws-client.go:90: Client read message from:  127.0.0.1:50278
2023/06/02 18:28:31 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:28:32 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:28:32 main.go:77: Cookie exists.
2023/06/02 18:28:32 handlers.go:41: Checking login status.
2023/06/02 18:28:32 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:28:32 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:28:32 handlers.go:87: OTP:  2e180ebe-c8b2-47ed-b4aa-02a8c5003aee
2023/06/02 18:28:32 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:28:32 handlers.go:270: Serving websocket.
2023/06/02 18:28:32 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:28:32 handlers.go:278: Decoding request body.
2023/06/02 18:28:32 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:28:32 handlers.go:293: Client already exists.
2023/06/02 18:28:32 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:28:32 ws-client.go:65: Client IP and client port num.:  127.0.0.1:39878
2023/06/02 18:28:33 ws-client.go:90: Client read message from:  127.0.0.1:39878
2023/06/02 18:28:33 ws-manager.go:75: Adding user info: {user-connect {"otp":"2e180ebe-c8b2-47ed-b4aa-02a8c5003aee","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:28:33 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:28:33 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:28:33 ws-client.go:177: Message sent to client: 127.0.0.1:39878 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:28:33 ws-client.go:177: Message sent to client: 127.0.0.1:50308 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:28:33 ws-client.go:90: Client read message from:  127.0.0.1:50308
2023/06/02 18:28:33 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:28:33 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:28:33 main.go:77: Cookie exists.
2023/06/02 18:28:33 handlers.go:41: Checking login status.
2023/06/02 18:28:33 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:28:33 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:28:33 handlers.go:87: OTP:  dfde4c54-a76c-4656-bde6-5fa4771561da
2023/06/02 18:28:33 ws-client.go:182: Client connection is nil.
2023/06/02 18:28:33 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:28:33 handlers.go:270: Serving websocket.
2023/06/02 18:28:33 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:28:33 handlers.go:278: Decoding request body.
2023/06/02 18:28:33 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:28:33 handlers.go:293: Client already exists.
2023/06/02 18:28:33 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:28:33 ws-client.go:65: Client IP and client port num.:  127.0.0.1:39902
2023/06/02 18:28:34 ws-client.go:90: Client read message from:  127.0.0.1:39902
2023/06/02 18:28:34 ws-manager.go:75: Adding user info: {user-connect {"otp":"dfde4c54-a76c-4656-bde6-5fa4771561da","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:28:34 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:28:34 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:28:34 ws-client.go:177: Message sent to client: 127.0.0.1:39902 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:28:34 ws-client.go:177: Message sent to client: 127.0.0.1:39878 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:29:15 ws-client.go:90: Client read message from:  127.0.0.1:39878
2023/06/02 18:29:15 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:29:15 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:29:15 main.go:77: Cookie exists.
2023/06/02 18:29:16 handlers.go:41: Checking login status.
2023/06/02 18:29:16 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:29:16 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:29:16 handlers.go:87: OTP:  9c54bf38-bdc8-4bc1-a11b-02e0a5cd65d0
2023/06/02 18:29:16 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:29:16 handlers.go:270: Serving websocket.
2023/06/02 18:29:16 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:29:16 handlers.go:278: Decoding request body.
2023/06/02 18:29:16 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:29:16 handlers.go:293: Client already exists.
2023/06/02 18:29:16 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:29:16 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52014
2023/06/02 18:29:16 ws-client.go:90: Client read message from:  127.0.0.1:52014
2023/06/02 18:29:16 ws-manager.go:75: Adding user info: {user-connect {"otp":"9c54bf38-bdc8-4bc1-a11b-02e0a5cd65d0","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:29:16 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:29:16 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:29:16 ws-client.go:177: Message sent to client: 127.0.0.1:52014 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:29:16 ws-client.go:177: Message sent to client: 127.0.0.1:39902 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:29:16 ws-client.go:90: Client read message from:  127.0.0.1:39902
2023/06/02 18:29:16 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:29:16 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:29:16 main.go:77: Cookie exists.
2023/06/02 18:29:16 handlers.go:41: Checking login status.
2023/06/02 18:29:16 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:29:16 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:29:16 handlers.go:87: OTP:  117842d7-afe8-43f9-8cae-81029f2bc88d
2023/06/02 18:29:17 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:29:17 handlers.go:270: Serving websocket.
2023/06/02 18:29:17 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:29:17 handlers.go:278: Decoding request body.
2023/06/02 18:29:17 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:29:17 handlers.go:293: Client already exists.
2023/06/02 18:29:17 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:29:17 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52024
2023/06/02 18:29:17 ws-client.go:90: Client read message from:  127.0.0.1:52024
2023/06/02 18:29:17 ws-manager.go:75: Adding user info: {user-connect {"otp":"117842d7-afe8-43f9-8cae-81029f2bc88d","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:29:17 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:29:17 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:29:17 ws-client.go:177: Message sent to client: 127.0.0.1:52014 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:29:17 ws-client.go:177: Message sent to client: 127.0.0.1:52024 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:29:19 ws-client.go:90: Client read message from:  127.0.0.1:52014
2023/06/02 18:29:19 ws-manager.go:116: History Request:  {0 admin usr1 false   0 0}
2023/06/02 18:29:19 ws-manager.go:134: History of Messages:  []
2023/06/02 18:29:19 ws-manager.go:148: History sent to:  admin
2023/06/02 18:29:19 ws-client.go:177: Message sent to client: 127.0.0.1:52014 Message: {"type":"chat_history","payload":null}
2023/06/02 18:32:25 ws-client.go:90: Client read message from:  127.0.0.1:52014
2023/06/02 18:32:25 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:32:25 ws-client.go:182: Client connection is nil.
2023/06/02 18:32:25 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:32:25 main.go:77: Cookie exists.
2023/06/02 18:32:26 handlers.go:41: Checking login status.
2023/06/02 18:32:26 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:32:26 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:32:26 handlers.go:87: OTP:  a53f430c-f342-4602-8e40-83ae062ba8ce
2023/06/02 18:32:26 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:32:26 handlers.go:270: Serving websocket.
2023/06/02 18:32:26 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:32:26 handlers.go:278: Decoding request body.
2023/06/02 18:32:26 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:32:26 handlers.go:293: Client already exists.
2023/06/02 18:32:26 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:32:26 ws-client.go:65: Client IP and client port num.:  127.0.0.1:45058
2023/06/02 18:32:26 ws-client.go:90: Client read message from:  127.0.0.1:45058
2023/06/02 18:32:26 ws-manager.go:75: Adding user info: {user-connect {"otp":"a53f430c-f342-4602-8e40-83ae062ba8ce","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:32:26 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:32:26 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:32:26 ws-client.go:177: Message sent to client: 127.0.0.1:52024 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:32:26 ws-client.go:177: Message sent to client: 127.0.0.1:45058 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:32:26 ws-client.go:90: Client read message from:  127.0.0.1:52024
2023/06/02 18:32:26 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:32:26 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:32:26 main.go:77: Cookie exists.
2023/06/02 18:32:27 handlers.go:41: Checking login status.
2023/06/02 18:32:27 handlers.go:56: Manager's clients:  map[0xc0001417a0:true 0xc0001b8460:true]
2023/06/02 18:32:27 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:32:27 handlers.go:87: OTP:  06ce9272-a018-4b6e-9b48-be5098fefbe0
2023/06/02 18:32:27 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:32:27 handlers.go:270: Serving websocket.
2023/06/02 18:32:27 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:32:27 handlers.go:278: Decoding request body.
2023/06/02 18:32:27 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:32:27 handlers.go:293: Client already exists.
2023/06/02 18:32:27 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:32:27 ws-client.go:65: Client IP and client port num.:  127.0.0.1:45084
2023/06/02 18:32:27 ws-client.go:90: Client read message from:  127.0.0.1:45084
2023/06/02 18:32:27 ws-manager.go:75: Adding user info: {user-connect {"otp":"06ce9272-a018-4b6e-9b48-be5098fefbe0","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:32:27 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:32:27 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:32:27 ws-client.go:177: Message sent to client: 127.0.0.1:45084 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:32:27 ws-client.go:177: Message sent to client: 127.0.0.1:45058 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:32:30 ws-client.go:90: Client read message from:  127.0.0.1:45058
2023/06/02 18:32:30 ws-manager.go:116: History Request:  {0 admin usr1 false   0 0}
2023/06/02 18:32:30 ws-manager.go:134: History of Messages:  []
2023/06/02 18:32:30 ws-manager.go:148: History sent to:  admin
2023/06/02 18:32:30 ws-client.go:177: Message sent to client: 127.0.0.1:45058 Message: {"type":"chat_history","payload":null}
2023/06/02 18:33:30 main.go:41: Server stopped.
