2023/05/20 15:12:03 main.go:127: Main begun. Log file checked, opened, and set.
2023/05/20 15:12:03 main.go:128: New Forum Begun
2023/05/20 15:12:03 sqlFuncs.go:18: Database opened successfully.
2023/05/20 15:12:03 main.go:57: File Servers Started.
2023/05/20 15:12:03 main.go:68: Handlers Started.
2023/05/20 15:12:03 main.go:104: Server Started and listening on port :443.
2023/05/20 15:12:07 main.go:73: Handling request "/" and serving index.html
2023/05/20 15:12:07 main.go:77: Cookie exists.
2023/05/20 15:12:08 handlers.go:43: Checking login status.
2023/05/20 15:12:08 handlers.go:58: Manager's clients:  map[]
2023/05/20 15:12:08 handlers.go:91: No client found with matching session ID. User not logged in.
2023/05/20 15:12:13 handlers.go:43: Checking login status.
2023/05/20 15:12:13 handlers.go:58: Manager's clients:  map[]
2023/05/20 15:12:13 handlers.go:91: No client found with matching session ID. User not logged in.
2023/05/20 15:12:13 handlers.go:105: Login handler reached.
2023/05/20 15:12:13 handlers.go:121: Login POST request received.
2023/05/20 15:12:13 utility.go:29: Password and hash match.
2023/05/20 15:12:13 handlers.go:140: User found: {ID:1 Username:admin Email:admin@example.com Joined:2023-05-17 15:29:59 Password:$2a$12$nOhLtBhYC0.XOm3IQ37wy.H8Mk8u52Grek4d1UGA0sNbQr4D/ik32 Session: NumberComments:0 NumberPosts:0}
2023/05/20 15:12:13 handlers.go:141: Authentication condition reached.
2023/05/20 15:12:13 handlers.go:142: User Login list:  map[]
2023/05/20 15:12:13 handlers.go:369: AllPostsHandler reached.
2023/05/20 15:12:13 handlers.go:262: Serving websocket.
2023/05/20 15:12:13 handlers.go:27: Checking origin: https://localhost
2023/05/20 15:12:13 handlers.go:270: Decoding request body.
2023/05/20 15:12:13 handlers.go:271: ServeWS request body:  {}
2023/05/20 15:12:13 handlers.go:283: Session Id in ServeWS:  eaf3ad26-d62a-4bd0-9768-4160ba6b2e25
2023/05/20 15:12:13 handlers.go:300: Client does not exist.
2023/05/20 15:12:13 ws-client.go:44: New client connected.
2023/05/20 15:12:13 ws-manager.go:123: Client: 127.0.0.1:34556 added to manager.
2023/05/20 15:12:13 ws-client.go:65: Client IP and client port num.:  127.0.0.1:34556
2023/05/20 15:12:13 handlers.go:369: AllPostsHandler reached.
2023/05/20 15:12:13 ws-client.go:89: Client read message from:  127.0.0.1:34556
2023/05/20 15:12:13 ws-manager.go:64: Adding user info: {user-connect {"otp":"37d0dcd0-0154-4ac8-a508-a2dac9058b1e","id":1,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":false}}
2023/05/20 15:12:13 ws-manager.go:82: User: admin added to LoggedInList:  map[admin:true]
2023/05/20 15:12:13 ws-client.go:173: Message sent to client: 127.0.0.1:34556 Message: {"type":"users-online","payload":{"admin":true}}
2023/05/20 15:12:17 main.go:73: Handling request "/" and serving index.html
2023/05/20 15:12:17 main.go:77: Cookie exists.
2023/05/20 15:12:18 handlers.go:43: Checking login status.
2023/05/20 15:12:18 handlers.go:58: Manager's clients:  map[0xc0002a8cb0:true]
2023/05/20 15:12:18 handlers.go:91: No client found with matching session ID. User not logged in.
2023/05/20 15:12:22 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:12:22 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:12:24 handlers.go:43: Checking login status.
2023/05/20 15:12:24 handlers.go:58: Manager's clients:  map[0xc0002a8cb0:true]
2023/05/20 15:12:24 handlers.go:91: No client found with matching session ID. User not logged in.
2023/05/20 15:12:24 handlers.go:105: Login handler reached.
2023/05/20 15:12:24 handlers.go:121: Login POST request received.
2023/05/20 15:12:24 utility.go:29: Password and hash match.
2023/05/20 15:12:24 handlers.go:140: User found: {ID:2 Username:usr1 Email:usr1@example.com Joined:2023-05-20 12:10:04 Password:$2a$12$SancqnbK.EjBxHY8VwtBte/kDsqrvSGSz3idKw0rqhif5pvQ5vI8i Session: NumberComments:0 NumberPosts:0}
2023/05/20 15:12:24 handlers.go:141: Authentication condition reached.
2023/05/20 15:12:24 handlers.go:142: User Login list:  map[admin:true]
2023/05/20 15:12:24 handlers.go:369: AllPostsHandler reached.
2023/05/20 15:12:24 handlers.go:369: AllPostsHandler reached.
2023/05/20 15:12:24 handlers.go:262: Serving websocket.
2023/05/20 15:12:24 handlers.go:27: Checking origin: https://localhost
2023/05/20 15:12:24 handlers.go:270: Decoding request body.
2023/05/20 15:12:24 handlers.go:271: ServeWS request body:  {}
2023/05/20 15:12:24 handlers.go:283: Session Id in ServeWS:  30b16e0a-0f30-4489-b0b1-0576e418168e
2023/05/20 15:12:24 handlers.go:300: Client does not exist.
2023/05/20 15:12:24 ws-client.go:44: New client connected.
2023/05/20 15:12:24 ws-manager.go:123: Client: 127.0.0.1:33004 added to manager.
2023/05/20 15:12:24 ws-client.go:65: Client IP and client port num.:  127.0.0.1:33004
2023/05/20 15:12:24 ws-client.go:89: Client read message from:  127.0.0.1:33004
2023/05/20 15:12:24 ws-manager.go:64: Adding user info: {user-connect {"otp":"1aedd203-777a-4bd4-8f53-aafd08222a7a","id":2,"username":"usr1","email":"usr1@example.com","joined":"2023-05-20 12:10:04","loggedIn":false}}
2023/05/20 15:12:24 ws-manager.go:82: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/05/20 15:12:24 ws-client.go:173: Message sent to client: 127.0.0.1:34556 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/20 15:12:24 ws-client.go:173: Message sent to client: 127.0.0.1:33004 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/20 15:12:31 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:12:31 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:12:33 ws-client.go:181: Ping sent to client: 127.0.0.1:33004
2023/05/20 15:12:33 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:12:33 handlers.go:198: Logout POST request received.
2023/05/20 15:12:33 handlers.go:213: Manager's clients:  map[0xc0002a8cb0:true 0xc0003a2850:true]
2023/05/20 15:12:33 handlers.go:216: Client found.
2023/05/20 15:12:33 handlers.go:222: Logged in users:  map[admin:true]
2023/05/20 15:12:33 handlers.go:223: Session cookie found. User logged in.
2023/05/20 15:12:33 ws-client.go:89: Client read message from:  127.0.0.1:33004
2023/05/20 15:12:33 ws-client.go:91: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:33004: use of closed network connection
2023/05/20 15:12:40 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:12:40 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:12:42 ws-client.go:178: Client connection is nil.
2023/05/20 15:12:48 ws-client.go:89: Client read message from:  127.0.0.1:34556
2023/05/20 15:12:48 ws-manager.go:37: Event/message sent: {new-message {"message":"sdkjsbgd","from":"admin"}}
2023/05/20 15:12:48 ws-client.go:173: Message sent to client: 127.0.0.1:34556 Message: {"type":"sent-message","payload":{"message":"sdkjsbgd","from":"admin","sent":"2023-05-20T15:12:48.415982514+03:00"}}
2023/05/20 15:12:49 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:12:49 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:12:58 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:12:58 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:13:07 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:13:07 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:13:16 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:13:16 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:13:25 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:13:25 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:13:34 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:13:34 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:13:43 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:13:43 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:13:52 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:13:52 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:01 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:14:01 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:10 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:14:10 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:19 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:14:19 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:28 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:14:28 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:37 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:14:37 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:46 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:14:46 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:53 main.go:73: Handling request "/" and serving index.html
2023/05/20 15:14:53 main.go:77: Cookie exists.
2023/05/20 15:14:54 handlers.go:43: Checking login status.
2023/05/20 15:14:54 handlers.go:58: Manager's clients:  map[0xc0002a8cb0:true]
2023/05/20 15:14:54 handlers.go:91: No client found with matching session ID. User not logged in.
2023/05/20 15:14:55 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:14:55 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:14:59 handlers.go:43: Checking login status.
2023/05/20 15:14:59 handlers.go:58: Manager's clients:  map[0xc0002a8cb0:true]
2023/05/20 15:14:59 handlers.go:91: No client found with matching session ID. User not logged in.
2023/05/20 15:14:59 handlers.go:105: Login handler reached.
2023/05/20 15:14:59 handlers.go:121: Login POST request received.
2023/05/20 15:14:59 utility.go:29: Password and hash match.
2023/05/20 15:14:59 handlers.go:140: User found: {ID:2 Username:usr1 Email:usr1@example.com Joined:2023-05-20 12:10:04 Password:$2a$12$SancqnbK.EjBxHY8VwtBte/kDsqrvSGSz3idKw0rqhif5pvQ5vI8i Session: NumberComments:0 NumberPosts:0}
2023/05/20 15:14:59 handlers.go:141: Authentication condition reached.
2023/05/20 15:14:59 handlers.go:142: User Login list:  map[admin:true]
2023/05/20 15:14:59 handlers.go:369: AllPostsHandler reached.
2023/05/20 15:14:59 handlers.go:369: AllPostsHandler reached.
2023/05/20 15:14:59 handlers.go:262: Serving websocket.
2023/05/20 15:14:59 handlers.go:27: Checking origin: https://localhost
2023/05/20 15:14:59 handlers.go:270: Decoding request body.
2023/05/20 15:14:59 handlers.go:271: ServeWS request body:  {}
2023/05/20 15:14:59 handlers.go:283: Session Id in ServeWS:  30b16e0a-0f30-4489-b0b1-0576e418168e
2023/05/20 15:14:59 handlers.go:300: Client does not exist.
2023/05/20 15:14:59 ws-client.go:44: New client connected.
2023/05/20 15:14:59 ws-manager.go:123: Client: 127.0.0.1:57602 added to manager.
2023/05/20 15:14:59 ws-client.go:65: Client IP and client port num.:  127.0.0.1:57602
2023/05/20 15:14:59 ws-client.go:89: Client read message from:  127.0.0.1:57602
2023/05/20 15:14:59 ws-manager.go:64: Adding user info: {user-connect {"otp":"601002c5-eb8b-4f3c-b83d-e13aa1ac8a1f","id":2,"username":"usr1","email":"usr1@example.com","joined":"2023-05-20 12:10:04","loggedIn":false}}
2023/05/20 15:14:59 ws-manager.go:82: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/05/20 15:14:59 ws-client.go:173: Message sent to client: 127.0.0.1:57602 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/20 15:14:59 ws-client.go:173: Message sent to client: 127.0.0.1:34556 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/20 15:15:04 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:15:04 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:15:08 ws-client.go:181: Ping sent to client: 127.0.0.1:57602
2023/05/20 15:15:08 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:15:13 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:15:13 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:15:16 handlers.go:198: Logout POST request received.
2023/05/20 15:15:16 handlers.go:213: Manager's clients:  map[0xc0002a8cb0:true 0xc0003a32d0:true]
2023/05/20 15:15:16 handlers.go:216: Client found.
2023/05/20 15:15:16 handlers.go:222: Logged in users:  map[admin:true]
2023/05/20 15:15:16 handlers.go:223: Session cookie found. User logged in.
2023/05/20 15:15:16 ws-client.go:89: Client read message from:  127.0.0.1:57602
2023/05/20 15:15:16 ws-client.go:91: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:57602: use of closed network connection
2023/05/20 15:15:17 ws-client.go:178: Client connection is nil.
2023/05/20 15:15:22 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:15:22 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:15:31 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:15:31 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:15:40 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:15:40 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:15:49 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:15:49 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:15:58 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:15:58 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:16:07 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:16:07 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:16:16 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:16:16 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:16:25 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:16:25 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:16:34 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:16:34 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:16:43 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:16:43 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:16:52 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:16:52 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:17:01 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:17:01 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:17:10 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:17:10 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:17:19 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:17:19 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:17:28 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:17:28 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:17:37 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:17:37 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:17:46 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:17:46 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:17:55 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:17:55 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:18:04 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:18:04 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:18:13 ws-client.go:181: Ping sent to client: 127.0.0.1:34556
2023/05/20 15:18:13 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/20 15:18:17 main.go:41: Server stopped.
