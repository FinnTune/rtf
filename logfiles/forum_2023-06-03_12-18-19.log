2023/06/03 12:06:45 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/03 12:06:45 main.go:128: New Forum Begun
2023/06/03 12:06:45 sqlFuncs.go:18: Database opened successfully.
2023/06/03 12:06:45 main.go:57: File Servers Started.
2023/06/03 12:06:45 main.go:68: Handlers Started.
2023/06/03 12:06:45 main.go:104: Server Started and listening on port :443.
2023/06/03 12:06:47 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:06:47 main.go:77: Cookie exists.
2023/06/03 12:06:48 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:06:48 main.go:77: Cookie exists.
2023/06/03 12:06:49 handlers.go:41: Checking login status.
2023/06/03 12:06:49 handlers.go:56: Manager's clients:  map[]
2023/06/03 12:06:49 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:06:50 handlers.go:41: Checking login status.
2023/06/03 12:06:50 handlers.go:56: Manager's clients:  map[]
2023/06/03 12:06:50 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:06:55 handlers.go:41: Checking login status.
2023/06/03 12:06:55 handlers.go:56: Manager's clients:  map[]
2023/06/03 12:06:55 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:06:55 handlers.go:108: Login handler reached.
2023/06/03 12:06:55 handlers.go:124: Login POST request received.
2023/06/03 12:06:55 utility.go:29: Password and hash match.
2023/06/03 12:06:55 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/03 12:06:55 handlers.go:144: Authentication condition reached.
2023/06/03 12:06:55 handlers.go:145: User Login list:  map[]
2023/06/03 12:06:55 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:06:56 handlers.go:270: Serving websocket.
2023/06/03 12:06:56 handlers.go:30: Checking origin: https://localhost
2023/06/03 12:06:56 handlers.go:278: Decoding request body.
2023/06/03 12:06:56 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/03 12:06:56 handlers.go:307: Client does not exist.
2023/06/03 12:06:56 ws-client.go:44: New client connected.
2023/06/03 12:06:56 ws-manager.go:252: Client: 127.0.0.1:40216 added to manager.
2023/06/03 12:06:56 ws-client.go:65: Client IP and client port num.:  127.0.0.1:40216
2023/06/03 12:06:56 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:06:56 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:06:56 ws-manager.go:75: Adding user info: {user-connect {"otp":"c1138a3e-ba31-4ca7-ae06-a86561e90f22","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":false}}
2023/06/03 12:06:56 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/03 12:06:56 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/03 12:06:56 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 12:07:02 handlers.go:41: Checking login status.
2023/06/03 12:07:02 handlers.go:56: Manager's clients:  map[0xc000217b90:true]
2023/06/03 12:07:02 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:07:02 handlers.go:108: Login handler reached.
2023/06/03 12:07:02 handlers.go:124: Login POST request received.
2023/06/03 12:07:02 utility.go:29: Password and hash match.
2023/06/03 12:07:02 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-03 10:43:21 Password:$2a$12$FaCwYszH42rBSTCpi0zg7OVHHT/YBpMai/bVrCGiZt.emSe8QmJxS Session: NumberComments:0 NumberPosts:0}
2023/06/03 12:07:02 handlers.go:144: Authentication condition reached.
2023/06/03 12:07:02 handlers.go:145: User Login list:  map[admin:true]
2023/06/03 12:07:02 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:07:02 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:07:02 handlers.go:270: Serving websocket.
2023/06/03 12:07:02 handlers.go:30: Checking origin: https://localhost
2023/06/03 12:07:02 handlers.go:278: Decoding request body.
2023/06/03 12:07:02 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/03 12:07:02 handlers.go:307: Client does not exist.
2023/06/03 12:07:02 ws-client.go:44: New client connected.
2023/06/03 12:07:02 ws-manager.go:252: Client: 127.0.0.1:60894 added to manager.
2023/06/03 12:07:02 ws-client.go:65: Client IP and client port num.:  127.0.0.1:60894
2023/06/03 12:07:02 ws-client.go:90: Client read message from:  127.0.0.1:60894
2023/06/03 12:07:02 ws-manager.go:75: Adding user info: {user-connect {"otp":"3ab1ad90-d3af-4ec7-bc2e-a049bce63277","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":false}}
2023/06/03 12:07:02 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/03 12:07:02 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:07:02 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:07:02 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:07:07 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:07 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 12:07:07 ws-manager.go:153: History of Messages:  [{21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0}]
2023/06/03 12:07:07 ws-manager.go:167: History sent to:  admin
2023/06/03 12:07:07 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"chat_history","payload":[{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0}]}
2023/06/03 12:07:52 ws-client.go:90: Client read message from:  127.0.0.1:60894
2023/06/03 12:07:52 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 12:07:52 ws-manager.go:153: History of Messages:  [{21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0}]
2023/06/03 12:07:52 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:07:52 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"chat_history","payload":[{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0}]}
2023/06/03 12:07:56 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:56 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:56 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:56 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:56 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:56 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:56 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:56 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:56 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:56 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:57 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:57 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:57 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:57 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:57 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:57 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:57 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:57 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:57 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:57 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:57 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:57 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:57 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:57 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:58 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:58 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:58 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:59 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:59 ws-manager.go:218: History sent to:  usr1
2023/06/03 12:07:59 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:07:59 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:07:59 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:07:59 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:08:00 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:00 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:08:00 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:08:01 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:01 ws-manager.go:193: History sent to:  usr1
2023/06/03 12:08:01 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:08:02 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:02 ws-manager.go:218: History sent to:  usr1
2023/06/03 12:08:02 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 12:08:02 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:02 ws-manager.go:38: Event/message sent: {new-message {"message":"daguhsguhsdg","from":"admin","to":"usr1","sent":1685783282324}}
2023/06/03 12:08:02 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"sent-message","payload":{"message":"daguhsguhsdg","from":"admin","to":"usr1","sent":"2023-06-03T12:08:02.346644111+03:00"}}
2023/06/03 12:08:05 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:05 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 12:08:05 ws-manager.go:153: History of Messages:  [{12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0} {14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0}]
2023/06/03 12:08:05 ws-manager.go:167: History sent to:  admin
2023/06/03 12:08:05 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"chat_history","payload":[{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0},{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0}]}
2023/06/03 12:08:10 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:10 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 12:08:10 ws-manager.go:153: History of Messages:  [{2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0} {4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0}]
2023/06/03 12:08:10 ws-manager.go:167: History sent to:  admin
2023/06/03 12:08:10 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"chat_history","payload":[{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0}]}
2023/06/03 12:08:14 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:14 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/03 12:08:14 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0}]
2023/06/03 12:08:14 ws-manager.go:167: History sent to:  admin
2023/06/03 12:08:14 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0}]}
2023/06/03 12:08:17 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:17 ws-manager.go:116: History Request:  {0 admin usr1 false   10 40}
2023/06/03 12:08:17 ws-manager.go:153: History of Messages:  []
2023/06/03 12:08:17 ws-manager.go:167: History sent to:  admin
2023/06/03 12:08:17 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"chat_history","payload":null}
2023/06/03 12:08:20 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:08:20 ws-manager.go:116: History Request:  {0 admin usr1 false   10 50}
2023/06/03 12:08:20 ws-manager.go:153: History of Messages:  []
2023/06/03 12:08:20 ws-manager.go:167: History sent to:  admin
2023/06/03 12:08:20 ws-client.go:177: Message sent to client: 127.0.0.1:40216 Message: {"type":"chat_history","payload":null}
2023/06/03 12:08:22 ws-client.go:90: Client read message from:  127.0.0.1:60894
2023/06/03 12:08:22 ws-manager.go:116: History Request:  {0 usr1 admin false   10 10}
2023/06/03 12:08:22 ws-manager.go:153: History of Messages:  [{12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0} {14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0}]
2023/06/03 12:08:22 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:08:22 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"chat_history","payload":[{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0},{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0}]}
2023/06/03 12:08:24 ws-client.go:90: Client read message from:  127.0.0.1:60894
2023/06/03 12:08:24 ws-manager.go:116: History Request:  {0 usr1 admin false   10 20}
2023/06/03 12:08:24 ws-manager.go:153: History of Messages:  [{2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0} {4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0}]
2023/06/03 12:08:24 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:08:24 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"chat_history","payload":[{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0}]}
2023/06/03 12:08:27 ws-client.go:90: Client read message from:  127.0.0.1:60894
2023/06/03 12:08:27 ws-manager.go:116: History Request:  {0 usr1 admin false   10 30}
2023/06/03 12:08:27 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0}]
2023/06/03 12:08:27 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:08:27 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0}]}
2023/06/03 12:11:27 ws-client.go:90: Client read message from:  127.0.0.1:40216
2023/06/03 12:11:27 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 12:11:27 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:11:27 main.go:77: Cookie exists.
2023/06/03 12:11:29 handlers.go:41: Checking login status.
2023/06/03 12:11:29 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:11:29 handlers.go:67: Session cookie found. User logged in
2023/06/03 12:11:29 handlers.go:87: OTP:  50dcf21a-8f2e-465b-b3c1-86bbab6f7276
2023/06/03 12:11:29 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:11:29 handlers.go:270: Serving websocket.
2023/06/03 12:11:29 handlers.go:30: Checking origin: https://localhost
2023/06/03 12:11:29 handlers.go:278: Decoding request body.
2023/06/03 12:11:29 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/03 12:11:29 handlers.go:293: Client already exists.
2023/06/03 12:11:29 handlers.go:294: ClientUName Debug:  admin
2023/06/03 12:11:29 ws-client.go:65: Client IP and client port num.:  127.0.0.1:48734
2023/06/03 12:11:29 ws-client.go:90: Client read message from:  127.0.0.1:48734
2023/06/03 12:11:29 ws-manager.go:75: Adding user info: {user-connect {"otp":"50dcf21a-8f2e-465b-b3c1-86bbab6f7276","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 12:11:29 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:11:29 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:11:29 ws-client.go:177: Message sent to client: 127.0.0.1:60894 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:11:29 ws-client.go:177: Message sent to client: 127.0.0.1:48734 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:11:29 ws-client.go:90: Client read message from:  127.0.0.1:60894
2023/06/03 12:11:29 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 12:11:29 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:11:29 main.go:77: Cookie exists.
2023/06/03 12:11:30 handlers.go:41: Checking login status.
2023/06/03 12:11:30 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:11:30 handlers.go:67: Session cookie found. User logged in
2023/06/03 12:11:30 handlers.go:87: OTP:  fbaf00ed-8feb-4b50-b7c6-ac6cf4b2c596
2023/06/03 12:11:30 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:11:30 handlers.go:270: Serving websocket.
2023/06/03 12:11:30 handlers.go:30: Checking origin: https://localhost
2023/06/03 12:11:30 handlers.go:278: Decoding request body.
2023/06/03 12:11:30 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/03 12:11:30 handlers.go:293: Client already exists.
2023/06/03 12:11:30 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 12:11:30 ws-client.go:65: Client IP and client port num.:  127.0.0.1:48748
2023/06/03 12:11:30 ws-client.go:90: Client read message from:  127.0.0.1:48748
2023/06/03 12:11:30 ws-manager.go:75: Adding user info: {user-connect {"otp":"fbaf00ed-8feb-4b50-b7c6-ac6cf4b2c596","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 12:11:30 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:11:30 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:11:30 ws-client.go:177: Message sent to client: 127.0.0.1:48748 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:11:30 ws-client.go:177: Message sent to client: 127.0.0.1:48734 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:11:33 ws-client.go:90: Client read message from:  127.0.0.1:48734
2023/06/03 12:11:33 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 12:11:33 ws-manager.go:153: History of Messages:  [{22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0}]
2023/06/03 12:11:33 ws-manager.go:167: History sent to:  admin
2023/06/03 12:11:33 ws-client.go:177: Message sent to client: 127.0.0.1:48734 Message: {"type":"chat_history","payload":[{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0}]}
2023/06/03 12:14:11 ws-client.go:90: Client read message from:  127.0.0.1:48748
2023/06/03 12:14:11 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 12:14:11 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:14:11 main.go:77: Cookie exists.
2023/06/03 12:14:11 handlers.go:41: Checking login status.
2023/06/03 12:14:11 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:14:11 handlers.go:67: Session cookie found. User logged in
2023/06/03 12:14:11 handlers.go:87: OTP:  20e227fb-3a80-452e-9c1b-624a097d362b
2023/06/03 12:14:12 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:14:12 handlers.go:270: Serving websocket.
2023/06/03 12:14:12 handlers.go:30: Checking origin: https://localhost
2023/06/03 12:14:12 handlers.go:278: Decoding request body.
2023/06/03 12:14:12 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/03 12:14:12 handlers.go:293: Client already exists.
2023/06/03 12:14:12 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 12:14:12 ws-client.go:65: Client IP and client port num.:  127.0.0.1:33562
2023/06/03 12:14:12 ws-client.go:90: Client read message from:  127.0.0.1:33562
2023/06/03 12:14:12 ws-manager.go:75: Adding user info: {user-connect {"otp":"20e227fb-3a80-452e-9c1b-624a097d362b","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 12:14:12 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:14:12 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:14:12 ws-client.go:177: Message sent to client: 127.0.0.1:48734 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:14:12 ws-client.go:177: Message sent to client: 127.0.0.1:33562 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:14:15 ws-client.go:90: Client read message from:  127.0.0.1:33562
2023/06/03 12:14:15 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 12:14:15 ws-manager.go:153: History of Messages:  [{22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0}]
2023/06/03 12:14:15 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:14:15 ws-client.go:177: Message sent to client: 127.0.0.1:33562 Message: {"type":"chat_history","payload":[{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0}]}
2023/06/03 12:16:34 ws-client.go:90: Client read message from:  127.0.0.1:33562
2023/06/03 12:16:34 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 12:16:34 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:16:34 main.go:77: Cookie exists.
2023/06/03 12:16:35 handlers.go:41: Checking login status.
2023/06/03 12:16:35 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:16:35 handlers.go:67: Session cookie found. User logged in
2023/06/03 12:16:35 handlers.go:87: OTP:  43a300fb-bb47-4174-b1bf-cc0fa4659c07
2023/06/03 12:16:35 handlers.go:376: AllPostsHandler reached.
2023/06/03 12:16:35 handlers.go:270: Serving websocket.
2023/06/03 12:16:35 handlers.go:30: Checking origin: https://localhost
2023/06/03 12:16:35 handlers.go:278: Decoding request body.
2023/06/03 12:16:35 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/03 12:16:35 handlers.go:293: Client already exists.
2023/06/03 12:16:35 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 12:16:35 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50500
2023/06/03 12:16:35 ws-client.go:90: Client read message from:  127.0.0.1:50500
2023/06/03 12:16:35 ws-manager.go:75: Adding user info: {user-connect {"otp":"43a300fb-bb47-4174-b1bf-cc0fa4659c07","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 12:16:35 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:16:35 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 12:16:35 ws-client.go:177: Message sent to client: 127.0.0.1:48734 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:16:35 ws-client.go:177: Message sent to client: 127.0.0.1:50500 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 12:16:39 ws-client.go:90: Client read message from:  127.0.0.1:50500
2023/06/03 12:16:39 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 12:16:39 ws-manager.go:153: History of Messages:  [{22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0}]
2023/06/03 12:16:39 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:16:39 ws-client.go:177: Message sent to client: 127.0.0.1:50500 Message: {"type":"chat_history","payload":[{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0}]}
2023/06/03 12:16:44 ws-client.go:90: Client read message from:  127.0.0.1:50500
2023/06/03 12:16:44 ws-manager.go:116: History Request:  {0 usr1 admin false   10 10}
2023/06/03 12:16:44 ws-manager.go:153: History of Messages:  [{12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0} {14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0}]
2023/06/03 12:16:44 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:16:44 ws-client.go:177: Message sent to client: 127.0.0.1:50500 Message: {"type":"chat_history","payload":[{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0},{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0}]}
2023/06/03 12:16:48 ws-client.go:90: Client read message from:  127.0.0.1:50500
2023/06/03 12:16:48 ws-manager.go:116: History Request:  {0 usr1 admin false   10 20}
2023/06/03 12:16:48 ws-manager.go:153: History of Messages:  [{2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0} {4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0}]
2023/06/03 12:16:48 ws-manager.go:167: History sent to:  usr1
2023/06/03 12:16:48 ws-client.go:177: Message sent to client: 127.0.0.1:50500 Message: {"type":"chat_history","payload":[{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0}]}
2023/06/03 12:17:14 ws-client.go:90: Client read message from:  127.0.0.1:48734
2023/06/03 12:17:14 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 12:17:14 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:17:14 main.go:79: Cookie does not exist. Creating cookie.
2023/06/03 12:17:15 handlers.go:41: Checking login status.
2023/06/03 12:17:15 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:17:15 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:17:17 ws-client.go:182: Client connection is nil.
2023/06/03 12:17:20 ws-client.go:182: Client connection is nil.
2023/06/03 12:17:21 handlers.go:41: Checking login status.
2023/06/03 12:17:21 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:17:21 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:17:21 handlers.go:108: Login handler reached.
2023/06/03 12:17:21 handlers.go:124: Login POST request received.
2023/06/03 12:17:22 utility.go:29: Password and hash match.
2023/06/03 12:17:22 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/03 12:17:22 handlers.go:144: Authentication condition reached.
2023/06/03 12:17:22 handlers.go:145: User Login list:  map[usr1:true]
2023/06/03 12:17:22 handlers.go:152: Client already logged in.
2023/06/03 12:17:22 h2_bundle.go:4452: http2: panic serving 127.0.0.1:34306: runtime error: invalid memory address or nil pointer dereference
goroutine 830 [running]:
net/http.(*http2serverConn).runHandler.func1()
	/usr/local/go/src/net/http/h2_bundle.go:6042 +0x145
panic({0x83ccc0, 0xb2c020})
	/usr/local/go/src/runtime/panic.go:884 +0x213
github.com/gorilla/websocket.(*Conn).Close(...)
	/root/go/pkg/mod/github.com/gorilla/websocket@v1.5.0/conn.go:345
rtForum/websocket.(*Manager).serveLogin(0xc000114bd0, {0x91fd60, 0xc0000f0080}, 0xc00032f600)
	/home/zdrastvyetyeh/.g6057/javascript-grit/Javascript-Grit-Projects/rtf/websocket/handlers.go:153 +0x6b0
rtForum/websocket.LoginHandler({0x91fd60?, 0xc0000f0080?}, 0xc0000c5000?)
	/home/zdrastvyetyeh/.g6057/javascript-grit/Javascript-Grit-Projects/rtf/websocket/handlers.go:194 +0x36
net/http.HandlerFunc.ServeHTTP(0xb70e00?, {0x91fd60?, 0xc0000f0080?}, 0xc0002594a0?)
	/usr/local/go/src/net/http/server.go:2122 +0x2f
net/http.(*ServeMux).ServeHTTP(0x0?, {0x91fd60, 0xc0000f0080}, 0xc00032f600)
	/usr/local/go/src/net/http/server.go:2500 +0x149
net/http.serverHandler.ServeHTTP({0x4800?}, {0x91fd60, 0xc0000f0080}, 0xc00032f600)
	/usr/local/go/src/net/http/server.go:2936 +0x316
net/http.initALPNRequest.ServeHTTP({{0x920018?, 0xc0000e8150?}, 0xc000148a80?, {0xc000170000?}}, {0x91fd60, 0xc0000f0080}, 0xc00032f600)
	/usr/local/go/src/net/http/server.go:3545 +0x245
net/http.(*http2serverConn).runHandler(0x91f620?, 0xba0910?, 0x0?, 0x0?)
	/usr/local/go/src/net/http/h2_bundle.go:6049 +0x83
created by net/http.(*http2serverConn).processHeaders
	/usr/local/go/src/net/http/h2_bundle.go:5762 +0x68a
2023/06/03 12:17:29 handlers.go:41: Checking login status.
2023/06/03 12:17:29 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:17:29 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:17:29 handlers.go:108: Login handler reached.
2023/06/03 12:17:29 handlers.go:124: Login POST request received.
2023/06/03 12:17:29 utility.go:29: Password and hash match.
2023/06/03 12:17:29 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/03 12:17:29 handlers.go:144: Authentication condition reached.
2023/06/03 12:17:29 handlers.go:145: User Login list:  map[usr1:true]
2023/06/03 12:17:29 handlers.go:152: Client already logged in.
2023/06/03 12:17:29 h2_bundle.go:4452: http2: panic serving 127.0.0.1:34306: runtime error: invalid memory address or nil pointer dereference
goroutine 807 [running]:
net/http.(*http2serverConn).runHandler.func1()
	/usr/local/go/src/net/http/h2_bundle.go:6042 +0x145
panic({0x83ccc0, 0xb2c020})
	/usr/local/go/src/runtime/panic.go:884 +0x213
github.com/gorilla/websocket.(*Conn).Close(...)
	/root/go/pkg/mod/github.com/gorilla/websocket@v1.5.0/conn.go:345
rtForum/websocket.(*Manager).serveLogin(0xc000114bd0, {0x91fd60, 0xc0002e7a00}, 0xc000563000)
	/home/zdrastvyetyeh/.g6057/javascript-grit/Javascript-Grit-Projects/rtf/websocket/handlers.go:153 +0x6b0
rtForum/websocket.LoginHandler({0x91fd60?, 0xc0002e7a00?}, 0xc0000c5000?)
	/home/zdrastvyetyeh/.g6057/javascript-grit/Javascript-Grit-Projects/rtf/websocket/handlers.go:194 +0x36
net/http.HandlerFunc.ServeHTTP(0xb70e00?, {0x91fd60?, 0xc0002e7a00?}, 0xc00004aca0?)
	/usr/local/go/src/net/http/server.go:2122 +0x2f
net/http.(*ServeMux).ServeHTTP(0x0?, {0x91fd60, 0xc0002e7a00}, 0xc000563000)
	/usr/local/go/src/net/http/server.go:2500 +0x149
net/http.serverHandler.ServeHTTP({0x3000?}, {0x91fd60, 0xc0002e7a00}, 0xc000563000)
	/usr/local/go/src/net/http/server.go:2936 +0x316
net/http.initALPNRequest.ServeHTTP({{0x920018?, 0xc0000e8150?}, 0xc000148a80?, {0xc000170000?}}, {0x91fd60, 0xc0002e7a00}, 0xc000563000)
	/usr/local/go/src/net/http/server.go:3545 +0x245
net/http.(*http2serverConn).runHandler(0x91f620?, 0xba0910?, 0x0?, 0x0?)
	/usr/local/go/src/net/http/h2_bundle.go:6049 +0x83
created by net/http.(*http2serverConn).processHeaders
	/usr/local/go/src/net/http/h2_bundle.go:5762 +0x68a
2023/06/03 12:17:39 main.go:73: Handling request "/" and serving index.html
2023/06/03 12:17:39 main.go:77: Cookie exists.
2023/06/03 12:17:41 handlers.go:41: Checking login status.
2023/06/03 12:17:41 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:17:41 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:17:48 handlers.go:41: Checking login status.
2023/06/03 12:17:48 handlers.go:56: Manager's clients:  map[0xc000217b90:true 0xc0005ae930:true]
2023/06/03 12:17:48 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 12:17:48 handlers.go:108: Login handler reached.
2023/06/03 12:17:48 handlers.go:124: Login POST request received.
2023/06/03 12:17:48 utility.go:29: Password and hash match.
2023/06/03 12:17:48 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/03 12:17:48 handlers.go:144: Authentication condition reached.
2023/06/03 12:17:48 handlers.go:145: User Login list:  map[usr1:true]
2023/06/03 12:17:48 handlers.go:152: Client already logged in.
2023/06/03 12:17:48 h2_bundle.go:4452: http2: panic serving 127.0.0.1:53148: runtime error: invalid memory address or nil pointer dereference
goroutine 910 [running]:
net/http.(*http2serverConn).runHandler.func1()
	/usr/local/go/src/net/http/h2_bundle.go:6042 +0x145
panic({0x83ccc0, 0xb2c020})
	/usr/local/go/src/runtime/panic.go:884 +0x213
github.com/gorilla/websocket.(*Conn).Close(...)
	/root/go/pkg/mod/github.com/gorilla/websocket@v1.5.0/conn.go:345
rtForum/websocket.(*Manager).serveLogin(0xc000114bd0, {0x91fd60, 0xc0005b00b8}, 0xc00045dc00)
	/home/zdrastvyetyeh/.g6057/javascript-grit/Javascript-Grit-Projects/rtf/websocket/handlers.go:153 +0x6b0
rtForum/websocket.LoginHandler({0x91fd60?, 0xc0005b00b8?}, 0xc0003c8500?)
	/home/zdrastvyetyeh/.g6057/javascript-grit/Javascript-Grit-Projects/rtf/websocket/handlers.go:194 +0x36
net/http.HandlerFunc.ServeHTTP(0xb70e00?, {0x91fd60?, 0xc0005b00b8?}, 0x0?)
	/usr/local/go/src/net/http/server.go:2122 +0x2f
net/http.(*ServeMux).ServeHTTP(0x0?, {0x91fd60, 0xc0005b00b8}, 0xc00045dc00)
	/usr/local/go/src/net/http/server.go:2500 +0x149
net/http.serverHandler.ServeHTTP({0x0?}, {0x91fd60, 0xc0005b00b8}, 0xc00045dc00)
	/usr/local/go/src/net/http/server.go:2936 +0x316
net/http.initALPNRequest.ServeHTTP({{0x920018?, 0xc000322e40?}, 0xc000206000?, {0xc000170000?}}, {0x91fd60, 0xc0005b00b8}, 0xc00045dc00)
	/usr/local/go/src/net/http/server.go:3545 +0x245
net/http.(*http2serverConn).runHandler(0x0?, 0x0?, 0x0?, 0x0?)
	/usr/local/go/src/net/http/h2_bundle.go:6049 +0x83
created by net/http.(*http2serverConn).processHeaders
	/usr/local/go/src/net/http/h2_bundle.go:5762 +0x68a
2023/06/03 12:18:16 main.go:41: Server stopped.
