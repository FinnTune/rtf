2023/06/03 17:36:19 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/03 17:36:19 main.go:128: New Forum Begun
2023/06/03 17:36:19 sqlFuncs.go:18: Database opened successfully.
2023/06/03 17:36:19 main.go:57: File Servers Started.
2023/06/03 17:36:19 main.go:68: Handlers Started.
2023/06/03 17:36:19 main.go:104: Server Started and listening on port :443.
2023/06/03 17:36:22 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:36:22 main.go:77: Cookie exists.
2023/06/03 17:36:24 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:36:24 main.go:77: Cookie exists.
2023/06/03 17:36:24 handlers.go:41: Checking login status.
2023/06/03 17:36:24 handlers.go:56: Manager's clients:  map[]
2023/06/03 17:36:24 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 17:36:25 handlers.go:41: Checking login status.
2023/06/03 17:36:25 handlers.go:56: Manager's clients:  map[]
2023/06/03 17:36:25 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 17:36:30 handlers.go:41: Checking login status.
2023/06/03 17:36:30 handlers.go:56: Manager's clients:  map[]
2023/06/03 17:36:30 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 17:36:30 handlers.go:108: Login handler reached.
2023/06/03 17:36:30 handlers.go:124: Login POST request received.
2023/06/03 17:36:30 utility.go:29: Password and hash match.
2023/06/03 17:36:30 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/03 17:36:30 handlers.go:144: Authentication condition reached.
2023/06/03 17:36:30 handlers.go:145: User Login list:  map[]
2023/06/03 17:36:30 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:36:30 handlers.go:270: Serving websocket.
2023/06/03 17:36:30 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:36:30 handlers.go:278: Decoding request body.
2023/06/03 17:36:30 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:36:30 handlers.go:307: Client does not exist.
2023/06/03 17:36:30 ws-client.go:44: New client connected.
2023/06/03 17:36:30 ws-manager.go:252: Client: 127.0.0.1:57202 added to manager.
2023/06/03 17:36:30 ws-client.go:65: Client IP and client port num.:  127.0.0.1:57202
2023/06/03 17:36:30 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:36:30 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:30 ws-manager.go:75: Adding user info: {user-connect {"otp":"1a30929f-bf26-4dcd-82ea-f84692d7c0a1","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":false}}
2023/06/03 17:36:30 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/03 17:36:30 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/03 17:36:30 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 17:36:37 handlers.go:41: Checking login status.
2023/06/03 17:36:37 handlers.go:56: Manager's clients:  map[0xc000150070:true]
2023/06/03 17:36:37 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 17:36:37 handlers.go:108: Login handler reached.
2023/06/03 17:36:37 handlers.go:124: Login POST request received.
2023/06/03 17:36:37 utility.go:29: Password and hash match.
2023/06/03 17:36:37 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-03 10:43:21 Password:$2a$12$FaCwYszH42rBSTCpi0zg7OVHHT/YBpMai/bVrCGiZt.emSe8QmJxS Session: NumberComments:0 NumberPosts:0}
2023/06/03 17:36:37 handlers.go:144: Authentication condition reached.
2023/06/03 17:36:37 handlers.go:145: User Login list:  map[admin:true]
2023/06/03 17:36:37 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:36:37 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:36:37 handlers.go:270: Serving websocket.
2023/06/03 17:36:37 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:36:37 handlers.go:278: Decoding request body.
2023/06/03 17:36:37 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:36:37 handlers.go:307: Client does not exist.
2023/06/03 17:36:37 ws-client.go:44: New client connected.
2023/06/03 17:36:37 ws-manager.go:252: Client: 127.0.0.1:55188 added to manager.
2023/06/03 17:36:37 ws-client.go:65: Client IP and client port num.:  127.0.0.1:55188
2023/06/03 17:36:37 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:36:37 ws-manager.go:75: Adding user info: {user-connect {"otp":"49569523-f475-4651-ad64-0b1e9a29c61a","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":false}}
2023/06/03 17:36:37 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/03 17:36:37 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:36:37 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:36:37 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:36:39 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:39 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:36:39 ws-manager.go:153: History of Messages:  [{38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0} {43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0}]
2023/06/03 17:36:39 ws-manager.go:167: History sent to:  admin
2023/06/03 17:36:39 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"chat_history","payload":[{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0},{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0}]}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:43 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:43 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:36:43 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:36:44 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:36:44 ws-manager.go:38: Event/message sent: {new-message {"message":"aefkjnsdg","from":"admin","to":"usr1","sent":1685803004199}}
2023/06/03 17:36:44 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"sent-message","payload":{"message":"aefkjnsdg","from":"admin","to":"usr1","sent":"2023-06-03T17:36:44.203993855+03:00"}}
2023/06/03 17:36:53 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:36:53 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:36:53 ws-manager.go:153: History of Messages:  [{39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0} {43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0}]
2023/06/03 17:36:53 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:36:53 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"chat_history","payload":[{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0},{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0}]}
2023/06/03 17:37:00 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:00 ws-manager.go:116: History Request:  {0 usr1 admin false   10 10}
2023/06/03 17:37:00 ws-manager.go:153: History of Messages:  [{29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0}]
2023/06/03 17:37:00 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:37:00 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"chat_history","payload":[{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0}]}
2023/06/03 17:37:02 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:02 ws-manager.go:116: History Request:  {0 usr1 admin false   10 20}
2023/06/03 17:37:02 ws-manager.go:153: History of Messages:  [{19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0}]
2023/06/03 17:37:02 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:37:02 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"chat_history","payload":[{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0}]}
2023/06/03 17:37:03 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:03 ws-manager.go:116: History Request:  {0 usr1 admin false   10 30}
2023/06/03 17:37:03 ws-manager.go:153: History of Messages:  [{9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0} {14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0}]
2023/06/03 17:37:03 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:37:03 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"chat_history","payload":[{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0},{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0}]}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:08 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:08 ws-manager.go:193: History sent to:  admin
2023/06/03 17:37:08 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:09 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:09 ws-manager.go:218: History sent to:  admin
2023/06/03 17:37:09 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:37:10 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:37:10 ws-manager.go:38: Event/message sent: {new-message {"message":"sdgkjnsdg","from":"usr1","to":"admin","sent":1685803030965}}
2023/06/03 17:37:10 ws-client.go:177: Message sent to client: 127.0.0.1:57202 Message: {"type":"sent-message","payload":{"message":"sdgkjnsdg","from":"usr1","to":"admin","sent":"2023-06-03T17:37:10.969693733+03:00"}}
2023/06/03 17:41:34 ws-client.go:90: Client read message from:  127.0.0.1:57202
2023/06/03 17:41:34 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:41:34 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:41:34 main.go:77: Cookie exists.
2023/06/03 17:41:35 handlers.go:41: Checking login status.
2023/06/03 17:41:35 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:41:35 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:41:35 handlers.go:87: OTP:  3ea138ae-5e2a-44d5-82b6-53699c96dc4b
2023/06/03 17:41:36 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:41:36 handlers.go:270: Serving websocket.
2023/06/03 17:41:36 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:41:36 handlers.go:278: Decoding request body.
2023/06/03 17:41:36 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:41:36 handlers.go:293: Client already exists.
2023/06/03 17:41:36 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:41:36 ws-client.go:65: Client IP and client port num.:  127.0.0.1:36698
2023/06/03 17:41:36 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:36 ws-manager.go:75: Adding user info: {user-connect {"otp":"3ea138ae-5e2a-44d5-82b6-53699c96dc4b","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:41:36 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:41:36 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:41:36 ws-client.go:177: Message sent to client: 127.0.0.1:55188 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:41:36 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:41:41 ws-client.go:90: Client read message from:  127.0.0.1:55188
2023/06/03 17:41:41 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:41:41 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:41:41 main.go:77: Cookie exists.
2023/06/03 17:41:42 handlers.go:41: Checking login status.
2023/06/03 17:41:42 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:41:42 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:41:42 handlers.go:87: OTP:  2a5f202c-0afd-463b-ae68-8856168f5f61
2023/06/03 17:41:42 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:41:42 handlers.go:270: Serving websocket.
2023/06/03 17:41:42 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:41:42 handlers.go:278: Decoding request body.
2023/06/03 17:41:42 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:41:42 handlers.go:293: Client already exists.
2023/06/03 17:41:42 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 17:41:42 ws-client.go:65: Client IP and client port num.:  127.0.0.1:36716
2023/06/03 17:41:42 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:41:42 ws-manager.go:75: Adding user info: {user-connect {"otp":"2a5f202c-0afd-463b-ae68-8856168f5f61","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 17:41:42 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:41:42 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:41:42 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:41:42 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:41:43 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:43 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:41:43 ws-manager.go:153: History of Messages:  [{40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0} {43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0}]
2023/06/03 17:41:43 ws-manager.go:167: History sent to:  admin
2023/06/03 17:41:43 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"chat_history","payload":[{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0},{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0}]}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:48 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:48 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:49 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:49 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:41:49 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:49 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:49 ws-manager.go:38: Event/message sent: {new-message {"message":"sdvkjbskd","from":"admin","to":"usr1","sent":1685803309847}}
2023/06/03 17:41:49 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"sent-message","payload":{"message":"sdvkjbskd","from":"admin","to":"usr1","sent":"2023-06-03T17:41:49.85061462+03:00"}}
2023/06/03 17:41:51 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:51 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:51 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:51 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:52 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:52 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:52 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:52 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:52 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:52 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:52 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:52 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:41:52 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:53 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:53 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:41:53 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:41:53 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:41:53 ws-manager.go:38: Event/message sent: {new-message {"message":"adbad","from":"admin","to":"usr1","sent":1685803313279}}
2023/06/03 17:41:53 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"sent-message","payload":{"message":"adbad","from":"admin","to":"usr1","sent":"2023-06-03T17:41:53.282292098+03:00"}}
2023/06/03 17:42:00 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:00 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:42:00 ws-manager.go:153: History of Messages:  [{42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0} {43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0}]
2023/06/03 17:42:00 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:42:00 ws-client.go:177: Message sent to client: 127.0.0.1:36716 Message: {"type":"chat_history","payload":[{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0},{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0}]}
2023/06/03 17:42:03 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:42:03 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:42:03 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:42:03 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:42:03 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:42:03 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:42:04 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:04 ws-manager.go:193: History sent to:  admin
2023/06/03 17:42:04 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:42:04 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:04 ws-manager.go:193: History sent to:  admin
2023/06/03 17:42:04 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:42:04 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:04 ws-manager.go:193: History sent to:  admin
2023/06/03 17:42:04 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:42:05 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:05 ws-manager.go:218: History sent to:  admin
2023/06/03 17:42:05 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:42:06 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:42:06 ws-manager.go:38: Event/message sent: {new-message {"message":"adjndg","from":"usr1","to":"admin","sent":1685803326089}}
2023/06/03 17:42:06 ws-client.go:177: Message sent to client: 127.0.0.1:36698 Message: {"type":"sent-message","payload":{"message":"adjndg","from":"usr1","to":"admin","sent":"2023-06-03T17:42:06.093428119+03:00"}}
2023/06/03 17:43:24 ws-client.go:90: Client read message from:  127.0.0.1:36698
2023/06/03 17:43:24 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:43:24 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:43:24 main.go:77: Cookie exists.
2023/06/03 17:43:24 ws-client.go:182: Client connection is nil.
2023/06/03 17:43:25 handlers.go:41: Checking login status.
2023/06/03 17:43:25 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:43:25 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:43:25 handlers.go:87: OTP:  b02b7c6c-164b-40f3-a185-630be705fac4
2023/06/03 17:43:25 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:43:25 handlers.go:270: Serving websocket.
2023/06/03 17:43:25 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:43:25 handlers.go:278: Decoding request body.
2023/06/03 17:43:25 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:43:25 handlers.go:293: Client already exists.
2023/06/03 17:43:25 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:43:25 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49816
2023/06/03 17:43:26 ws-client.go:90: Client read message from:  127.0.0.1:36716
2023/06/03 17:43:26 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:43:26 ws-client.go:90: Client read message from:  127.0.0.1:49816
2023/06/03 17:43:26 ws-manager.go:75: Adding user info: {user-connect {"otp":"b02b7c6c-164b-40f3-a185-630be705fac4","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:43:26 ws-manager.go:86: User in LoggedInList:  map[admin:true]
2023/06/03 17:43:26 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/03 17:43:26 ws-client.go:156: Client connection is nil.
2023/06/03 17:43:26 ws-client.go:177: Message sent to client: 127.0.0.1:49816 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 17:43:26 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:43:26 main.go:77: Cookie exists.
2023/06/03 17:43:27 handlers.go:41: Checking login status.
2023/06/03 17:43:27 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:43:27 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:43:27 handlers.go:87: OTP:  738a4634-5fbb-4678-ab48-9a4347d05147
2023/06/03 17:43:27 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:43:27 handlers.go:270: Serving websocket.
2023/06/03 17:43:27 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:43:27 handlers.go:278: Decoding request body.
2023/06/03 17:43:27 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:43:27 handlers.go:293: Client already exists.
2023/06/03 17:43:27 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 17:43:27 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49824
2023/06/03 17:43:27 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:43:27 ws-manager.go:75: Adding user info: {user-connect {"otp":"738a4634-5fbb-4678-ab48-9a4347d05147","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 17:43:27 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:43:27 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:43:27 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:43:27 ws-client.go:177: Message sent to client: 127.0.0.1:49816 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:43:30 ws-client.go:90: Client read message from:  127.0.0.1:49816
2023/06/03 17:43:30 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:43:30 ws-manager.go:153: History of Messages:  [{43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0}]
2023/06/03 17:43:30 ws-manager.go:167: History sent to:  admin
2023/06/03 17:43:30 ws-client.go:177: Message sent to client: 127.0.0.1:49816 Message: {"type":"chat_history","payload":[{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0}]}
2023/06/03 17:43:54 ws-client.go:90: Client read message from:  127.0.0.1:49816
2023/06/03 17:43:54 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:43:54 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:43:54 main.go:77: Cookie exists.
2023/06/03 17:43:55 handlers.go:41: Checking login status.
2023/06/03 17:43:55 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:43:55 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:43:55 handlers.go:87: OTP:  87aad76f-42d4-44a7-acaf-45c859007d64
2023/06/03 17:43:56 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:43:56 handlers.go:270: Serving websocket.
2023/06/03 17:43:56 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:43:56 handlers.go:278: Decoding request body.
2023/06/03 17:43:56 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:43:56 handlers.go:293: Client already exists.
2023/06/03 17:43:56 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:43:56 ws-client.go:65: Client IP and client port num.:  127.0.0.1:59484
2023/06/03 17:43:56 ws-client.go:90: Client read message from:  127.0.0.1:59484
2023/06/03 17:43:56 ws-manager.go:75: Adding user info: {user-connect {"otp":"87aad76f-42d4-44a7-acaf-45c859007d64","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:43:56 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:43:56 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:43:56 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:43:56 ws-client.go:177: Message sent to client: 127.0.0.1:59484 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:43:59 ws-client.go:90: Client read message from:  127.0.0.1:59484
2023/06/03 17:43:59 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:43:59 ws-manager.go:153: History of Messages:  [{43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0}]
2023/06/03 17:43:59 ws-manager.go:167: History sent to:  admin
2023/06/03 17:43:59 ws-client.go:177: Message sent to client: 127.0.0.1:59484 Message: {"type":"chat_history","payload":[{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0}]}
2023/06/03 17:44:07 ws-client.go:90: Client read message from:  127.0.0.1:59484
2023/06/03 17:44:07 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:44:07 ws-manager.go:153: History of Messages:  [{33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0}]
2023/06/03 17:44:07 ws-manager.go:167: History sent to:  admin
2023/06/03 17:44:07 ws-client.go:177: Message sent to client: 127.0.0.1:59484 Message: {"type":"chat_history","payload":[{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0}]}
2023/06/03 17:44:11 ws-client.go:90: Client read message from:  127.0.0.1:59484
2023/06/03 17:44:11 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 17:44:11 ws-manager.go:153: History of Messages:  [{23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0}]
2023/06/03 17:44:11 ws-manager.go:167: History sent to:  admin
2023/06/03 17:44:11 ws-client.go:177: Message sent to client: 127.0.0.1:59484 Message: {"type":"chat_history","payload":[{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0}]}
2023/06/03 17:44:23 ws-client.go:90: Client read message from:  127.0.0.1:59484
2023/06/03 17:44:23 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:44:23 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:44:23 main.go:77: Cookie exists.
2023/06/03 17:44:25 handlers.go:41: Checking login status.
2023/06/03 17:44:25 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:44:25 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:44:25 handlers.go:87: OTP:  a4ed6271-7464-4507-bfa9-7dec46efb26a
2023/06/03 17:44:25 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:44:25 handlers.go:270: Serving websocket.
2023/06/03 17:44:25 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:44:25 handlers.go:278: Decoding request body.
2023/06/03 17:44:25 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:44:25 handlers.go:293: Client already exists.
2023/06/03 17:44:25 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:44:25 ws-client.go:65: Client IP and client port num.:  127.0.0.1:35178
2023/06/03 17:44:25 ws-client.go:90: Client read message from:  127.0.0.1:35178
2023/06/03 17:44:25 ws-manager.go:75: Adding user info: {user-connect {"otp":"a4ed6271-7464-4507-bfa9-7dec46efb26a","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:44:25 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:44:25 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:44:25 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:44:25 ws-client.go:177: Message sent to client: 127.0.0.1:35178 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:44:27 ws-client.go:90: Client read message from:  127.0.0.1:35178
2023/06/03 17:44:27 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:44:27 ws-manager.go:153: History of Messages:  [{43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0}]
2023/06/03 17:44:27 ws-manager.go:167: History sent to:  admin
2023/06/03 17:44:27 ws-client.go:177: Message sent to client: 127.0.0.1:35178 Message: {"type":"chat_history","payload":[{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0}]}
2023/06/03 17:44:43 ws-client.go:90: Client read message from:  127.0.0.1:35178
2023/06/03 17:44:43 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:44:43 ws-client.go:182: Client connection is nil.
2023/06/03 17:44:43 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:44:43 main.go:77: Cookie exists.
2023/06/03 17:44:45 handlers.go:41: Checking login status.
2023/06/03 17:44:45 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:44:45 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:44:45 handlers.go:87: OTP:  66754669-cfe7-4ed8-8aad-43ca7179f081
2023/06/03 17:44:45 ws-client.go:182: Client connection is nil.
2023/06/03 17:44:45 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:44:45 handlers.go:270: Serving websocket.
2023/06/03 17:44:45 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:44:45 handlers.go:278: Decoding request body.
2023/06/03 17:44:45 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:44:45 handlers.go:293: Client already exists.
2023/06/03 17:44:45 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:44:45 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50664
2023/06/03 17:44:45 ws-client.go:90: Client read message from:  127.0.0.1:50664
2023/06/03 17:44:45 ws-manager.go:75: Adding user info: {user-connect {"otp":"66754669-cfe7-4ed8-8aad-43ca7179f081","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:44:45 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:44:45 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:44:45 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:44:45 ws-client.go:177: Message sent to client: 127.0.0.1:50664 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:44:47 ws-client.go:90: Client read message from:  127.0.0.1:50664
2023/06/03 17:44:47 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:44:47 ws-manager.go:153: History of Messages:  [{43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0}]
2023/06/03 17:44:47 ws-manager.go:167: History sent to:  admin
2023/06/03 17:44:47 ws-client.go:177: Message sent to client: 127.0.0.1:50664 Message: {"type":"chat_history","payload":[{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0}]}
2023/06/03 17:44:56 ws-client.go:90: Client read message from:  127.0.0.1:50664
2023/06/03 17:44:56 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:44:57 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:44:57 main.go:77: Cookie exists.
2023/06/03 17:44:58 handlers.go:41: Checking login status.
2023/06/03 17:44:58 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:44:58 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:44:58 handlers.go:87: OTP:  0695d247-f7ff-4ad0-8748-ab1a3501c6e8
2023/06/03 17:44:58 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:44:58 handlers.go:270: Serving websocket.
2023/06/03 17:44:58 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:44:58 handlers.go:278: Decoding request body.
2023/06/03 17:44:58 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:44:58 handlers.go:293: Client already exists.
2023/06/03 17:44:58 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:44:58 ws-client.go:65: Client IP and client port num.:  127.0.0.1:34140
2023/06/03 17:44:59 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:44:59 ws-manager.go:75: Adding user info: {user-connect {"otp":"0695d247-f7ff-4ad0-8748-ab1a3501c6e8","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:44:59 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:44:59 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:44:59 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:44:59 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:45:00 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:00 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:45:00 ws-manager.go:153: History of Messages:  [{43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0}]
2023/06/03 17:45:00 ws-manager.go:167: History sent to:  admin
2023/06/03 17:45:00 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"chat_history","payload":[{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0}]}
2023/06/03 17:45:06 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:06 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:45:06 ws-manager.go:153: History of Messages:  [{33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0}]
2023/06/03 17:45:06 ws-manager.go:167: History sent to:  admin
2023/06/03 17:45:06 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"chat_history","payload":[{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0}]}
2023/06/03 17:45:08 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:08 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:08 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:08 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:08 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:08 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:08 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:08 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:08 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:08 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:08 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:08 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:08 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:08 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:09 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:09 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:09 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:10 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:10 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:45:10 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:10 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:10 ws-manager.go:38: Event/message sent: {new-message {"message":"adfjkbdg","from":"admin","to":"usr1","sent":1685803510029}}
2023/06/03 17:45:10 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"sent-message","payload":{"message":"adfjkbdg","from":"admin","to":"usr1","sent":"2023-06-03T17:45:10.03212962+03:00"}}
2023/06/03 17:45:11 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:11 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:11 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:11 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:11 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:11 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:11 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:11 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:11 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:11 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:11 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:11 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:11 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:11 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:11 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:11 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:11 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:45:11 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:12 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:12 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:45:12 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:12 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:45:12 ws-manager.go:38: Event/message sent: {new-message {"message":"dkjbdg","from":"admin","to":"usr1","sent":1685803512793}}
2023/06/03 17:45:12 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"sent-message","payload":{"message":"dkjbdg","from":"admin","to":"usr1","sent":"2023-06-03T17:45:12.794991256+03:00"}}
2023/06/03 17:45:18 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:18 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:45:18 ws-manager.go:153: History of Messages:  [{45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0} {53 admin usr1 false adfjkbdg 2023-06-03T17:45:10.03212962+03:00 0 0} {54 admin usr1 false dkjbdg 2023-06-03T17:45:12.794991256+03:00 0 0}]
2023/06/03 17:45:18 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:45:18 ws-client.go:177: Message sent to client: 127.0.0.1:49824 Message: {"type":"chat_history","payload":[{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0},{"id":53,"from":"admin","to":"usr1","is_read":false,"message":"adfjkbdg","created_at":"2023-06-03T17:45:10.03212962+03:00","limit":0,"offset":0},{"id":54,"from":"admin","to":"usr1","is_read":false,"message":"dkjbdg","created_at":"2023-06-03T17:45:12.794991256+03:00","limit":0,"offset":0}]}
2023/06/03 17:45:20 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:20 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:20 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:22 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:22 ws-manager.go:218: History sent to:  admin
2023/06/03 17:45:22 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:45:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:45:31 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:45:31 ws-manager.go:218: History sent to:  admin
2023/06/03 17:45:31 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:18 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:18 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:18 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:19 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:19 ws-manager.go:218: History sent to:  admin
2023/06/03 17:46:19 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:19 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:19 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:20 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:20 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:20 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:20 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:20 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:20 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:21 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:21 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:21 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:22 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:22 ws-manager.go:218: History sent to:  admin
2023/06/03 17:46:22 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:26 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:26 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:26 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:26 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:26 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:26 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:26 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:26 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:26 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:27 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:27 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:27 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:27 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:27 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:27 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:27 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:27 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:27 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:27 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:27 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:27 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:27 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:27 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:27 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:28 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:28 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:28 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:29 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:29 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:29 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:30 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:30 ws-manager.go:193: History sent to:  admin
2023/06/03 17:46:30 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:46:31 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:46:31 ws-manager.go:218: History sent to:  admin
2023/06/03 17:46:31 ws-client.go:177: Message sent to client: 127.0.0.1:34140 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:48:47 ws-client.go:90: Client read message from:  127.0.0.1:49824
2023/06/03 17:48:47 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:48:47 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:48:47 main.go:77: Cookie exists.
2023/06/03 17:48:48 handlers.go:41: Checking login status.
2023/06/03 17:48:48 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:48:48 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:48:48 handlers.go:87: OTP:  8353abb5-cfa8-46c3-8991-09733ba601b5
2023/06/03 17:48:48 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:48:49 handlers.go:270: Serving websocket.
2023/06/03 17:48:49 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:48:49 handlers.go:278: Decoding request body.
2023/06/03 17:48:49 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:48:49 handlers.go:293: Client already exists.
2023/06/03 17:48:49 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 17:48:49 ws-client.go:65: Client IP and client port num.:  127.0.0.1:42852
2023/06/03 17:48:49 ws-client.go:90: Client read message from:  127.0.0.1:34140
2023/06/03 17:48:49 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:48:49 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:48:49 ws-manager.go:75: Adding user info: {user-connect {"otp":"8353abb5-cfa8-46c3-8991-09733ba601b5","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 17:48:49 ws-manager.go:86: User in LoggedInList:  map[usr1:true]
2023/06/03 17:48:49 ws-manager.go:92: User: usr1 added to LoggedInList:  map[usr1:true]
2023/06/03 17:48:49 ws-client.go:156: Client connection is nil.
2023/06/03 17:48:49 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"users-online","payload":{"usr1":true}}
2023/06/03 17:48:49 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:48:49 main.go:77: Cookie exists.
2023/06/03 17:48:52 handlers.go:41: Checking login status.
2023/06/03 17:48:52 handlers.go:56: Manager's clients:  map[0xc000150070:true 0xc00021c770:true]
2023/06/03 17:48:52 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:48:52 handlers.go:87: OTP:  e593e0c8-c2cd-4dd0-895d-059891dd3274
2023/06/03 17:48:52 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:48:52 handlers.go:270: Serving websocket.
2023/06/03 17:48:52 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:48:52 handlers.go:278: Decoding request body.
2023/06/03 17:48:52 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:48:52 handlers.go:293: Client already exists.
2023/06/03 17:48:52 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:48:52 ws-client.go:65: Client IP and client port num.:  127.0.0.1:42864
2023/06/03 17:48:52 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:48:52 ws-manager.go:75: Adding user info: {user-connect {"otp":"e593e0c8-c2cd-4dd0-895d-059891dd3274","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:48:52 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:48:52 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:48:52 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:48:52 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:48:55 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:48:55 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:48:55 ws-manager.go:153: History of Messages:  [{45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0} {53 admin usr1 false adfjkbdg 2023-06-03T17:45:10.03212962+03:00 0 0} {54 admin usr1 false dkjbdg 2023-06-03T17:45:12.794991256+03:00 0 0}]
2023/06/03 17:48:55 ws-manager.go:167: History sent to:  admin
2023/06/03 17:48:55 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"chat_history","payload":[{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0},{"id":53,"from":"admin","to":"usr1","is_read":false,"message":"adfjkbdg","created_at":"2023-06-03T17:45:10.03212962+03:00","limit":0,"offset":0},{"id":54,"from":"admin","to":"usr1","is_read":false,"message":"dkjbdg","created_at":"2023-06-03T17:45:12.794991256+03:00","limit":0,"offset":0}]}
2023/06/03 17:48:57 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:48:57 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:48:57 ws-manager.go:153: History of Messages:  [{45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0} {46 admin usr1 false sdg,m sgsgd 2023-06-03T17:35:34.1430766+03:00 0 0} {47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0} {53 admin usr1 false adfjkbdg 2023-06-03T17:45:10.03212962+03:00 0 0} {54 admin usr1 false dkjbdg 2023-06-03T17:45:12.794991256+03:00 0 0}]
2023/06/03 17:48:57 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:48:57 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"chat_history","payload":[{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0},{"id":46,"from":"admin","to":"usr1","is_read":false,"message":"sdg,m sgsgd","created_at":"2023-06-03T17:35:34.1430766+03:00","limit":0,"offset":0},{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0},{"id":53,"from":"admin","to":"usr1","is_read":false,"message":"adfjkbdg","created_at":"2023-06-03T17:45:10.03212962+03:00","limit":0,"offset":0},{"id":54,"from":"admin","to":"usr1","is_read":false,"message":"dkjbdg","created_at":"2023-06-03T17:45:12.794991256+03:00","limit":0,"offset":0}]}
2023/06/03 17:49:00 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:00 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:00 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:00 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:00 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:00 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:01 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:01 ws-manager.go:218: History sent to:  admin
2023/06/03 17:49:01 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:01 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:01 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:01 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:02 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:02 ws-manager.go:218: History sent to:  admin
2023/06/03 17:49:02 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:02 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:02 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:02 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:02 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:02 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:02 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:03 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:03 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:03 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:03 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:03 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:03 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:03 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:03 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:03 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:03 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:03 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:03 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:03 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:03 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:03 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:04 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:04 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:04 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:04 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:04 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:04 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:04 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:04 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:04 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:05 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:05 ws-manager.go:218: History sent to:  admin
2023/06/03 17:49:05 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:10 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:10 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:10 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:11 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:11 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:11 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:11 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:11 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:11 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:11 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:11 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:11 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:11 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:11 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:11 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:11 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:11 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:11 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:12 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:12 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:12 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:13 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:13 ws-manager.go:218: History sent to:  admin
2023/06/03 17:49:13 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:14 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:14 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:14 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:15 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:15 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:15 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:16 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:16 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:16 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:16 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:16 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:16 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:16 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:16 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:16 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:16 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:16 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:16 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:16 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:16 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:16 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:16 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:16 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:16 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:17 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:17 ws-manager.go:218: History sent to:  admin
2023/06/03 17:49:17 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:37 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:37 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:37 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:37 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:37 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:37 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:37 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:37 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:37 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:37 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:38 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:38 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:38 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:38 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:38 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:38 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:38 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:38 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:38 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:38 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:38 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:38 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:38 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:38 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:38 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:38 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:38 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:38 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:39 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:39 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:39 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:39 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:39 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:39 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:39 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:39 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:39 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:39 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:39 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:39 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:40 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:40 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:40 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:40 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:40 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:40 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:41 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:41 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:49:41 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:42 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:42 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:42 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:43 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:43 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:49:43 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:45 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:45 ws-manager.go:38: Event/message sent: {new-message {"message":"sdfjbsdgsdgsdgsdgsg\n","from":"admin","to":"usr1","sent":1685803785384}}
2023/06/03 17:49:45 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"sent-message","payload":{"message":"sdfjbsdgsdgsdgsdgsg\n","from":"admin","to":"usr1","sent":"2023-06-03T17:49:45.388829026+03:00"}}
2023/06/03 17:49:51 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:51 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:51 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:51 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:51 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:51 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:51 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:51 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:51 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:51 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:51 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:51 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:51 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:51 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:52 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:52 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:49:52 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:53 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:49:53 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:49:53 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:53 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:53 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:53 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:54 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:54 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:54 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:55 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:55 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:55 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:55 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:55 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:55 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:55 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:55 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:55 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:55 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:55 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:55 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:55 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:55 ws-manager.go:193: History sent to:  admin
2023/06/03 17:49:55 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:49:56 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:49:56 ws-manager.go:218: History sent to:  admin
2023/06/03 17:49:56 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:02 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:02 ws-manager.go:38: Event/message sent: {new-message {"message":"dsgkjbsg","from":"admin","to":"usr1","sent":1685803802056}}
2023/06/03 17:50:02 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"sent-message","payload":{"message":"dsgkjbsg","from":"admin","to":"usr1","sent":"2023-06-03T17:50:02.059121534+03:00"}}
2023/06/03 17:50:04 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:04 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:50:04 ws-manager.go:153: History of Messages:  [{47 admin usr1 false sdgkjnsgdkjnsgd 2023-06-03T17:35:39.339938964+03:00 0 0} {48 admin usr1 false aefkjnsdg 2023-06-03T17:36:44.203993855+03:00 0 0} {49 usr1 admin false sdgkjnsdg 2023-06-03T17:37:10.969693733+03:00 0 0} {50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0} {53 admin usr1 false adfjkbdg 2023-06-03T17:45:10.03212962+03:00 0 0} {54 admin usr1 false dkjbdg 2023-06-03T17:45:12.794991256+03:00 0 0} {55 admin usr1 false sdfjbsdgsdgsdgsdgsg
 2023-06-03T17:49:45.388829026+03:00 0 0} {56 admin usr1 false dsgkjbsg 2023-06-03T17:50:02.059121534+03:00 0 0}]
2023/06/03 17:50:04 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:50:04 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"chat_history","payload":[{"id":47,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsgdkjnsgd","created_at":"2023-06-03T17:35:39.339938964+03:00","limit":0,"offset":0},{"id":48,"from":"admin","to":"usr1","is_read":false,"message":"aefkjnsdg","created_at":"2023-06-03T17:36:44.203993855+03:00","limit":0,"offset":0},{"id":49,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjnsdg","created_at":"2023-06-03T17:37:10.969693733+03:00","limit":0,"offset":0},{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0},{"id":53,"from":"admin","to":"usr1","is_read":false,"message":"adfjkbdg","created_at":"2023-06-03T17:45:10.03212962+03:00","limit":0,"offset":0},{"id":54,"from":"admin","to":"usr1","is_read":false,"message":"dkjbdg","created_at":"2023-06-03T17:45:12.794991256+03:00","limit":0,"offset":0},{"id":55,"from":"admin","to":"usr1","is_read":false,"message":"sdfjbsdgsdgsdgsdgsg\n","created_at":"2023-06-03T17:49:45.388829026+03:00","limit":0,"offset":0},{"id":56,"from":"admin","to":"usr1","is_read":false,"message":"dsgkjbsg","created_at":"2023-06-03T17:50:02.059121534+03:00","limit":0,"offset":0}]}
2023/06/03 17:50:10 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:10 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:10 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:10 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:10 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:10 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:10 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:10 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:10 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:10 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:10 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:10 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:10 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:10 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:10 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:10 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:10 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:10 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:11 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:11 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:50:11 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:11 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:11 ws-manager.go:38: Event/message sent: {new-message {"message":"sdgsg\n","from":"admin","to":"usr1","sent":1685803811929}}
2023/06/03 17:50:11 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"sent-message","payload":{"message":"sdgsg\n","from":"admin","to":"usr1","sent":"2023-06-03T17:50:11.930928192+03:00"}}
2023/06/03 17:50:14 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:14 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:14 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:14 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:14 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:14 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:14 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:14 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:14 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:14 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:15 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:15 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:50:15 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:15 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:15 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:50:15 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:16 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:16 ws-manager.go:38: Event/message sent: {new-message {"message":"skbsdg","from":"admin","to":"usr1","sent":1685803816164}}
2023/06/03 17:50:16 ws-client.go:177: Message sent to client: 127.0.0.1:42852 Message: {"type":"sent-message","payload":{"message":"skbsdg","from":"admin","to":"usr1","sent":"2023-06-03T17:50:16.166409219+03:00"}}
2023/06/03 17:50:18 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:18 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:18 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:18 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:18 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:18 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:18 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:18 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:18 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:18 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:18 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:18 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:18 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:18 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:18 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:18 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:18 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:18 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:19 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:19 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:19 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:20 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:20 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:20 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:20 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:20 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:20 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:20 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:20 ws-manager.go:193: History sent to:  admin
2023/06/03 17:50:20 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:21 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:21 ws-manager.go:218: History sent to:  admin
2023/06/03 17:50:21 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:50:24 ws-client.go:90: Client read message from:  127.0.0.1:42852
2023/06/03 17:50:24 ws-manager.go:38: Event/message sent: {new-message {"message":"sdgkjbsdgkjbsdgkjsdg","from":"usr1","to":"admin","sent":1685803824788}}
2023/06/03 17:50:24 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"sent-message","payload":{"message":"sdgkjbsdgkjbsdgkjsdg","from":"usr1","to":"admin","sent":"2023-06-03T17:50:24.83398625+03:00"}}
2023/06/03 17:50:27 ws-client.go:90: Client read message from:  127.0.0.1:42864
2023/06/03 17:50:27 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:50:27 ws-manager.go:153: History of Messages:  [{50 admin usr1 false sdvkjbskd 2023-06-03T17:41:49.85061462+03:00 0 0} {51 admin usr1 false adbad 2023-06-03T17:41:53.282292098+03:00 0 0} {52 usr1 admin false adjndg 2023-06-03T17:42:06.093428119+03:00 0 0} {53 admin usr1 false adfjkbdg 2023-06-03T17:45:10.03212962+03:00 0 0} {54 admin usr1 false dkjbdg 2023-06-03T17:45:12.794991256+03:00 0 0} {55 admin usr1 false sdfjbsdgsdgsdgsdgsg
 2023-06-03T17:49:45.388829026+03:00 0 0} {56 admin usr1 false dsgkjbsg 2023-06-03T17:50:02.059121534+03:00 0 0} {57 admin usr1 false sdgsg
 2023-06-03T17:50:11.930928192+03:00 0 0} {58 admin usr1 false skbsdg 2023-06-03T17:50:16.166409219+03:00 0 0} {59 usr1 admin false sdgkjbsdgkjbsdgkjsdg 2023-06-03T17:50:24.83398625+03:00 0 0}]
2023/06/03 17:50:27 ws-manager.go:167: History sent to:  admin
2023/06/03 17:50:27 ws-client.go:177: Message sent to client: 127.0.0.1:42864 Message: {"type":"chat_history","payload":[{"id":50,"from":"admin","to":"usr1","is_read":false,"message":"sdvkjbskd","created_at":"2023-06-03T17:41:49.85061462+03:00","limit":0,"offset":0},{"id":51,"from":"admin","to":"usr1","is_read":false,"message":"adbad","created_at":"2023-06-03T17:41:53.282292098+03:00","limit":0,"offset":0},{"id":52,"from":"usr1","to":"admin","is_read":false,"message":"adjndg","created_at":"2023-06-03T17:42:06.093428119+03:00","limit":0,"offset":0},{"id":53,"from":"admin","to":"usr1","is_read":false,"message":"adfjkbdg","created_at":"2023-06-03T17:45:10.03212962+03:00","limit":0,"offset":0},{"id":54,"from":"admin","to":"usr1","is_read":false,"message":"dkjbdg","created_at":"2023-06-03T17:45:12.794991256+03:00","limit":0,"offset":0},{"id":55,"from":"admin","to":"usr1","is_read":false,"message":"sdfjbsdgsdgsdgsdgsg\n","created_at":"2023-06-03T17:49:45.388829026+03:00","limit":0,"offset":0},{"id":56,"from":"admin","to":"usr1","is_read":false,"message":"dsgkjbsg","created_at":"2023-06-03T17:50:02.059121534+03:00","limit":0,"offset":0},{"id":57,"from":"admin","to":"usr1","is_read":false,"message":"sdgsg\n","created_at":"2023-06-03T17:50:11.930928192+03:00","limit":0,"offset":0},{"id":58,"from":"admin","to":"usr1","is_read":false,"message":"skbsdg","created_at":"2023-06-03T17:50:16.166409219+03:00","limit":0,"offset":0},{"id":59,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjbsdgkjbsdgkjsdg","created_at":"2023-06-03T17:50:24.83398625+03:00","limit":0,"offset":0}]}
2023/06/03 17:55:28 main.go:41: Server stopped.
