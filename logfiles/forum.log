2023/06/02 18:36:01 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/02 18:36:01 main.go:128: New Forum Begun
2023/06/02 18:36:01 sqlFuncs.go:18: Database opened successfully.
2023/06/02 18:36:01 main.go:57: File Servers Started.
2023/06/02 18:36:01 main.go:68: Handlers Started.
2023/06/02 18:36:01 main.go:104: Server Started and listening on port :443.
2023/06/02 18:36:03 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:36:03 main.go:77: Cookie exists.
2023/06/02 18:36:03 handlers.go:41: Checking login status.
2023/06/02 18:36:03 handlers.go:56: Manager's clients:  map[]
2023/06/02 18:36:03 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:36:04 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:36:04 main.go:77: Cookie exists.
2023/06/02 18:36:05 handlers.go:41: Checking login status.
2023/06/02 18:36:05 handlers.go:56: Manager's clients:  map[]
2023/06/02 18:36:05 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:36:09 handlers.go:41: Checking login status.
2023/06/02 18:36:09 handlers.go:56: Manager's clients:  map[]
2023/06/02 18:36:09 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:36:09 handlers.go:108: Login handler reached.
2023/06/02 18:36:09 handlers.go:124: Login POST request received.
2023/06/02 18:36:09 utility.go:29: Password and hash match.
2023/06/02 18:36:09 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-02 12:28:02 Password:$2a$12$w9ii3aHQcYnJSgkSCskjM.WopLVDCQZHomxfIL8UwQSuSjmPN0kNy Session: NumberComments:0 NumberPosts:0}
2023/06/02 18:36:09 handlers.go:144: Authentication condition reached.
2023/06/02 18:36:09 handlers.go:145: User Login list:  map[]
2023/06/02 18:36:09 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:36:09 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:36:09 handlers.go:270: Serving websocket.
2023/06/02 18:36:09 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:36:09 handlers.go:278: Decoding request body.
2023/06/02 18:36:09 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:36:09 handlers.go:307: Client does not exist.
2023/06/02 18:36:09 ws-client.go:44: New client connected.
2023/06/02 18:36:09 ws-manager.go:233: Client: 127.0.0.1:55334 added to manager.
2023/06/02 18:36:09 ws-client.go:65: Client IP and client port num.:  127.0.0.1:55334
2023/06/02 18:36:10 ws-client.go:90: Client read message from:  127.0.0.1:55334
2023/06/02 18:36:10 ws-manager.go:75: Adding user info: {user-connect {"otp":"85c6eff2-0f80-4038-b6f5-243cff6fc5bc","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":false}}
2023/06/02 18:36:10 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/02 18:36:10 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/02 18:36:10 ws-client.go:177: Message sent to client: 127.0.0.1:55334 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/02 18:36:15 handlers.go:41: Checking login status.
2023/06/02 18:36:15 handlers.go:56: Manager's clients:  map[0xc0001caa10:true]
2023/06/02 18:36:15 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 18:36:15 handlers.go:108: Login handler reached.
2023/06/02 18:36:15 handlers.go:124: Login POST request received.
2023/06/02 18:36:16 utility.go:29: Password and hash match.
2023/06/02 18:36:16 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-02 12:28:24 Password:$2a$12$k1hUhG0PwPea1UQP6jLGxuI1xeFVg/qaOYKJz58RJ6kQJKgbOLVwm Session: NumberComments:0 NumberPosts:0}
2023/06/02 18:36:16 handlers.go:144: Authentication condition reached.
2023/06/02 18:36:16 handlers.go:145: User Login list:  map[admin:true]
2023/06/02 18:36:16 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:36:16 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:36:16 handlers.go:270: Serving websocket.
2023/06/02 18:36:16 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:36:16 handlers.go:278: Decoding request body.
2023/06/02 18:36:16 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:36:16 handlers.go:307: Client does not exist.
2023/06/02 18:36:16 ws-client.go:44: New client connected.
2023/06/02 18:36:16 ws-manager.go:233: Client: 127.0.0.1:47694 added to manager.
2023/06/02 18:36:16 ws-client.go:65: Client IP and client port num.:  127.0.0.1:47694
2023/06/02 18:36:16 ws-client.go:90: Client read message from:  127.0.0.1:47694
2023/06/02 18:36:16 ws-manager.go:75: Adding user info: {user-connect {"otp":"e4e3c771-0885-4b88-91c0-31bfc30b9c21","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":false}}
2023/06/02 18:36:16 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/02 18:36:16 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:36:16 ws-client.go:177: Message sent to client: 127.0.0.1:47694 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:36:16 ws-client.go:177: Message sent to client: 127.0.0.1:55334 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:36:19 ws-client.go:90: Client read message from:  127.0.0.1:55334
2023/06/02 18:36:19 ws-manager.go:116: History Request:  {0 admin usr1 false   0 0}
2023/06/02 18:36:19 ws-manager.go:134: History of Messages:  []
2023/06/02 18:36:19 ws-manager.go:148: History sent to:  admin
2023/06/02 18:36:19 ws-client.go:177: Message sent to client: 127.0.0.1:55334 Message: {"type":"chat_history","payload":null}
2023/06/02 18:37:03 ws-client.go:90: Client read message from:  127.0.0.1:55334
2023/06/02 18:37:03 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:37:03 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:37:03 main.go:77: Cookie exists.
2023/06/02 18:37:03 ws-client.go:182: Client connection is nil.
2023/06/02 18:37:04 handlers.go:41: Checking login status.
2023/06/02 18:37:04 handlers.go:56: Manager's clients:  map[0xc00013e8c0:true 0xc0001caa10:true]
2023/06/02 18:37:04 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:37:04 handlers.go:87: OTP:  2c8ea77e-afc8-465c-92c6-82799a7d4863
2023/06/02 18:37:04 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:37:04 handlers.go:270: Serving websocket.
2023/06/02 18:37:04 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:37:04 handlers.go:278: Decoding request body.
2023/06/02 18:37:04 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:37:04 handlers.go:293: Client already exists.
2023/06/02 18:37:04 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:37:04 ws-client.go:65: Client IP and client port num.:  127.0.0.1:58986
2023/06/02 18:37:04 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:04 ws-manager.go:75: Adding user info: {user-connect {"otp":"2c8ea77e-afc8-465c-92c6-82799a7d4863","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:37:04 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:37:04 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:37:04 ws-client.go:177: Message sent to client: 127.0.0.1:47694 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:37:04 ws-client.go:177: Message sent to client: 127.0.0.1:58986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:37:04 ws-client.go:90: Client read message from:  127.0.0.1:47694
2023/06/02 18:37:04 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:37:04 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:37:04 main.go:77: Cookie exists.
2023/06/02 18:37:05 handlers.go:41: Checking login status.
2023/06/02 18:37:05 handlers.go:56: Manager's clients:  map[0xc00013e8c0:true 0xc0001caa10:true]
2023/06/02 18:37:05 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:37:05 handlers.go:87: OTP:  4c3ccdc2-9ca5-494a-a85b-884aab4a97da
2023/06/02 18:37:05 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:37:05 handlers.go:270: Serving websocket.
2023/06/02 18:37:05 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:37:05 handlers.go:278: Decoding request body.
2023/06/02 18:37:05 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:37:05 handlers.go:293: Client already exists.
2023/06/02 18:37:05 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:37:05 ws-client.go:65: Client IP and client port num.:  127.0.0.1:59002
2023/06/02 18:37:05 ws-client.go:90: Client read message from:  127.0.0.1:59002
2023/06/02 18:37:05 ws-manager.go:75: Adding user info: {user-connect {"otp":"4c3ccdc2-9ca5-494a-a85b-884aab4a97da","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:37:05 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:37:05 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:37:05 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:37:05 ws-client.go:177: Message sent to client: 127.0.0.1:58986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:37:07 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:07 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/02 18:37:07 ws-manager.go:134: History of Messages:  [{27 admin usr1 false sdgkjbsdhsdgdguhssdgd 2023-06-02T17:51:05.162268619+03:00 0 0} {26 usr1 admin false sdgkjbdskjhsdgd 2023-06-02T17:51:01.941619098+03:00 0 0} {25 usr1 admin false segkhkduheosd 2023-06-02T17:50:38.937846688+03:00 0 0} {24 admin usr1 false sdgkjbsdggjsdgg 2023-06-02T17:50:35.746637569+03:00 0 0} {23 usr1 admin false sdgksdbggkjsdgshshsdh 2023-06-02T17:50:28.101803726+03:00 0 0} {22 admin usr1 false sdgnsdgjknsgd 2023-06-02T17:50:23.546747631+03:00 0 0} {21 usr1 admin false agkjbdgkjbsdg 2023-06-02T17:49:19.203863506+03:00 0 0} {20 admin usr1 false sdgkjbdggkjbsdggsh 2023-06-02T17:49:15.344459571+03:00 0 0} {19 usr1 admin false asdghbsdggkjb 2023-06-02T17:49:09.829929796+03:00 0 0} {18 usr1 admin false aegkjbadgkjbsg 2023-06-02T17:49:02.678071426+03:00 0 0}]
2023/06/02 18:37:07 ws-manager.go:148: History sent to:  admin
2023/06/02 18:37:07 ws-client.go:177: Message sent to client: 127.0.0.1:58986 Message: {"type":"chat_history","payload":[{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdhsdgdguhssdgd","created_at":"2023-06-02T17:51:05.162268619+03:00","limit":0,"offset":0},{"id":26,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjbdskjhsdgd","created_at":"2023-06-02T17:51:01.941619098+03:00","limit":0,"offset":0},{"id":25,"from":"usr1","to":"admin","is_read":false,"message":"segkhkduheosd","created_at":"2023-06-02T17:50:38.937846688+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdggjsdgg","created_at":"2023-06-02T17:50:35.746637569+03:00","limit":0,"offset":0},{"id":23,"from":"usr1","to":"admin","is_read":false,"message":"sdgksdbggkjsdgshshsdh","created_at":"2023-06-02T17:50:28.101803726+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"sdgnsdgjknsgd","created_at":"2023-06-02T17:50:23.546747631+03:00","limit":0,"offset":0},{"id":21,"from":"usr1","to":"admin","is_read":false,"message":"agkjbdgkjbsdg","created_at":"2023-06-02T17:49:19.203863506+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbdggkjbsdggsh","created_at":"2023-06-02T17:49:15.344459571+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"asdghbsdggkjb","created_at":"2023-06-02T17:49:09.829929796+03:00","limit":0,"offset":0},{"id":18,"from":"usr1","to":"admin","is_read":false,"message":"aegkjbadgkjbsg","created_at":"2023-06-02T17:49:02.678071426+03:00","limit":0,"offset":0}]}
2023/06/02 18:37:29 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:29 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:29 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:29 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:29 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:29 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:30 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:30 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:30 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:30 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:30 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:30 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:30 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:30 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:30 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:30 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:30 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:30 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:30 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:30 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:30 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:30 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:30 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:30 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:31 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:31 ws-manager.go:199: History sent to:  usr1
2023/06/02 18:37:31 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:35 ws-client.go:90: Client read message from:  127.0.0.1:59002
2023/06/02 18:37:35 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/02 18:37:35 ws-manager.go:134: History of Messages:  [{27 admin usr1 false sdgkjbsdhsdgdguhssdgd 2023-06-02T17:51:05.162268619+03:00 0 0} {26 usr1 admin false sdgkjbdskjhsdgd 2023-06-02T17:51:01.941619098+03:00 0 0} {25 usr1 admin false segkhkduheosd 2023-06-02T17:50:38.937846688+03:00 0 0} {24 admin usr1 false sdgkjbsdggjsdgg 2023-06-02T17:50:35.746637569+03:00 0 0} {23 usr1 admin false sdgksdbggkjsdgshshsdh 2023-06-02T17:50:28.101803726+03:00 0 0} {22 admin usr1 false sdgnsdgjknsgd 2023-06-02T17:50:23.546747631+03:00 0 0} {21 usr1 admin false agkjbdgkjbsdg 2023-06-02T17:49:19.203863506+03:00 0 0} {20 admin usr1 false sdgkjbdggkjbsdggsh 2023-06-02T17:49:15.344459571+03:00 0 0} {19 usr1 admin false asdghbsdggkjb 2023-06-02T17:49:09.829929796+03:00 0 0} {18 usr1 admin false aegkjbadgkjbsg 2023-06-02T17:49:02.678071426+03:00 0 0}]
2023/06/02 18:37:35 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:37:35 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"chat_history","payload":[{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdhsdgdguhssdgd","created_at":"2023-06-02T17:51:05.162268619+03:00","limit":0,"offset":0},{"id":26,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjbdskjhsdgd","created_at":"2023-06-02T17:51:01.941619098+03:00","limit":0,"offset":0},{"id":25,"from":"usr1","to":"admin","is_read":false,"message":"segkhkduheosd","created_at":"2023-06-02T17:50:38.937846688+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdggjsdgg","created_at":"2023-06-02T17:50:35.746637569+03:00","limit":0,"offset":0},{"id":23,"from":"usr1","to":"admin","is_read":false,"message":"sdgksdbggkjsdgshshsdh","created_at":"2023-06-02T17:50:28.101803726+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"sdgnsdgjknsgd","created_at":"2023-06-02T17:50:23.546747631+03:00","limit":0,"offset":0},{"id":21,"from":"usr1","to":"admin","is_read":false,"message":"agkjbdgkjbsdg","created_at":"2023-06-02T17:49:19.203863506+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbdggkjbsdggsh","created_at":"2023-06-02T17:49:15.344459571+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"asdghbsdggkjb","created_at":"2023-06-02T17:49:09.829929796+03:00","limit":0,"offset":0},{"id":18,"from":"usr1","to":"admin","is_read":false,"message":"aegkjbadgkjbsg","created_at":"2023-06-02T17:49:02.678071426+03:00","limit":0,"offset":0}]}
2023/06/02 18:37:36 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:36 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:36 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:36 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:36 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:36 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:36 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:36 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:36 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:37 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:37 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:37 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:37 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:37 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:37 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:37 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:37 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:37 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:37 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:37 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:37 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:37 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:37 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:37 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:37 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:37 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:37 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:37 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:37 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:37 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:38 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:38 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:38 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:38 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:38 ws-manager.go:174: History sent to:  usr1
2023/06/02 18:37:38 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:39 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:39 ws-manager.go:199: History sent to:  usr1
2023/06/02 18:37:39 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/02 18:37:39 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:39 ws-manager.go:38: Event/message sent: {new-message {"message":"sbkjnsfsdghbsdkbsdg\n","from":"admin","to":"usr1","sent":1685720259609}}
2023/06/02 18:37:39 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"sent-message","payload":{"message":"sbkjnsfsdghbsdkbsdg\n","from":"admin","to":"usr1","sent":"2023-06-02T18:37:39.614713914+03:00"}}
2023/06/02 18:37:41 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:41 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/02 18:37:41 ws-manager.go:134: History of Messages:  [{18 usr1 admin false aegkjbadgkjbsg 2023-06-02T17:49:02.678071426+03:00 0 0} {17 admin usr1 false asdkjbjakgjb 2023-06-02T17:48:59.073317241+03:00 0 0} {16 admin usr1 false afkjbakfjbadg 2023-06-02T17:48:56.214225195+03:00 0 0} {15 admin usr1 false afkjbadg 2023-06-02T17:48:53.011143911+03:00 0 0} {14 usr1 admin false sdgjnsdg 2023-06-02T17:48:48.840116214+03:00 0 0} {13 usr1 admin false asfkjbjaff 2023-06-02T17:48:16.581559163+03:00 0 0} {12 admin usr1 false khkbadgag 2023-06-02T17:48:13.644135374+03:00 0 0} {11 usr1 admin false kjsdgkjbsdgkjb 2023-06-02T17:40:15.417332105+03:00 0 0} {10 admin usr1 false jfjhjygyjgyjg 2023-06-02T17:40:13.64667432+03:00 0 0} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00 0 0}]
2023/06/02 18:37:41 ws-manager.go:148: History sent to:  admin
2023/06/02 18:37:41 ws-client.go:177: Message sent to client: 127.0.0.1:58986 Message: {"type":"chat_history","payload":[{"id":18,"from":"usr1","to":"admin","is_read":false,"message":"aegkjbadgkjbsg","created_at":"2023-06-02T17:49:02.678071426+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"asdkjbjakgjb","created_at":"2023-06-02T17:48:59.073317241+03:00","limit":0,"offset":0},{"id":16,"from":"admin","to":"usr1","is_read":false,"message":"afkjbakfjbadg","created_at":"2023-06-02T17:48:56.214225195+03:00","limit":0,"offset":0},{"id":15,"from":"admin","to":"usr1","is_read":false,"message":"afkjbadg","created_at":"2023-06-02T17:48:53.011143911+03:00","limit":0,"offset":0},{"id":14,"from":"usr1","to":"admin","is_read":false,"message":"sdgjnsdg","created_at":"2023-06-02T17:48:48.840116214+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"asfkjbjaff","created_at":"2023-06-02T17:48:16.581559163+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"khkbadgag","created_at":"2023-06-02T17:48:13.644135374+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"kjsdgkjbsdgkjb","created_at":"2023-06-02T17:40:15.417332105+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"jfjhjygyjgyjg","created_at":"2023-06-02T17:40:13.64667432+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00","limit":0,"offset":0}]}
2023/06/02 18:37:42 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:42 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/02 18:37:42 ws-manager.go:134: History of Messages:  [{8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00 0 0} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00 0 0} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00 0 0} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00 0 0} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00 0 0} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00 0 0} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00 0 0} {1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00 0 0}]
2023/06/02 18:37:42 ws-manager.go:148: History sent to:  admin
2023/06/02 18:37:42 ws-client.go:177: Message sent to client: 127.0.0.1:58986 Message: {"type":"chat_history","payload":[{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00","limit":0,"offset":0},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00","limit":0,"offset":0},{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00","limit":0,"offset":0}]}
2023/06/02 18:37:43 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:43 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/02 18:37:43 ws-manager.go:134: History of Messages:  []
2023/06/02 18:37:43 ws-manager.go:148: History sent to:  admin
2023/06/02 18:37:43 ws-client.go:177: Message sent to client: 127.0.0.1:58986 Message: {"type":"chat_history","payload":null}
2023/06/02 18:37:49 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:37:49 ws-manager.go:116: History Request:  {0 admin usr1 false   10 40}
2023/06/02 18:37:49 ws-manager.go:134: History of Messages:  []
2023/06/02 18:37:49 ws-manager.go:148: History sent to:  admin
2023/06/02 18:37:49 ws-client.go:177: Message sent to client: 127.0.0.1:58986 Message: {"type":"chat_history","payload":null}
2023/06/02 18:38:04 ws-client.go:90: Client read message from:  127.0.0.1:59002
2023/06/02 18:38:04 ws-manager.go:116: History Request:  {0 usr1 admin false   10 10}
2023/06/02 18:38:04 ws-manager.go:134: History of Messages:  [{18 usr1 admin false aegkjbadgkjbsg 2023-06-02T17:49:02.678071426+03:00 0 0} {17 admin usr1 false asdkjbjakgjb 2023-06-02T17:48:59.073317241+03:00 0 0} {16 admin usr1 false afkjbakfjbadg 2023-06-02T17:48:56.214225195+03:00 0 0} {15 admin usr1 false afkjbadg 2023-06-02T17:48:53.011143911+03:00 0 0} {14 usr1 admin false sdgjnsdg 2023-06-02T17:48:48.840116214+03:00 0 0} {13 usr1 admin false asfkjbjaff 2023-06-02T17:48:16.581559163+03:00 0 0} {12 admin usr1 false khkbadgag 2023-06-02T17:48:13.644135374+03:00 0 0} {11 usr1 admin false kjsdgkjbsdgkjb 2023-06-02T17:40:15.417332105+03:00 0 0} {10 admin usr1 false jfjhjygyjgyjg 2023-06-02T17:40:13.64667432+03:00 0 0} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00 0 0}]
2023/06/02 18:38:04 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:38:04 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"chat_history","payload":[{"id":18,"from":"usr1","to":"admin","is_read":false,"message":"aegkjbadgkjbsg","created_at":"2023-06-02T17:49:02.678071426+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"asdkjbjakgjb","created_at":"2023-06-02T17:48:59.073317241+03:00","limit":0,"offset":0},{"id":16,"from":"admin","to":"usr1","is_read":false,"message":"afkjbakfjbadg","created_at":"2023-06-02T17:48:56.214225195+03:00","limit":0,"offset":0},{"id":15,"from":"admin","to":"usr1","is_read":false,"message":"afkjbadg","created_at":"2023-06-02T17:48:53.011143911+03:00","limit":0,"offset":0},{"id":14,"from":"usr1","to":"admin","is_read":false,"message":"sdgjnsdg","created_at":"2023-06-02T17:48:48.840116214+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"asfkjbjaff","created_at":"2023-06-02T17:48:16.581559163+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"khkbadgag","created_at":"2023-06-02T17:48:13.644135374+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"kjsdgkjbsdgkjb","created_at":"2023-06-02T17:40:15.417332105+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"jfjhjygyjgyjg","created_at":"2023-06-02T17:40:13.64667432+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00","limit":0,"offset":0}]}
2023/06/02 18:38:06 ws-client.go:90: Client read message from:  127.0.0.1:59002
2023/06/02 18:38:06 ws-manager.go:116: History Request:  {0 usr1 admin false   10 20}
2023/06/02 18:38:06 ws-manager.go:134: History of Messages:  [{8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00 0 0} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00 0 0} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00 0 0} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00 0 0} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00 0 0} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00 0 0} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00 0 0} {1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00 0 0}]
2023/06/02 18:38:06 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:38:06 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"chat_history","payload":[{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00","limit":0,"offset":0},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00","limit":0,"offset":0},{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00","limit":0,"offset":0}]}
2023/06/02 18:38:07 ws-client.go:90: Client read message from:  127.0.0.1:59002
2023/06/02 18:38:07 ws-manager.go:116: History Request:  {0 usr1 admin false   10 30}
2023/06/02 18:38:07 ws-manager.go:134: History of Messages:  []
2023/06/02 18:38:07 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:38:07 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"chat_history","payload":null}
2023/06/02 18:38:29 ws-client.go:90: Client read message from:  127.0.0.1:58986
2023/06/02 18:38:29 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:38:29 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:38:29 main.go:77: Cookie exists.
2023/06/02 18:38:30 handlers.go:41: Checking login status.
2023/06/02 18:38:30 handlers.go:56: Manager's clients:  map[0xc00013e8c0:true 0xc0001caa10:true]
2023/06/02 18:38:30 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:38:30 handlers.go:87: OTP:  c002ff47-55fd-4f7a-8622-dd369664ff9e
2023/06/02 18:38:30 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:38:30 handlers.go:270: Serving websocket.
2023/06/02 18:38:30 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:38:30 handlers.go:278: Decoding request body.
2023/06/02 18:38:30 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:38:30 handlers.go:293: Client already exists.
2023/06/02 18:38:30 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:38:30 ws-client.go:65: Client IP and client port num.:  127.0.0.1:39806
2023/06/02 18:38:30 ws-client.go:90: Client read message from:  127.0.0.1:39806
2023/06/02 18:38:30 ws-manager.go:75: Adding user info: {user-connect {"otp":"c002ff47-55fd-4f7a-8622-dd369664ff9e","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:38:30 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:38:30 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:38:30 ws-client.go:177: Message sent to client: 127.0.0.1:59002 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:38:30 ws-client.go:177: Message sent to client: 127.0.0.1:39806 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:38:30 ws-client.go:90: Client read message from:  127.0.0.1:59002
2023/06/02 18:38:30 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:38:31 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:38:31 main.go:77: Cookie exists.
2023/06/02 18:38:31 ws-client.go:182: Client connection is nil.
2023/06/02 18:38:31 handlers.go:41: Checking login status.
2023/06/02 18:38:31 handlers.go:56: Manager's clients:  map[0xc00013e8c0:true 0xc0001caa10:true]
2023/06/02 18:38:31 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:38:31 handlers.go:87: OTP:  ad121b05-31aa-4ea1-9495-34fd7f99b632
2023/06/02 18:38:31 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:38:31 handlers.go:270: Serving websocket.
2023/06/02 18:38:31 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:38:31 handlers.go:278: Decoding request body.
2023/06/02 18:38:31 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:38:31 handlers.go:293: Client already exists.
2023/06/02 18:38:31 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:38:31 ws-client.go:65: Client IP and client port num.:  127.0.0.1:39820
2023/06/02 18:38:31 ws-client.go:90: Client read message from:  127.0.0.1:39820
2023/06/02 18:38:31 ws-manager.go:75: Adding user info: {user-connect {"otp":"ad121b05-31aa-4ea1-9495-34fd7f99b632","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:38:31 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:38:31 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:38:31 ws-client.go:177: Message sent to client: 127.0.0.1:39820 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:38:31 ws-client.go:177: Message sent to client: 127.0.0.1:39806 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:38:33 ws-client.go:90: Client read message from:  127.0.0.1:39806
2023/06/02 18:38:33 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/02 18:38:33 ws-manager.go:134: History of Messages:  [{28 admin usr1 false sbkjnsfsdghbsdkbsdg
 2023-06-02T18:37:39.614713914+03:00 0 0} {27 admin usr1 false sdgkjbsdhsdgdguhssdgd 2023-06-02T17:51:05.162268619+03:00 0 0} {26 usr1 admin false sdgkjbdskjhsdgd 2023-06-02T17:51:01.941619098+03:00 0 0} {25 usr1 admin false segkhkduheosd 2023-06-02T17:50:38.937846688+03:00 0 0} {24 admin usr1 false sdgkjbsdggjsdgg 2023-06-02T17:50:35.746637569+03:00 0 0} {23 usr1 admin false sdgksdbggkjsdgshshsdh 2023-06-02T17:50:28.101803726+03:00 0 0} {22 admin usr1 false sdgnsdgjknsgd 2023-06-02T17:50:23.546747631+03:00 0 0} {21 usr1 admin false agkjbdgkjbsdg 2023-06-02T17:49:19.203863506+03:00 0 0} {20 admin usr1 false sdgkjbdggkjbsdggsh 2023-06-02T17:49:15.344459571+03:00 0 0} {19 usr1 admin false asdghbsdggkjb 2023-06-02T17:49:09.829929796+03:00 0 0}]
2023/06/02 18:38:33 ws-manager.go:148: History sent to:  admin
2023/06/02 18:38:33 ws-client.go:177: Message sent to client: 127.0.0.1:39806 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sbkjnsfsdghbsdkbsdg\n","created_at":"2023-06-02T18:37:39.614713914+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdhsdgdguhssdgd","created_at":"2023-06-02T17:51:05.162268619+03:00","limit":0,"offset":0},{"id":26,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjbdskjhsdgd","created_at":"2023-06-02T17:51:01.941619098+03:00","limit":0,"offset":0},{"id":25,"from":"usr1","to":"admin","is_read":false,"message":"segkhkduheosd","created_at":"2023-06-02T17:50:38.937846688+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdggjsdgg","created_at":"2023-06-02T17:50:35.746637569+03:00","limit":0,"offset":0},{"id":23,"from":"usr1","to":"admin","is_read":false,"message":"sdgksdbggkjsdgshshsdh","created_at":"2023-06-02T17:50:28.101803726+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"sdgnsdgjknsgd","created_at":"2023-06-02T17:50:23.546747631+03:00","limit":0,"offset":0},{"id":21,"from":"usr1","to":"admin","is_read":false,"message":"agkjbdgkjbsdg","created_at":"2023-06-02T17:49:19.203863506+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbdggkjbsdggsh","created_at":"2023-06-02T17:49:15.344459571+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"asdghbsdggkjb","created_at":"2023-06-02T17:49:09.829929796+03:00","limit":0,"offset":0}]}
2023/06/02 18:38:36 ws-client.go:90: Client read message from:  127.0.0.1:39820
2023/06/02 18:38:36 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/02 18:38:36 ws-manager.go:134: History of Messages:  [{28 admin usr1 false sbkjnsfsdghbsdkbsdg
 2023-06-02T18:37:39.614713914+03:00 0 0} {27 admin usr1 false sdgkjbsdhsdgdguhssdgd 2023-06-02T17:51:05.162268619+03:00 0 0} {26 usr1 admin false sdgkjbdskjhsdgd 2023-06-02T17:51:01.941619098+03:00 0 0} {25 usr1 admin false segkhkduheosd 2023-06-02T17:50:38.937846688+03:00 0 0} {24 admin usr1 false sdgkjbsdggjsdgg 2023-06-02T17:50:35.746637569+03:00 0 0} {23 usr1 admin false sdgksdbggkjsdgshshsdh 2023-06-02T17:50:28.101803726+03:00 0 0} {22 admin usr1 false sdgnsdgjknsgd 2023-06-02T17:50:23.546747631+03:00 0 0} {21 usr1 admin false agkjbdgkjbsdg 2023-06-02T17:49:19.203863506+03:00 0 0} {20 admin usr1 false sdgkjbdggkjbsdggsh 2023-06-02T17:49:15.344459571+03:00 0 0} {19 usr1 admin false asdghbsdggkjb 2023-06-02T17:49:09.829929796+03:00 0 0}]
2023/06/02 18:38:36 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:38:36 ws-client.go:177: Message sent to client: 127.0.0.1:39820 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sbkjnsfsdghbsdkbsdg\n","created_at":"2023-06-02T18:37:39.614713914+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdhsdgdguhssdgd","created_at":"2023-06-02T17:51:05.162268619+03:00","limit":0,"offset":0},{"id":26,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjbdskjhsdgd","created_at":"2023-06-02T17:51:01.941619098+03:00","limit":0,"offset":0},{"id":25,"from":"usr1","to":"admin","is_read":false,"message":"segkhkduheosd","created_at":"2023-06-02T17:50:38.937846688+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdggjsdgg","created_at":"2023-06-02T17:50:35.746637569+03:00","limit":0,"offset":0},{"id":23,"from":"usr1","to":"admin","is_read":false,"message":"sdgksdbggkjsdgshshsdh","created_at":"2023-06-02T17:50:28.101803726+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"sdgnsdgjknsgd","created_at":"2023-06-02T17:50:23.546747631+03:00","limit":0,"offset":0},{"id":21,"from":"usr1","to":"admin","is_read":false,"message":"agkjbdgkjbsdg","created_at":"2023-06-02T17:49:19.203863506+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbdggkjbsdggsh","created_at":"2023-06-02T17:49:15.344459571+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"asdghbsdggkjb","created_at":"2023-06-02T17:49:09.829929796+03:00","limit":0,"offset":0}]}
2023/06/02 18:38:45 ws-client.go:90: Client read message from:  127.0.0.1:39806
2023/06/02 18:38:45 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/02 18:38:45 ws-manager.go:134: History of Messages:  [{18 usr1 admin false aegkjbadgkjbsg 2023-06-02T17:49:02.678071426+03:00 0 0} {17 admin usr1 false asdkjbjakgjb 2023-06-02T17:48:59.073317241+03:00 0 0} {16 admin usr1 false afkjbakfjbadg 2023-06-02T17:48:56.214225195+03:00 0 0} {15 admin usr1 false afkjbadg 2023-06-02T17:48:53.011143911+03:00 0 0} {14 usr1 admin false sdgjnsdg 2023-06-02T17:48:48.840116214+03:00 0 0} {13 usr1 admin false asfkjbjaff 2023-06-02T17:48:16.581559163+03:00 0 0} {12 admin usr1 false khkbadgag 2023-06-02T17:48:13.644135374+03:00 0 0} {11 usr1 admin false kjsdgkjbsdgkjb 2023-06-02T17:40:15.417332105+03:00 0 0} {10 admin usr1 false jfjhjygyjgyjg 2023-06-02T17:40:13.64667432+03:00 0 0} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00 0 0}]
2023/06/02 18:38:45 ws-manager.go:148: History sent to:  admin
2023/06/02 18:38:45 ws-client.go:177: Message sent to client: 127.0.0.1:39806 Message: {"type":"chat_history","payload":[{"id":18,"from":"usr1","to":"admin","is_read":false,"message":"aegkjbadgkjbsg","created_at":"2023-06-02T17:49:02.678071426+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"asdkjbjakgjb","created_at":"2023-06-02T17:48:59.073317241+03:00","limit":0,"offset":0},{"id":16,"from":"admin","to":"usr1","is_read":false,"message":"afkjbakfjbadg","created_at":"2023-06-02T17:48:56.214225195+03:00","limit":0,"offset":0},{"id":15,"from":"admin","to":"usr1","is_read":false,"message":"afkjbadg","created_at":"2023-06-02T17:48:53.011143911+03:00","limit":0,"offset":0},{"id":14,"from":"usr1","to":"admin","is_read":false,"message":"sdgjnsdg","created_at":"2023-06-02T17:48:48.840116214+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"asfkjbjaff","created_at":"2023-06-02T17:48:16.581559163+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"khkbadgag","created_at":"2023-06-02T17:48:13.644135374+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"kjsdgkjbsdgkjb","created_at":"2023-06-02T17:40:15.417332105+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"jfjhjygyjgyjg","created_at":"2023-06-02T17:40:13.64667432+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00","limit":0,"offset":0}]}
2023/06/02 18:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39806
2023/06/02 18:38:49 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/02 18:38:49 ws-manager.go:134: History of Messages:  [{8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00 0 0} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00 0 0} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00 0 0} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00 0 0} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00 0 0} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00 0 0} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00 0 0} {1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00 0 0}]
2023/06/02 18:38:49 ws-manager.go:148: History sent to:  admin
2023/06/02 18:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39806 Message: {"type":"chat_history","payload":[{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00","limit":0,"offset":0},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00","limit":0,"offset":0},{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00","limit":0,"offset":0}]}
2023/06/02 18:38:51 ws-client.go:90: Client read message from:  127.0.0.1:39806
2023/06/02 18:38:51 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/02 18:38:51 ws-manager.go:134: History of Messages:  []
2023/06/02 18:38:51 ws-manager.go:148: History sent to:  admin
2023/06/02 18:38:51 ws-client.go:177: Message sent to client: 127.0.0.1:39806 Message: {"type":"chat_history","payload":null}
2023/06/02 18:39:40 ws-client.go:90: Client read message from:  127.0.0.1:39806
2023/06/02 18:39:40 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:39:40 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:39:40 main.go:77: Cookie exists.
2023/06/02 18:39:41 handlers.go:41: Checking login status.
2023/06/02 18:39:41 handlers.go:56: Manager's clients:  map[0xc00013e8c0:true 0xc0001caa10:true]
2023/06/02 18:39:41 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:39:41 handlers.go:87: OTP:  24fee66a-893f-473e-bdad-a44bbe73143e
2023/06/02 18:39:41 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:39:41 handlers.go:270: Serving websocket.
2023/06/02 18:39:41 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:39:41 handlers.go:278: Decoding request body.
2023/06/02 18:39:41 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 18:39:41 handlers.go:293: Client already exists.
2023/06/02 18:39:41 handlers.go:294: ClientUName Debug:  admin
2023/06/02 18:39:41 ws-client.go:65: Client IP and client port num.:  127.0.0.1:60556
2023/06/02 18:39:41 ws-client.go:90: Client read message from:  127.0.0.1:60556
2023/06/02 18:39:41 ws-manager.go:75: Adding user info: {user-connect {"otp":"24fee66a-893f-473e-bdad-a44bbe73143e","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 18:39:41 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:39:41 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:39:41 ws-client.go:177: Message sent to client: 127.0.0.1:39820 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:39:41 ws-client.go:177: Message sent to client: 127.0.0.1:60556 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:39:42 ws-client.go:90: Client read message from:  127.0.0.1:39820
2023/06/02 18:39:42 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 18:39:42 main.go:73: Handling request "/" and serving index.html
2023/06/02 18:39:42 main.go:77: Cookie exists.
2023/06/02 18:39:42 handlers.go:41: Checking login status.
2023/06/02 18:39:42 handlers.go:56: Manager's clients:  map[0xc00013e8c0:true 0xc0001caa10:true]
2023/06/02 18:39:42 handlers.go:67: Session cookie found. User logged in
2023/06/02 18:39:42 handlers.go:87: OTP:  091ff63f-70ec-4e3a-98a3-87cee06b1745
2023/06/02 18:39:42 handlers.go:376: AllPostsHandler reached.
2023/06/02 18:39:43 handlers.go:270: Serving websocket.
2023/06/02 18:39:43 handlers.go:30: Checking origin: https://localhost
2023/06/02 18:39:43 handlers.go:278: Decoding request body.
2023/06/02 18:39:43 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 18:39:43 handlers.go:293: Client already exists.
2023/06/02 18:39:43 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 18:39:43 ws-client.go:65: Client IP and client port num.:  127.0.0.1:60576
2023/06/02 18:39:43 ws-client.go:90: Client read message from:  127.0.0.1:60576
2023/06/02 18:39:43 ws-manager.go:75: Adding user info: {user-connect {"otp":"091ff63f-70ec-4e3a-98a3-87cee06b1745","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 18:39:43 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:39:43 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 18:39:43 ws-client.go:177: Message sent to client: 127.0.0.1:60576 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:39:43 ws-client.go:177: Message sent to client: 127.0.0.1:60556 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 18:39:48 ws-client.go:90: Client read message from:  127.0.0.1:60556
2023/06/02 18:39:48 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/02 18:39:48 ws-manager.go:134: History of Messages:  [{28 admin usr1 false sbkjnsfsdghbsdkbsdg
 2023-06-02T18:37:39.614713914+03:00 0 0} {27 admin usr1 false sdgkjbsdhsdgdguhssdgd 2023-06-02T17:51:05.162268619+03:00 0 0} {26 usr1 admin false sdgkjbdskjhsdgd 2023-06-02T17:51:01.941619098+03:00 0 0} {25 usr1 admin false segkhkduheosd 2023-06-02T17:50:38.937846688+03:00 0 0} {24 admin usr1 false sdgkjbsdggjsdgg 2023-06-02T17:50:35.746637569+03:00 0 0} {23 usr1 admin false sdgksdbggkjsdgshshsdh 2023-06-02T17:50:28.101803726+03:00 0 0} {22 admin usr1 false sdgnsdgjknsgd 2023-06-02T17:50:23.546747631+03:00 0 0} {21 usr1 admin false agkjbdgkjbsdg 2023-06-02T17:49:19.203863506+03:00 0 0} {20 admin usr1 false sdgkjbdggkjbsdggsh 2023-06-02T17:49:15.344459571+03:00 0 0} {19 usr1 admin false asdghbsdggkjb 2023-06-02T17:49:09.829929796+03:00 0 0}]
2023/06/02 18:39:48 ws-manager.go:148: History sent to:  admin
2023/06/02 18:39:48 ws-client.go:177: Message sent to client: 127.0.0.1:60556 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sbkjnsfsdghbsdkbsdg\n","created_at":"2023-06-02T18:37:39.614713914+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdhsdgdguhssdgd","created_at":"2023-06-02T17:51:05.162268619+03:00","limit":0,"offset":0},{"id":26,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjbdskjhsdgd","created_at":"2023-06-02T17:51:01.941619098+03:00","limit":0,"offset":0},{"id":25,"from":"usr1","to":"admin","is_read":false,"message":"segkhkduheosd","created_at":"2023-06-02T17:50:38.937846688+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdggjsdgg","created_at":"2023-06-02T17:50:35.746637569+03:00","limit":0,"offset":0},{"id":23,"from":"usr1","to":"admin","is_read":false,"message":"sdgksdbggkjsdgshshsdh","created_at":"2023-06-02T17:50:28.101803726+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"sdgnsdgjknsgd","created_at":"2023-06-02T17:50:23.546747631+03:00","limit":0,"offset":0},{"id":21,"from":"usr1","to":"admin","is_read":false,"message":"agkjbdgkjbsdg","created_at":"2023-06-02T17:49:19.203863506+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbdggkjbsdggsh","created_at":"2023-06-02T17:49:15.344459571+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"asdghbsdggkjb","created_at":"2023-06-02T17:49:09.829929796+03:00","limit":0,"offset":0}]}
2023/06/02 18:39:49 ws-client.go:90: Client read message from:  127.0.0.1:60576
2023/06/02 18:39:49 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/02 18:39:49 ws-manager.go:134: History of Messages:  [{28 admin usr1 false sbkjnsfsdghbsdkbsdg
 2023-06-02T18:37:39.614713914+03:00 0 0} {27 admin usr1 false sdgkjbsdhsdgdguhssdgd 2023-06-02T17:51:05.162268619+03:00 0 0} {26 usr1 admin false sdgkjbdskjhsdgd 2023-06-02T17:51:01.941619098+03:00 0 0} {25 usr1 admin false segkhkduheosd 2023-06-02T17:50:38.937846688+03:00 0 0} {24 admin usr1 false sdgkjbsdggjsdgg 2023-06-02T17:50:35.746637569+03:00 0 0} {23 usr1 admin false sdgksdbggkjsdgshshsdh 2023-06-02T17:50:28.101803726+03:00 0 0} {22 admin usr1 false sdgnsdgjknsgd 2023-06-02T17:50:23.546747631+03:00 0 0} {21 usr1 admin false agkjbdgkjbsdg 2023-06-02T17:49:19.203863506+03:00 0 0} {20 admin usr1 false sdgkjbdggkjbsdggsh 2023-06-02T17:49:15.344459571+03:00 0 0} {19 usr1 admin false asdghbsdggkjb 2023-06-02T17:49:09.829929796+03:00 0 0}]
2023/06/02 18:39:49 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:39:49 ws-client.go:177: Message sent to client: 127.0.0.1:60576 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sbkjnsfsdghbsdkbsdg\n","created_at":"2023-06-02T18:37:39.614713914+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdhsdgdguhssdgd","created_at":"2023-06-02T17:51:05.162268619+03:00","limit":0,"offset":0},{"id":26,"from":"usr1","to":"admin","is_read":false,"message":"sdgkjbdskjhsdgd","created_at":"2023-06-02T17:51:01.941619098+03:00","limit":0,"offset":0},{"id":25,"from":"usr1","to":"admin","is_read":false,"message":"segkhkduheosd","created_at":"2023-06-02T17:50:38.937846688+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdggjsdgg","created_at":"2023-06-02T17:50:35.746637569+03:00","limit":0,"offset":0},{"id":23,"from":"usr1","to":"admin","is_read":false,"message":"sdgksdbggkjsdgshshsdh","created_at":"2023-06-02T17:50:28.101803726+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"sdgnsdgjknsgd","created_at":"2023-06-02T17:50:23.546747631+03:00","limit":0,"offset":0},{"id":21,"from":"usr1","to":"admin","is_read":false,"message":"agkjbdgkjbsdg","created_at":"2023-06-02T17:49:19.203863506+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbdggkjbsdggsh","created_at":"2023-06-02T17:49:15.344459571+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"asdghbsdggkjb","created_at":"2023-06-02T17:49:09.829929796+03:00","limit":0,"offset":0}]}
2023/06/02 18:39:58 ws-client.go:90: Client read message from:  127.0.0.1:60576
2023/06/02 18:39:58 ws-manager.go:116: History Request:  {0 usr1 admin false   10 10}
2023/06/02 18:39:58 ws-manager.go:134: History of Messages:  [{18 usr1 admin false aegkjbadgkjbsg 2023-06-02T17:49:02.678071426+03:00 0 0} {17 admin usr1 false asdkjbjakgjb 2023-06-02T17:48:59.073317241+03:00 0 0} {16 admin usr1 false afkjbakfjbadg 2023-06-02T17:48:56.214225195+03:00 0 0} {15 admin usr1 false afkjbadg 2023-06-02T17:48:53.011143911+03:00 0 0} {14 usr1 admin false sdgjnsdg 2023-06-02T17:48:48.840116214+03:00 0 0} {13 usr1 admin false asfkjbjaff 2023-06-02T17:48:16.581559163+03:00 0 0} {12 admin usr1 false khkbadgag 2023-06-02T17:48:13.644135374+03:00 0 0} {11 usr1 admin false kjsdgkjbsdgkjb 2023-06-02T17:40:15.417332105+03:00 0 0} {10 admin usr1 false jfjhjygyjgyjg 2023-06-02T17:40:13.64667432+03:00 0 0} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00 0 0}]
2023/06/02 18:39:58 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:39:58 ws-client.go:177: Message sent to client: 127.0.0.1:60576 Message: {"type":"chat_history","payload":[{"id":18,"from":"usr1","to":"admin","is_read":false,"message":"aegkjbadgkjbsg","created_at":"2023-06-02T17:49:02.678071426+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"asdkjbjakgjb","created_at":"2023-06-02T17:48:59.073317241+03:00","limit":0,"offset":0},{"id":16,"from":"admin","to":"usr1","is_read":false,"message":"afkjbakfjbadg","created_at":"2023-06-02T17:48:56.214225195+03:00","limit":0,"offset":0},{"id":15,"from":"admin","to":"usr1","is_read":false,"message":"afkjbadg","created_at":"2023-06-02T17:48:53.011143911+03:00","limit":0,"offset":0},{"id":14,"from":"usr1","to":"admin","is_read":false,"message":"sdgjnsdg","created_at":"2023-06-02T17:48:48.840116214+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"asfkjbjaff","created_at":"2023-06-02T17:48:16.581559163+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"khkbadgag","created_at":"2023-06-02T17:48:13.644135374+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"kjsdgkjbsdgkjb","created_at":"2023-06-02T17:40:15.417332105+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"jfjhjygyjgyjg","created_at":"2023-06-02T17:40:13.64667432+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00","limit":0,"offset":0}]}
2023/06/02 18:40:00 ws-client.go:90: Client read message from:  127.0.0.1:60576
2023/06/02 18:40:00 ws-manager.go:116: History Request:  {0 usr1 admin false   10 20}
2023/06/02 18:40:00 ws-manager.go:134: History of Messages:  [{8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00 0 0} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00 0 0} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00 0 0} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00 0 0} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00 0 0} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00 0 0} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00 0 0} {1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00 0 0}]
2023/06/02 18:40:00 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:40:00 ws-client.go:177: Message sent to client: 127.0.0.1:60576 Message: {"type":"chat_history","payload":[{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00","limit":0,"offset":0},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00","limit":0,"offset":0},{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00","limit":0,"offset":0}]}
2023/06/02 18:40:04 ws-client.go:90: Client read message from:  127.0.0.1:60576
2023/06/02 18:40:04 ws-manager.go:116: History Request:  {0 usr1 admin false   10 30}
2023/06/02 18:40:04 ws-manager.go:134: History of Messages:  []
2023/06/02 18:40:04 ws-manager.go:148: History sent to:  usr1
2023/06/02 18:40:04 ws-client.go:177: Message sent to client: 127.0.0.1:60576 Message: {"type":"chat_history","payload":null}
2023/06/02 18:40:58 main.go:41: Server stopped.
