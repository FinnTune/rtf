2023/05/22 13:26:48 main.go:127: Main begun. Log file checked, opened, and set.
2023/05/22 13:26:48 main.go:128: New Forum Begun
2023/05/22 13:26:48 sqlFuncs.go:18: Database opened successfully.
2023/05/22 13:26:48 main.go:57: File Servers Started.
2023/05/22 13:26:48 main.go:68: Handlers Started.
2023/05/22 13:26:48 main.go:104: Server Started and listening on port :443.
2023/05/22 13:26:50 main.go:73: Handling request "/" and serving index.html
2023/05/22 13:26:50 main.go:77: Cookie exists.
2023/05/22 13:26:51 handlers.go:44: Checking login status.
2023/05/22 13:26:51 handlers.go:59: Manager's clients:  map[]
2023/05/22 13:26:51 handlers.go:93: No client found with matching session ID. User not logged in.
2023/05/22 13:26:57 handlers.go:44: Checking login status.
2023/05/22 13:26:57 handlers.go:59: Manager's clients:  map[]
2023/05/22 13:26:57 handlers.go:93: No client found with matching session ID. User not logged in.
2023/05/22 13:26:57 handlers.go:107: Login handler reached.
2023/05/22 13:26:57 handlers.go:123: Login POST request received.
2023/05/22 13:26:57 utility.go:29: Password and hash match.
2023/05/22 13:26:57 handlers.go:142: User found: {ID:1 Username:admin Email:admin@example.com Joined:2023-05-17 15:29:59 Password:$2a$12$nOhLtBhYC0.XOm3IQ37wy.H8Mk8u52Grek4d1UGA0sNbQr4D/ik32 Session: NumberComments:0 NumberPosts:0}
2023/05/22 13:26:57 handlers.go:143: Authentication condition reached.
2023/05/22 13:26:57 handlers.go:144: User Login list:  map[]
2023/05/22 13:26:57 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:26:58 handlers.go:276: Serving websocket.
2023/05/22 13:26:58 handlers.go:28: Checking origin: https://localhost
2023/05/22 13:26:58 handlers.go:284: Decoding request body.
2023/05/22 13:26:58 handlers.go:285: ServeWS request body:  {}
2023/05/22 13:26:58 handlers.go:297: Session Id in ServeWS:  279efd40-02d3-4b9c-82be-a8f507714464
2023/05/22 13:26:58 handlers.go:314: Client does not exist.
2023/05/22 13:26:58 ws-client.go:44: New client connected.
2023/05/22 13:26:58 ws-manager.go:165: Client: 127.0.0.1:52494 added to manager.
2023/05/22 13:26:58 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52494
2023/05/22 13:26:58 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:26:58 ws-client.go:89: Client read message from:  127.0.0.1:52494
2023/05/22 13:26:58 ws-manager.go:65: Adding user info: {user-connect {"otp":"2ec716a8-9156-434c-86e8-a15b0285b740","id":1,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":false}}
2023/05/22 13:26:58 ws-manager.go:78: Adding user to LoggedInList:  admin
2023/05/22 13:26:58 ws-manager.go:82: User: admin added to LoggedInList:  map[admin:true]
2023/05/22 13:26:58 ws-client.go:173: Message sent to client: 127.0.0.1:52494 Message: {"type":"users-online","payload":{"admin":true}}
2023/05/22 13:26:59 ws-client.go:89: Client read message from:  127.0.0.1:52494
2023/05/22 13:26:59 ws-client.go:91: Client Made an Error:  websocket: close 1001 (going away)
2023/05/22 13:27:00 main.go:73: Handling request "/" and serving index.html
2023/05/22 13:27:00 main.go:77: Cookie exists.
2023/05/22 13:27:01 handlers.go:44: Checking login status.
2023/05/22 13:27:01 handlers.go:59: Manager's clients:  map[0xc0001c1570:true]
2023/05/22 13:27:01 handlers.go:70: Session cookie found. User logged in
2023/05/22 13:27:01 handlers.go:86: OTP:  59127f70-8cf8-4314-9d8f-5165b0102e8d
2023/05/22 13:27:01 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:27:01 handlers.go:276: Serving websocket.
2023/05/22 13:27:01 handlers.go:28: Checking origin: https://localhost
2023/05/22 13:27:01 handlers.go:284: Decoding request body.
2023/05/22 13:27:01 handlers.go:285: ServeWS request body:  {}
2023/05/22 13:27:01 handlers.go:297: Session Id in ServeWS:  279efd40-02d3-4b9c-82be-a8f507714464
2023/05/22 13:27:01 handlers.go:300: Client already exists.
2023/05/22 13:27:01 handlers.go:301: ClientUName Debug:  admin
2023/05/22 13:27:01 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52518
2023/05/22 13:27:01 ws-client.go:89: Client read message from:  127.0.0.1:52518
2023/05/22 13:27:01 ws-manager.go:65: Adding user info: {user-connect {"otp":"59127f70-8cf8-4314-9d8f-5165b0102e8d","id":0,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":true}}
2023/05/22 13:27:01 ws-manager.go:76: User in LoggedInList:  map[admin:true]
2023/05/22 13:27:01 ws-manager.go:82: User: admin added to LoggedInList:  map[admin:true]
2023/05/22 13:27:01 ws-client.go:173: Message sent to client: 127.0.0.1:52518 Message: {"type":"users-online","payload":{"admin":true}}
2023/05/22 13:27:02 ws-client.go:89: Client read message from:  127.0.0.1:52518
2023/05/22 13:27:02 ws-client.go:91: Client Made an Error:  websocket: close 1001 (going away)
2023/05/22 13:27:02 main.go:73: Handling request "/" and serving index.html
2023/05/22 13:27:02 main.go:77: Cookie exists.
2023/05/22 13:27:03 handlers.go:44: Checking login status.
2023/05/22 13:27:03 handlers.go:59: Manager's clients:  map[0xc0001c1570:true]
2023/05/22 13:27:03 handlers.go:70: Session cookie found. User logged in
2023/05/22 13:27:03 handlers.go:86: OTP:  cc96f76f-ef67-4491-997a-deee2c3c54e3
2023/05/22 13:27:03 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:27:03 handlers.go:276: Serving websocket.
2023/05/22 13:27:03 handlers.go:28: Checking origin: https://localhost
2023/05/22 13:27:03 handlers.go:284: Decoding request body.
2023/05/22 13:27:03 handlers.go:285: ServeWS request body:  {}
2023/05/22 13:27:03 handlers.go:297: Session Id in ServeWS:  279efd40-02d3-4b9c-82be-a8f507714464
2023/05/22 13:27:03 handlers.go:300: Client already exists.
2023/05/22 13:27:03 handlers.go:301: ClientUName Debug:  admin
2023/05/22 13:27:03 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52534
2023/05/22 13:27:03 ws-client.go:89: Client read message from:  127.0.0.1:52534
2023/05/22 13:27:03 ws-manager.go:65: Adding user info: {user-connect {"otp":"cc96f76f-ef67-4491-997a-deee2c3c54e3","id":0,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":true}}
2023/05/22 13:27:03 ws-manager.go:76: User in LoggedInList:  map[admin:true]
2023/05/22 13:27:03 ws-manager.go:82: User: admin added to LoggedInList:  map[admin:true]
2023/05/22 13:27:03 ws-client.go:173: Message sent to client: 127.0.0.1:52534 Message: {"type":"users-online","payload":{"admin":true}}
2023/05/22 13:27:07 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:07 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:10 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:10 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:12 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:12 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:16 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:16 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:19 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:19 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:21 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:21 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:25 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:25 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:28 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:28 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:28 main.go:73: Handling request "/" and serving index.html
2023/05/22 13:27:28 main.go:79: Cookie does not exist. Creating cookie.
2023/05/22 13:27:28 handlers.go:44: Checking login status.
2023/05/22 13:27:28 handlers.go:59: Manager's clients:  map[0xc0001c1570:true]
2023/05/22 13:27:28 handlers.go:93: No client found with matching session ID. User not logged in.
2023/05/22 13:27:30 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:30 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:34 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:34 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:34 handlers.go:44: Checking login status.
2023/05/22 13:27:34 handlers.go:59: Manager's clients:  map[0xc0001c1570:true]
2023/05/22 13:27:34 handlers.go:93: No client found with matching session ID. User not logged in.
2023/05/22 13:27:34 handlers.go:107: Login handler reached.
2023/05/22 13:27:34 handlers.go:123: Login POST request received.
2023/05/22 13:27:34 handlers.go:136: Error querying database: sql: no rows in result set
2023/05/22 13:27:34 handlers.go:138: User not found: {ID:0 Username: Email: Joined: Password: Session: NumberComments:0 NumberPosts:0}
2023/05/22 13:27:37 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:37 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:39 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:39 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:43 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:43 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:46 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:46 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:48 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:48 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:52 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:52 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:55 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:55 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:27:55 handlers.go:339: Registering user: &{[] %!s(*http.http2stream=&{0xc0001a21a0 53 0xc000244750 0xc0002004e0 0xc000227720 0x4f85e0 118 118 {[] 12582912 0xc0001a2220} {[] 1048458 0xc0001a2230} 3 false false false <nil> <nil> <nil> map[] map[]}) %!s(*http.http2serverConn=&{0xc00007c230 0xc00014c000 0xc00019a000 0xc000250528 {0xc000206600 0xc00019a000 {0xc00014c000}} 0xc000206960 0xc00051ac40 0xc0002001e0 0xc000200120 0xc0001da840 0xc0001daa20 0xc000200180 0xc0001da9c0 {[] 12468779 <nil>} {[] 1048458 <nil>} 0xc000246160 127.0.0.1:33966 0xc00051ab60 0 true false true false 0 0 4294967295 250 1 0 53 0 map[53:0xc000246790] 131072 16384 0 map[dnt:Dnt sec-fetch-dest:Sec-Fetch-Dest sec-fetch-mode:Sec-Fetch-Mode sec-fetch-site:Sec-Fetch-Site sec-fetch-user:Sec-Fetch-User te:Te upgrade-insecure-requests:Upgrade-Insecure-Requests] 872 false false false false false false 0 <nil> <nil> {[78 130 104 1 92 1 48 192] 0 0} 0xc000266600 {0 {0 0}}}) {%!s(uint32=0) {%!s(int32=0) %!s(uint32=0)}} %!s(bool=false) %!s(*http.http2pipe=&{{0 0} {{} 0xc000244750 {0 0 0 <nil> <nil>} 824636098440} 0xc00020c580 0 0xb2a7e0 <nil> <nil> 0x6c14e0}) %!s(bool=false)}
2023/05/22 13:27:55 handlers.go:370: User registered result: {%!s(*sql.driverConn=&{0xc00010edd0 {13912444691846451366 9262756718 0xb6fea0} {0 0} 0xc00008e540 true false false map[] false {13912444754085374130 67224654109 0xb6fea0} [] false}) %!s(*sqlite3.SQLiteResult=&{4 1})}
2023/05/22 13:27:57 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:27:57 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:01 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:28:01 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:01 handlers.go:44: Checking login status.
2023/05/22 13:28:01 handlers.go:59: Manager's clients:  map[0xc0001c1570:true]
2023/05/22 13:28:01 handlers.go:93: No client found with matching session ID. User not logged in.
2023/05/22 13:28:01 handlers.go:107: Login handler reached.
2023/05/22 13:28:01 handlers.go:123: Login POST request received.
2023/05/22 13:28:01 utility.go:29: Password and hash match.
2023/05/22 13:28:01 handlers.go:142: User found: {ID:2 Username:usr1 Email:usr1@example.com Joined:2023-05-20 12:10:04 Password:$2a$12$SancqnbK.EjBxHY8VwtBte/kDsqrvSGSz3idKw0rqhif5pvQ5vI8i Session: NumberComments:0 NumberPosts:0}
2023/05/22 13:28:01 handlers.go:143: Authentication condition reached.
2023/05/22 13:28:01 handlers.go:144: User Login list:  map[admin:true]
2023/05/22 13:28:01 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:28:01 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:28:01 handlers.go:276: Serving websocket.
2023/05/22 13:28:01 handlers.go:28: Checking origin: https://localhost
2023/05/22 13:28:01 handlers.go:284: Decoding request body.
2023/05/22 13:28:01 handlers.go:285: ServeWS request body:  {}
2023/05/22 13:28:01 handlers.go:297: Session Id in ServeWS:  824e0eeb-79c5-4a96-936b-d158b459b154
2023/05/22 13:28:01 handlers.go:314: Client does not exist.
2023/05/22 13:28:01 ws-client.go:44: New client connected.
2023/05/22 13:28:01 ws-manager.go:165: Client: 127.0.0.1:51120 added to manager.
2023/05/22 13:28:01 ws-client.go:65: Client IP and client port num.:  127.0.0.1:51120
2023/05/22 13:28:02 ws-client.go:89: Client read message from:  127.0.0.1:51120
2023/05/22 13:28:02 ws-manager.go:65: Adding user info: {user-connect {"otp":"e9f33dc8-8aab-49a9-8940-328a21f100be","id":2,"username":"usr1","email":"usr1@example.com","joined":"2023-05-20 12:10:04","loggedIn":false}}
2023/05/22 13:28:02 ws-manager.go:78: Adding user to LoggedInList:  usr1
2023/05/22 13:28:02 ws-manager.go:82: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/05/22 13:28:02 ws-client.go:173: Message sent to client: 127.0.0.1:51120 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/22 13:28:02 ws-client.go:173: Message sent to client: 127.0.0.1:52534 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/22 13:28:04 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:28:04 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:04 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:28:05 ws-client.go:89: Client read message from:  127.0.0.1:51120
2023/05/22 13:28:05 ws-client.go:91: Client Made an Error:  websocket: close 1001 (going away)
2023/05/22 13:28:05 main.go:73: Handling request "/" and serving index.html
2023/05/22 13:28:05 main.go:77: Cookie exists.
2023/05/22 13:28:05 handlers.go:44: Checking login status.
2023/05/22 13:28:05 handlers.go:59: Manager's clients:  map[0xc0001c1570:true 0xc00051f260:true]
2023/05/22 13:28:05 handlers.go:70: Session cookie found. User logged in
2023/05/22 13:28:05 handlers.go:86: OTP:  2c7fe842-a5e3-4ff7-8f5e-9d14449dac87
2023/05/22 13:28:06 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:28:06 handlers.go:276: Serving websocket.
2023/05/22 13:28:06 handlers.go:28: Checking origin: https://localhost
2023/05/22 13:28:06 handlers.go:284: Decoding request body.
2023/05/22 13:28:06 handlers.go:285: ServeWS request body:  {}
2023/05/22 13:28:06 handlers.go:297: Session Id in ServeWS:  824e0eeb-79c5-4a96-936b-d158b459b154
2023/05/22 13:28:06 handlers.go:300: Client already exists.
2023/05/22 13:28:06 handlers.go:301: ClientUName Debug:  usr1
2023/05/22 13:28:06 ws-client.go:65: Client IP and client port num.:  127.0.0.1:56860
2023/05/22 13:28:06 ws-client.go:89: Client read message from:  127.0.0.1:56860
2023/05/22 13:28:06 ws-manager.go:65: Adding user info: {user-connect {"otp":"2c7fe842-a5e3-4ff7-8f5e-9d14449dac87","id":0,"username":"usr1","email":"usr1@example.com","joined":"2023-05-20 12:10:04","loggedIn":true}}
2023/05/22 13:28:06 ws-manager.go:76: User in LoggedInList:  map[admin:true usr1:true]
2023/05/22 13:28:06 ws-manager.go:82: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/05/22 13:28:06 ws-client.go:173: Message sent to client: 127.0.0.1:56860 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/22 13:28:06 ws-client.go:173: Message sent to client: 127.0.0.1:52534 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/22 13:28:06 ws-client.go:181: Ping sent to client: 127.0.0.1:52534
2023/05/22 13:28:06 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:08 ws-client.go:89: Client read message from:  127.0.0.1:52534
2023/05/22 13:28:08 ws-client.go:91: Client Made an Error:  websocket: close 1001 (going away)
2023/05/22 13:28:08 main.go:73: Handling request "/" and serving index.html
2023/05/22 13:28:08 main.go:77: Cookie exists.
2023/05/22 13:28:09 handlers.go:44: Checking login status.
2023/05/22 13:28:09 handlers.go:59: Manager's clients:  map[0xc0001c1570:true 0xc00051f260:true]
2023/05/22 13:28:09 handlers.go:70: Session cookie found. User logged in
2023/05/22 13:28:09 handlers.go:86: OTP:  863cc9c9-d755-4230-910e-61dd3ab67fac
2023/05/22 13:28:09 handlers.go:383: AllPostsHandler reached.
2023/05/22 13:28:09 handlers.go:276: Serving websocket.
2023/05/22 13:28:09 handlers.go:28: Checking origin: https://localhost
2023/05/22 13:28:09 handlers.go:284: Decoding request body.
2023/05/22 13:28:09 handlers.go:285: ServeWS request body:  {}
2023/05/22 13:28:09 handlers.go:297: Session Id in ServeWS:  279efd40-02d3-4b9c-82be-a8f507714464
2023/05/22 13:28:09 handlers.go:300: Client already exists.
2023/05/22 13:28:09 handlers.go:301: ClientUName Debug:  admin
2023/05/22 13:28:09 ws-client.go:65: Client IP and client port num.:  127.0.0.1:56874
2023/05/22 13:28:09 ws-client.go:89: Client read message from:  127.0.0.1:56874
2023/05/22 13:28:09 ws-manager.go:65: Adding user info: {user-connect {"otp":"863cc9c9-d755-4230-910e-61dd3ab67fac","id":0,"username":"admin","email":"admin@example.com","joined":"2023-05-17 15:29:59","loggedIn":true}}
2023/05/22 13:28:09 ws-manager.go:76: User in LoggedInList:  map[admin:true usr1:true]
2023/05/22 13:28:09 ws-manager.go:82: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/05/22 13:28:09 ws-client.go:173: Message sent to client: 127.0.0.1:56860 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/22 13:28:09 ws-client.go:173: Message sent to client: 127.0.0.1:56874 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/05/22 13:28:10 ws-client.go:181: Ping sent to client: 127.0.0.1:56874
2023/05/22 13:28:10 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:10 ws-client.go:181: Ping sent to client: 127.0.0.1:56860
2023/05/22 13:28:10 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:13 ws-client.go:181: Ping sent to client: 127.0.0.1:56874
2023/05/22 13:28:13 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:15 ws-client.go:181: Ping sent to client: 127.0.0.1:56860
2023/05/22 13:28:15 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:15 ws-client.go:181: Ping sent to client: 127.0.0.1:56874
2023/05/22 13:28:15 ws-client.go:60: Pong received, handler called, timer reset.
2023/05/22 13:28:16 main.go:41: Server stopped.
