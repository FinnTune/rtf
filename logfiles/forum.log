2023/06/05 21:55:20 main.go:131: Main begun. Log file checked, opened, and set.
2023/06/05 21:55:20 main.go:132: New Forum Begun
2023/06/05 21:55:20 sqlFuncs.go:18: Database opened successfully.
2023/06/05 21:55:20 main.go:60: File Servers Started.
2023/06/05 21:55:20 main.go:71: Handlers Started.
2023/06/05 21:55:20 main.go:108: Server Started and listening on port :443.
2023/06/05 21:55:23 main.go:76: Handling request "/" and serving index.html
2023/06/05 21:55:23 main.go:80: Cookie exists.
2023/06/05 21:55:24 handlers.go:41: Checking login status.
2023/06/05 21:55:24 handlers.go:56: Manager's clients:  map[]
2023/06/05 21:55:24 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/05 21:55:25 main.go:76: Handling request "/" and serving index.html
2023/06/05 21:55:25 main.go:80: Cookie exists.
2023/06/05 21:55:25 handlers.go:41: Checking login status.
2023/06/05 21:55:25 handlers.go:56: Manager's clients:  map[]
2023/06/05 21:55:25 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/05 21:55:31 handlers.go:41: Checking login status.
2023/06/05 21:55:31 handlers.go:56: Manager's clients:  map[]
2023/06/05 21:55:31 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/05 21:55:31 handlers.go:108: Login handler reached.
2023/06/05 21:55:31 handlers.go:124: Login POST request received.
2023/06/05 21:55:31 utility.go:29: Password and hash match.
2023/06/05 21:55:31 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/05 21:55:31 handlers.go:144: Authentication condition reached.
2023/06/05 21:55:31 handlers.go:145: User Login list:  map[]
2023/06/05 21:55:31 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:55:31 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:55:31 handlers.go:271: Serving websocket.
2023/06/05 21:55:31 handlers.go:30: Checking origin: https://localhost
2023/06/05 21:55:31 handlers.go:279: Decoding request body.
2023/06/05 21:55:31 handlers.go:291: Session Id in ServeWS:  4902cda4-344b-4fd8-b06d-ecb47ab54161
2023/06/05 21:55:31 handlers.go:308: Client does not exist.
2023/06/05 21:55:31 ws-client.go:44: New client connected.
2023/06/05 21:55:31 ws-manager.go:252: Client: 127.0.0.1:49200 added to manager.
2023/06/05 21:55:31 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49200
2023/06/05 21:55:31 ws-client.go:90: Client read message from:  127.0.0.1:49200
2023/06/05 21:55:31 ws-manager.go:75: Adding user info: {user-connect {"otp":"48b88db7-c35d-4012-b647-44e769d5ff0d","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":false}}
2023/06/05 21:55:31 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/05 21:55:31 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/05 21:55:31 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/05 21:55:36 handlers.go:41: Checking login status.
2023/06/05 21:55:36 handlers.go:56: Manager's clients:  map[0xc0000c0230:true]
2023/06/05 21:55:36 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/05 21:55:36 handlers.go:108: Login handler reached.
2023/06/05 21:55:36 handlers.go:124: Login POST request received.
2023/06/05 21:55:37 utility.go:29: Password and hash match.
2023/06/05 21:55:37 handlers.go:143: User found: {ID:5 Username:aaa Email:aaa@aaa Joined:2023-06-05 21:29:43 Password:$2a$12$vqroEmvi.dksiEs27lXIEOaJ3OLGIwaEnrq96AWav4uUVStrmw6hK Session: NumberComments:0 NumberPosts:0}
2023/06/05 21:55:37 handlers.go:144: Authentication condition reached.
2023/06/05 21:55:37 handlers.go:145: User Login list:  map[admin:true]
2023/06/05 21:55:37 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:55:37 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:55:37 handlers.go:271: Serving websocket.
2023/06/05 21:55:37 handlers.go:30: Checking origin: https://localhost
2023/06/05 21:55:37 handlers.go:279: Decoding request body.
2023/06/05 21:55:37 handlers.go:291: Session Id in ServeWS:  64932897-88c2-430a-9c0c-7960ec2733fa
2023/06/05 21:55:37 handlers.go:308: Client does not exist.
2023/06/05 21:55:37 ws-client.go:44: New client connected.
2023/06/05 21:55:37 ws-manager.go:252: Client: 127.0.0.1:44902 added to manager.
2023/06/05 21:55:37 ws-client.go:65: Client IP and client port num.:  127.0.0.1:44902
2023/06/05 21:55:37 ws-client.go:90: Client read message from:  127.0.0.1:44902
2023/06/05 21:55:37 ws-manager.go:75: Adding user info: {user-connect {"otp":"286a85ba-90d4-421b-8f64-a892fc9c4f99","id":5,"username":"aaa","email":"aaa@aaa","joined":"2023-06-05 21:29:43","loggedIn":false}}
2023/06/05 21:55:37 ws-manager.go:88: Adding user to LoggedInList:  aaa
2023/06/05 21:55:37 ws-manager.go:92: User: aaa added to LoggedInList:  map[aaa:true admin:true]
2023/06/05 21:55:37 ws-client.go:177: Message sent to client: 127.0.0.1:44902 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:55:37 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:55:40 handlers.go:199: Logout POST request received.
2023/06/05 21:55:40 handlers.go:212: Manager's clients:  map[0xc0000c0230:true 0xc0001593b0:true]
2023/06/05 21:55:40 handlers.go:215: Client found.
2023/06/05 21:55:40 ws-client.go:90: Client read message from:  127.0.0.1:44902
2023/06/05 21:55:40 ws-client.go:93: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:44902: use of closed network connection
2023/06/05 21:55:40 handlers.go:231: Logout and new users list sent
2023/06/05 21:55:40 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/05 21:55:46 ws-client.go:182: Client connection is nil.
2023/06/05 21:55:53 handlers.go:41: Checking login status.
2023/06/05 21:55:53 handlers.go:56: Manager's clients:  map[0xc0000c0230:true]
2023/06/05 21:55:53 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/05 21:55:53 handlers.go:108: Login handler reached.
2023/06/05 21:55:53 handlers.go:124: Login POST request received.
2023/06/05 21:55:53 utility.go:29: Password and hash match.
2023/06/05 21:55:53 handlers.go:143: User found: {ID:5 Username:aaa Email:aaa@aaa Joined:2023-06-05 21:29:43 Password:$2a$12$vqroEmvi.dksiEs27lXIEOaJ3OLGIwaEnrq96AWav4uUVStrmw6hK Session: NumberComments:0 NumberPosts:0}
2023/06/05 21:55:53 handlers.go:144: Authentication condition reached.
2023/06/05 21:55:53 handlers.go:145: User Login list:  map[admin:true]
2023/06/05 21:55:53 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:55:53 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:55:53 handlers.go:271: Serving websocket.
2023/06/05 21:55:53 handlers.go:30: Checking origin: https://localhost
2023/06/05 21:55:53 handlers.go:279: Decoding request body.
2023/06/05 21:55:53 handlers.go:291: Session Id in ServeWS:  64932897-88c2-430a-9c0c-7960ec2733fa
2023/06/05 21:55:53 handlers.go:308: Client does not exist.
2023/06/05 21:55:53 ws-client.go:44: New client connected.
2023/06/05 21:55:53 ws-manager.go:252: Client: 127.0.0.1:40872 added to manager.
2023/06/05 21:55:53 ws-client.go:65: Client IP and client port num.:  127.0.0.1:40872
2023/06/05 21:55:53 ws-client.go:90: Client read message from:  127.0.0.1:40872
2023/06/05 21:55:53 ws-manager.go:75: Adding user info: {user-connect {"otp":"172cae33-cee7-4bf2-9560-e86b9a5e716b","id":5,"username":"aaa","email":"aaa@aaa","joined":"2023-06-05 21:29:43","loggedIn":false}}
2023/06/05 21:55:53 ws-manager.go:88: Adding user to LoggedInList:  aaa
2023/06/05 21:55:53 ws-manager.go:92: User: aaa added to LoggedInList:  map[aaa:true admin:true]
2023/06/05 21:55:53 ws-client.go:177: Message sent to client: 127.0.0.1:40872 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:55:53 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:55:56 handlers.go:199: Logout POST request received.
2023/06/05 21:55:56 handlers.go:212: Manager's clients:  map[0xc0000c0230:true 0xc000159c00:true]
2023/06/05 21:55:56 handlers.go:215: Client found.
2023/06/05 21:55:56 ws-client.go:90: Client read message from:  127.0.0.1:40872
2023/06/05 21:55:56 ws-client.go:93: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:40872: use of closed network connection
2023/06/05 21:55:56 handlers.go:231: Logout and new users list sent
2023/06/05 21:55:56 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/05 21:56:02 ws-client.go:182: Client connection is nil.
2023/06/05 21:56:06 handlers.go:41: Checking login status.
2023/06/05 21:56:06 handlers.go:56: Manager's clients:  map[0xc0000c0230:true]
2023/06/05 21:56:06 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/05 21:56:06 handlers.go:108: Login handler reached.
2023/06/05 21:56:06 handlers.go:124: Login POST request received.
2023/06/05 21:56:07 utility.go:29: Password and hash match.
2023/06/05 21:56:07 handlers.go:143: User found: {ID:5 Username:aaa Email:aaa@aaa Joined:2023-06-05 21:29:43 Password:$2a$12$vqroEmvi.dksiEs27lXIEOaJ3OLGIwaEnrq96AWav4uUVStrmw6hK Session: NumberComments:0 NumberPosts:0}
2023/06/05 21:56:07 handlers.go:144: Authentication condition reached.
2023/06/05 21:56:07 handlers.go:145: User Login list:  map[admin:true]
2023/06/05 21:56:07 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:56:07 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:56:07 handlers.go:271: Serving websocket.
2023/06/05 21:56:07 handlers.go:30: Checking origin: https://localhost
2023/06/05 21:56:07 handlers.go:279: Decoding request body.
2023/06/05 21:56:07 handlers.go:291: Session Id in ServeWS:  64932897-88c2-430a-9c0c-7960ec2733fa
2023/06/05 21:56:07 handlers.go:308: Client does not exist.
2023/06/05 21:56:07 ws-client.go:44: New client connected.
2023/06/05 21:56:07 ws-manager.go:252: Client: 127.0.0.1:45606 added to manager.
2023/06/05 21:56:07 ws-client.go:65: Client IP and client port num.:  127.0.0.1:45606
2023/06/05 21:56:07 ws-client.go:90: Client read message from:  127.0.0.1:45606
2023/06/05 21:56:07 ws-manager.go:75: Adding user info: {user-connect {"otp":"8e17bea0-f063-4f80-9906-0af842b00bd1","id":5,"username":"aaa","email":"aaa@aaa","joined":"2023-06-05 21:29:43","loggedIn":false}}
2023/06/05 21:56:07 ws-manager.go:88: Adding user to LoggedInList:  aaa
2023/06/05 21:56:07 ws-manager.go:92: User: aaa added to LoggedInList:  map[aaa:true admin:true]
2023/06/05 21:56:07 ws-client.go:177: Message sent to client: 127.0.0.1:45606 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:56:07 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:56:11 handlers.go:199: Logout POST request received.
2023/06/05 21:56:11 handlers.go:212: Manager's clients:  map[0xc0000c0230:true 0xc00042a230:true]
2023/06/05 21:56:11 handlers.go:215: Client found.
2023/06/05 21:56:11 ws-client.go:90: Client read message from:  127.0.0.1:45606
2023/06/05 21:56:11 ws-client.go:93: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:45606: use of closed network connection
2023/06/05 21:56:11 handlers.go:231: Logout and new users list sent
2023/06/05 21:56:11 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/05 21:56:16 ws-client.go:182: Client connection is nil.
2023/06/05 21:56:31 handlers.go:41: Checking login status.
2023/06/05 21:56:31 handlers.go:56: Manager's clients:  map[0xc0000c0230:true]
2023/06/05 21:56:31 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/05 21:56:31 handlers.go:108: Login handler reached.
2023/06/05 21:56:31 handlers.go:124: Login POST request received.
2023/06/05 21:56:31 utility.go:29: Password and hash match.
2023/06/05 21:56:31 handlers.go:143: User found: {ID:5 Username:aaa Email:aaa@aaa Joined:2023-06-05 21:29:43 Password:$2a$12$vqroEmvi.dksiEs27lXIEOaJ3OLGIwaEnrq96AWav4uUVStrmw6hK Session: NumberComments:0 NumberPosts:0}
2023/06/05 21:56:31 handlers.go:144: Authentication condition reached.
2023/06/05 21:56:31 handlers.go:145: User Login list:  map[admin:true]
2023/06/05 21:56:31 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:56:31 handlers.go:377: AllPostsHandler reached.
2023/06/05 21:56:31 handlers.go:271: Serving websocket.
2023/06/05 21:56:31 handlers.go:30: Checking origin: https://localhost
2023/06/05 21:56:31 handlers.go:279: Decoding request body.
2023/06/05 21:56:31 handlers.go:291: Session Id in ServeWS:  64932897-88c2-430a-9c0c-7960ec2733fa
2023/06/05 21:56:31 handlers.go:308: Client does not exist.
2023/06/05 21:56:31 ws-client.go:44: New client connected.
2023/06/05 21:56:31 ws-manager.go:252: Client: 127.0.0.1:44542 added to manager.
2023/06/05 21:56:31 ws-client.go:65: Client IP and client port num.:  127.0.0.1:44542
2023/06/05 21:56:31 ws-client.go:90: Client read message from:  127.0.0.1:44542
2023/06/05 21:56:31 ws-manager.go:75: Adding user info: {user-connect {"otp":"8724a1ee-f47f-42dc-9ab6-a7a383faa7ed","id":5,"username":"aaa","email":"aaa@aaa","joined":"2023-06-05 21:29:43","loggedIn":false}}
2023/06/05 21:56:31 ws-manager.go:88: Adding user to LoggedInList:  aaa
2023/06/05 21:56:31 ws-manager.go:92: User: aaa added to LoggedInList:  map[aaa:true admin:true]
2023/06/05 21:56:31 ws-client.go:177: Message sent to client: 127.0.0.1:44542 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:56:31 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"aaa":true,"admin":true}}
2023/06/05 21:56:34 handlers.go:199: Logout POST request received.
2023/06/05 21:56:34 handlers.go:212: Manager's clients:  map[0xc0000c0230:true 0xc00042aa80:true]
2023/06/05 21:56:34 handlers.go:215: Client found.
2023/06/05 21:56:34 ws-client.go:90: Client read message from:  127.0.0.1:44542
2023/06/05 21:56:34 ws-client.go:93: Client Made an Error:  read tcp 127.0.0.1:443->127.0.0.1:44542: use of closed network connection
2023/06/05 21:56:34 handlers.go:231: Logout and new users list sent
2023/06/05 21:56:34 ws-client.go:177: Message sent to client: 127.0.0.1:49200 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/05 21:56:40 ws-client.go:182: Client connection is nil.
2023/06/05 21:58:48 main.go:41: Server stopped.
