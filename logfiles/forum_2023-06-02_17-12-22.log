2023/06/02 15:31:02 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/02 15:31:02 main.go:128: New Forum Begun
2023/06/02 15:31:02 sqlFuncs.go:18: Database opened successfully.
2023/06/02 15:31:02 main.go:57: File Servers Started.
2023/06/02 15:31:02 main.go:68: Handlers Started.
2023/06/02 15:31:02 main.go:104: Server Started and listening on port :443.
2023/06/02 15:31:05 main.go:73: Handling request "/" and serving index.html
2023/06/02 15:31:05 main.go:77: Cookie exists.
2023/06/02 15:31:05 handlers.go:41: Checking login status.
2023/06/02 15:31:05 handlers.go:56: Manager's clients:  map[]
2023/06/02 15:31:05 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 15:31:06 main.go:73: Handling request "/" and serving index.html
2023/06/02 15:31:06 main.go:77: Cookie exists.
2023/06/02 15:31:06 handlers.go:41: Checking login status.
2023/06/02 15:31:06 handlers.go:56: Manager's clients:  map[]
2023/06/02 15:31:06 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 15:31:10 handlers.go:41: Checking login status.
2023/06/02 15:31:10 handlers.go:56: Manager's clients:  map[]
2023/06/02 15:31:10 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 15:31:11 handlers.go:108: Login handler reached.
2023/06/02 15:31:11 handlers.go:124: Login POST request received.
2023/06/02 15:31:11 utility.go:29: Password and hash match.
2023/06/02 15:31:11 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-02 12:28:02 Password:$2a$12$w9ii3aHQcYnJSgkSCskjM.WopLVDCQZHomxfIL8UwQSuSjmPN0kNy Session: NumberComments:0 NumberPosts:0}
2023/06/02 15:31:11 handlers.go:144: Authentication condition reached.
2023/06/02 15:31:11 handlers.go:145: User Login list:  map[]
2023/06/02 15:31:11 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:31:11 handlers.go:270: Serving websocket.
2023/06/02 15:31:11 handlers.go:30: Checking origin: https://localhost
2023/06/02 15:31:11 handlers.go:278: Decoding request body.
2023/06/02 15:31:11 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 15:31:11 handlers.go:307: Client does not exist.
2023/06/02 15:31:11 ws-client.go:44: New client connected.
2023/06/02 15:31:11 ws-manager.go:178: Client: 127.0.0.1:59026 added to manager.
2023/06/02 15:31:11 ws-client.go:65: Client IP and client port num.:  127.0.0.1:59026
2023/06/02 15:31:11 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:31:11 ws-client.go:90: Client read message from:  127.0.0.1:59026
2023/06/02 15:31:11 ws-manager.go:75: Adding user info: {user-connect {"otp":"bd963025-5c55-4f2d-95ef-de0d8bd14f1a","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":false}}
2023/06/02 15:31:11 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/02 15:31:11 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/02 15:31:11 ws-client.go:177: Message sent to client: 127.0.0.1:59026 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/02 15:31:16 handlers.go:41: Checking login status.
2023/06/02 15:31:16 handlers.go:56: Manager's clients:  map[0xc00011aaf0:true]
2023/06/02 15:31:16 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 15:31:16 handlers.go:108: Login handler reached.
2023/06/02 15:31:16 handlers.go:124: Login POST request received.
2023/06/02 15:31:16 utility.go:29: Password and hash match.
2023/06/02 15:31:16 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-02 12:28:24 Password:$2a$12$k1hUhG0PwPea1UQP6jLGxuI1xeFVg/qaOYKJz58RJ6kQJKgbOLVwm Session: NumberComments:0 NumberPosts:0}
2023/06/02 15:31:16 handlers.go:144: Authentication condition reached.
2023/06/02 15:31:16 handlers.go:145: User Login list:  map[admin:true]
2023/06/02 15:31:17 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:31:17 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:31:17 handlers.go:270: Serving websocket.
2023/06/02 15:31:17 handlers.go:30: Checking origin: https://localhost
2023/06/02 15:31:17 handlers.go:278: Decoding request body.
2023/06/02 15:31:17 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 15:31:17 handlers.go:307: Client does not exist.
2023/06/02 15:31:17 ws-client.go:44: New client connected.
2023/06/02 15:31:17 ws-manager.go:178: Client: 127.0.0.1:37982 added to manager.
2023/06/02 15:31:17 ws-client.go:65: Client IP and client port num.:  127.0.0.1:37982
2023/06/02 15:31:17 ws-client.go:90: Client read message from:  127.0.0.1:37982
2023/06/02 15:31:17 ws-manager.go:75: Adding user info: {user-connect {"otp":"3591f129-83a7-475a-ac04-dfc4faa6467c","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":false}}
2023/06/02 15:31:17 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/02 15:31:17 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:31:17 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:31:17 ws-client.go:177: Message sent to client: 127.0.0.1:59026 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:31:18 ws-client.go:90: Client read message from:  127.0.0.1:59026
2023/06/02 15:31:18 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 15:31:18 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00}]
2023/06/02 15:31:18 ws-manager.go:148: History sent to:  admin
2023/06/02 15:31:18 ws-client.go:177: Message sent to client: 127.0.0.1:59026 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"}]}
2023/06/02 15:31:24 ws-client.go:90: Client read message from:  127.0.0.1:37982
2023/06/02 15:31:24 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 15:31:24 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00}]
2023/06/02 15:31:24 ws-manager.go:148: History sent to:  usr1
2023/06/02 15:31:24 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"}]}
2023/06/02 15:31:40 ws-client.go:90: Client read message from:  127.0.0.1:37982
2023/06/02 15:31:40 ws-manager.go:38: Event/message sent: {new-message {"message":"jkdlnjhd","from":"usr1","to":"admin","sent":1685709100404}}
2023/06/02 15:31:40 ws-client.go:177: Message sent to client: 127.0.0.1:59026 Message: {"type":"sent-message","payload":{"message":"jkdlnjhd","from":"usr1","to":"admin","sent":"2023-06-02T15:31:40.407656314+03:00"}}
2023/06/02 15:31:47 ws-client.go:90: Client read message from:  127.0.0.1:59026
2023/06/02 15:31:47 ws-manager.go:38: Event/message sent: {new-message {"message":"kjsdkjhsg","from":"admin","to":"usr1","sent":1685709107376}}
2023/06/02 15:31:47 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"sent-message","payload":{"message":"kjsdkjhsg","from":"admin","to":"usr1","sent":"2023-06-02T15:31:47.378297407+03:00"}}
2023/06/02 15:31:49 ws-client.go:90: Client read message from:  127.0.0.1:59026
2023/06/02 15:31:49 ws-manager.go:38: Event/message sent: {new-message {"message":"sdgkjbsdg","from":"admin","to":"usr1","sent":1685709109915}}
2023/06/02 15:31:49 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"sent-message","payload":{"message":"sdgkjbsdg","from":"admin","to":"usr1","sent":"2023-06-02T15:31:49.916972036+03:00"}}
2023/06/02 15:31:52 ws-client.go:90: Client read message from:  127.0.0.1:59026
2023/06/02 15:31:52 ws-manager.go:38: Event/message sent: {new-message {"message":"sdgkjbjsdg","from":"admin","to":"usr1","sent":1685709112856}}
2023/06/02 15:31:52 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"sent-message","payload":{"message":"sdgkjbjsdg","from":"admin","to":"usr1","sent":"2023-06-02T15:31:52.85867468+03:00"}}
2023/06/02 15:32:03 ws-client.go:90: Client read message from:  127.0.0.1:59026
2023/06/02 15:32:03 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 15:32:03 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00}]
2023/06/02 15:32:03 ws-manager.go:148: History sent to:  admin
2023/06/02 15:32:03 ws-client.go:177: Message sent to client: 127.0.0.1:59026 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"}]}
2023/06/02 15:32:11 ws-client.go:90: Client read message from:  127.0.0.1:37982
2023/06/02 15:32:11 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 15:32:11 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00}]
2023/06/02 15:32:11 ws-manager.go:148: History sent to:  usr1
2023/06/02 15:32:11 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"}]}
2023/06/02 15:39:20 ws-client.go:90: Client read message from:  127.0.0.1:37982
2023/06/02 15:39:20 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 15:39:20 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00}]
2023/06/02 15:39:20 ws-manager.go:148: History sent to:  usr1
2023/06/02 15:39:20 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"}]}
2023/06/02 15:39:22 ws-client.go:90: Client read message from:  127.0.0.1:37982
2023/06/02 15:39:22 ws-manager.go:116: History Request:  {0 usr1 usr1 false  }
2023/06/02 15:39:22 ws-manager.go:134: History of Messages:  []
2023/06/02 15:39:22 ws-manager.go:148: History sent to:  usr1
2023/06/02 15:39:22 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"chat_history","payload":null}
2023/06/02 15:42:49 ws-client.go:90: Client read message from:  127.0.0.1:59026
2023/06/02 15:42:49 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 15:42:49 main.go:73: Handling request "/" and serving index.html
2023/06/02 15:42:49 main.go:77: Cookie exists.
2023/06/02 15:42:50 handlers.go:41: Checking login status.
2023/06/02 15:42:50 handlers.go:56: Manager's clients:  map[0xc00011aaf0:true 0xc0002dcb60:true]
2023/06/02 15:42:50 handlers.go:67: Session cookie found. User logged in
2023/06/02 15:42:50 handlers.go:87: OTP:  62495d58-a927-4b90-aff0-ebbb1bfb3bf3
2023/06/02 15:42:50 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:42:50 handlers.go:270: Serving websocket.
2023/06/02 15:42:50 handlers.go:30: Checking origin: https://localhost
2023/06/02 15:42:50 handlers.go:278: Decoding request body.
2023/06/02 15:42:50 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 15:42:50 handlers.go:293: Client already exists.
2023/06/02 15:42:50 handlers.go:294: ClientUName Debug:  admin
2023/06/02 15:42:50 ws-client.go:65: Client IP and client port num.:  127.0.0.1:46262
2023/06/02 15:42:50 ws-client.go:90: Client read message from:  127.0.0.1:46262
2023/06/02 15:42:50 ws-manager.go:75: Adding user info: {user-connect {"otp":"62495d58-a927-4b90-aff0-ebbb1bfb3bf3","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 15:42:50 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:42:50 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:42:50 ws-client.go:177: Message sent to client: 127.0.0.1:37982 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:42:50 ws-client.go:177: Message sent to client: 127.0.0.1:46262 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:42:50 ws-client.go:90: Client read message from:  127.0.0.1:37982
2023/06/02 15:42:50 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 15:42:50 main.go:73: Handling request "/" and serving index.html
2023/06/02 15:42:50 main.go:77: Cookie exists.
2023/06/02 15:42:51 handlers.go:41: Checking login status.
2023/06/02 15:42:51 handlers.go:56: Manager's clients:  map[0xc00011aaf0:true 0xc0002dcb60:true]
2023/06/02 15:42:51 handlers.go:67: Session cookie found. User logged in
2023/06/02 15:42:51 handlers.go:87: OTP:  56b0c6ba-7b5f-4425-9c84-3e081c9dfd64
2023/06/02 15:42:51 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:42:51 handlers.go:270: Serving websocket.
2023/06/02 15:42:51 handlers.go:30: Checking origin: https://localhost
2023/06/02 15:42:51 handlers.go:278: Decoding request body.
2023/06/02 15:42:51 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 15:42:51 handlers.go:293: Client already exists.
2023/06/02 15:42:51 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 15:42:51 ws-client.go:65: Client IP and client port num.:  127.0.0.1:46282
2023/06/02 15:42:51 ws-client.go:90: Client read message from:  127.0.0.1:46282
2023/06/02 15:42:51 ws-manager.go:75: Adding user info: {user-connect {"otp":"56b0c6ba-7b5f-4425-9c84-3e081c9dfd64","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 15:42:51 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:42:51 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:42:51 ws-client.go:177: Message sent to client: 127.0.0.1:46262 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:42:51 ws-client.go:177: Message sent to client: 127.0.0.1:46282 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:43:00 ws-client.go:90: Client read message from:  127.0.0.1:46282
2023/06/02 15:43:00 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 15:43:00 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00}]
2023/06/02 15:43:00 ws-manager.go:148: History sent to:  usr1
2023/06/02 15:43:00 ws-client.go:177: Message sent to client: 127.0.0.1:46282 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"}]}
2023/06/02 15:58:06 ws-client.go:90: Client read message from:  127.0.0.1:46262
2023/06/02 15:58:06 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 15:58:06 main.go:73: Handling request "/" and serving index.html
2023/06/02 15:58:06 main.go:77: Cookie exists.
2023/06/02 15:58:07 handlers.go:41: Checking login status.
2023/06/02 15:58:07 handlers.go:56: Manager's clients:  map[0xc00011aaf0:true 0xc0002dcb60:true]
2023/06/02 15:58:07 handlers.go:67: Session cookie found. User logged in
2023/06/02 15:58:07 handlers.go:87: OTP:  1785b61d-84fc-4dc6-8e51-b281b870e4a7
2023/06/02 15:58:07 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:58:07 handlers.go:270: Serving websocket.
2023/06/02 15:58:07 handlers.go:30: Checking origin: https://localhost
2023/06/02 15:58:07 handlers.go:278: Decoding request body.
2023/06/02 15:58:07 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 15:58:07 handlers.go:293: Client already exists.
2023/06/02 15:58:07 handlers.go:294: ClientUName Debug:  admin
2023/06/02 15:58:07 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49306
2023/06/02 15:58:07 ws-client.go:90: Client read message from:  127.0.0.1:49306
2023/06/02 15:58:07 ws-manager.go:75: Adding user info: {user-connect {"otp":"1785b61d-84fc-4dc6-8e51-b281b870e4a7","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 15:58:07 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:58:07 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:58:07 ws-client.go:177: Message sent to client: 127.0.0.1:46282 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:58:07 ws-client.go:177: Message sent to client: 127.0.0.1:49306 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:58:07 ws-client.go:90: Client read message from:  127.0.0.1:46282
2023/06/02 15:58:07 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 15:58:07 main.go:73: Handling request "/" and serving index.html
2023/06/02 15:58:07 main.go:77: Cookie exists.
2023/06/02 15:58:08 ws-client.go:182: Client connection is nil.
2023/06/02 15:58:08 handlers.go:41: Checking login status.
2023/06/02 15:58:08 handlers.go:56: Manager's clients:  map[0xc00011aaf0:true 0xc0002dcb60:true]
2023/06/02 15:58:08 handlers.go:67: Session cookie found. User logged in
2023/06/02 15:58:08 handlers.go:87: OTP:  91227d7e-9291-4c35-8d74-a8379aadff88
2023/06/02 15:58:08 handlers.go:376: AllPostsHandler reached.
2023/06/02 15:58:08 handlers.go:270: Serving websocket.
2023/06/02 15:58:08 handlers.go:30: Checking origin: https://localhost
2023/06/02 15:58:08 handlers.go:278: Decoding request body.
2023/06/02 15:58:08 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 15:58:08 handlers.go:293: Client already exists.
2023/06/02 15:58:08 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 15:58:08 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49338
2023/06/02 15:58:08 ws-client.go:90: Client read message from:  127.0.0.1:49338
2023/06/02 15:58:08 ws-manager.go:75: Adding user info: {user-connect {"otp":"91227d7e-9291-4c35-8d74-a8379aadff88","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 15:58:08 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:58:08 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 15:58:08 ws-client.go:177: Message sent to client: 127.0.0.1:49338 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:58:08 ws-client.go:177: Message sent to client: 127.0.0.1:49306 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 15:58:10 ws-client.go:90: Client read message from:  127.0.0.1:49338
2023/06/02 15:58:10 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 15:58:10 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00}]
2023/06/02 15:58:10 ws-manager.go:148: History sent to:  usr1
2023/06/02 15:58:10 ws-client.go:177: Message sent to client: 127.0.0.1:49338 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"}]}
2023/06/02 15:58:13 ws-client.go:90: Client read message from:  127.0.0.1:49338
2023/06/02 15:58:13 ws-manager.go:38: Event/message sent: {new-message {"message":"ldfdgljdh","from":"usr1","to":"admin","sent":1685710693824}}
2023/06/02 15:58:13 ws-client.go:177: Message sent to client: 127.0.0.1:49306 Message: {"type":"sent-message","payload":{"message":"ldfdgljdh","from":"usr1","to":"admin","sent":"2023-06-02T15:58:13.82728292+03:00"}}
2023/06/02 15:58:17 ws-client.go:90: Client read message from:  127.0.0.1:49306
2023/06/02 15:58:17 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 15:58:17 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00}]
2023/06/02 15:58:17 ws-manager.go:148: History sent to:  admin
2023/06/02 15:58:17 ws-client.go:177: Message sent to client: 127.0.0.1:49306 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"}]}
2023/06/02 15:59:08 ws-client.go:90: Client read message from:  127.0.0.1:49338
2023/06/02 15:59:08 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 15:59:08 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00}]
2023/06/02 15:59:08 ws-manager.go:148: History sent to:  usr1
2023/06/02 15:59:08 ws-client.go:177: Message sent to client: 127.0.0.1:49338 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"}]}
2023/06/02 15:59:13 ws-client.go:90: Client read message from:  127.0.0.1:49338
2023/06/02 15:59:13 ws-manager.go:38: Event/message sent: {new-message {"message":"khsvkjhfb","from":"usr1","to":"admin","sent":1685710753236}}
2023/06/02 15:59:13 ws-client.go:177: Message sent to client: 127.0.0.1:49306 Message: {"type":"sent-message","payload":{"message":"khsvkjhfb","from":"usr1","to":"admin","sent":"2023-06-02T15:59:13.238625614+03:00"}}
2023/06/02 15:59:18 ws-client.go:90: Client read message from:  127.0.0.1:49306
2023/06/02 15:59:18 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 15:59:18 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00}]
2023/06/02 15:59:18 ws-manager.go:148: History sent to:  admin
2023/06/02 15:59:18 ws-client.go:177: Message sent to client: 127.0.0.1:49306 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"}]}
2023/06/02 15:59:59 handlers.go:482: GettingPostsByCategory...
2023/06/02 15:59:59 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 15:59:59 handlers.go:493: Categories: {Categories:[Cuisine]}
2023/06/02 15:59:59 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 15:59:59 handlers.go:513: With arguments: [Cuisine]
2023/06/02 15:59:59 handlers.go:534: Scanned post: {PostId:1 UserId:1 Title:Welcome to the Cuisines category! Content:Be the first to post in this category! Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 15:59:59 handlers.go:534: Scanned post: {PostId:4 UserId:1 Title:Asian Food Content:Thai Khun Mom serves very typical Asian food in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 15:59:59 handlers.go:534: Scanned post: {PostId:6 UserId:1 Title:Best Sushi Content:Fina Fisken is the best sushi in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 15:59:59 handlers.go:537: Processed 3 posts
2023/06/02 16:00:03 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:04 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:04 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:04 handlers.go:493: Categories: {Categories:[Politics]}
2023/06/02 16:00:04 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:04 handlers.go:513: With arguments: [Politics]
2023/06/02 16:00:04 handlers.go:537: Processed 0 posts
2023/06/02 16:00:06 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:07 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:07 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:07 handlers.go:493: Categories: {Categories:[Places]}
2023/06/02 16:00:07 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:07 handlers.go:513: With arguments: [Places]
2023/06/02 16:00:07 handlers.go:534: Scanned post: {PostId:2 UserId:1 Title:Welcome to the Places category! Content:Be the first to post in this category! Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:07 handlers.go:534: Scanned post: {PostId:4 UserId:1 Title:Asian Food Content:Thai Khun Mom serves very typical Asian food in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:07 handlers.go:534: Scanned post: {PostId:6 UserId:1 Title:Best Sushi Content:Fina Fisken is the best sushi in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:07 handlers.go:534: Scanned post: {PostId:8 UserId:1 Title:Real Embassy Content:Brazilian Real Embassy is now in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:07 handlers.go:537: Processed 4 posts
2023/06/02 16:00:10 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:12 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:12 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:12 handlers.go:493: Categories: {Categories:[Events]}
2023/06/02 16:00:12 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:12 handlers.go:513: With arguments: [Events]
2023/06/02 16:00:12 handlers.go:537: Processed 0 posts
2023/06/02 16:00:13 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:15 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:15 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:15 handlers.go:493: Categories: {Categories:[Code]}
2023/06/02 16:00:15 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:15 handlers.go:513: With arguments: [Code]
2023/06/02 16:00:15 handlers.go:537: Processed 0 posts
2023/06/02 16:00:15 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:17 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:17 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:17 handlers.go:493: Categories: {Categories:[Business]}
2023/06/02 16:00:17 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:17 handlers.go:513: With arguments: [Business]
2023/06/02 16:00:17 handlers.go:537: Processed 0 posts
2023/06/02 16:00:18 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:19 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:19 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:19 handlers.go:493: Categories: {Categories:[Places]}
2023/06/02 16:00:19 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:19 handlers.go:513: With arguments: [Places]
2023/06/02 16:00:19 handlers.go:534: Scanned post: {PostId:2 UserId:1 Title:Welcome to the Places category! Content:Be the first to post in this category! Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:19 handlers.go:534: Scanned post: {PostId:4 UserId:1 Title:Asian Food Content:Thai Khun Mom serves very typical Asian food in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:19 handlers.go:534: Scanned post: {PostId:6 UserId:1 Title:Best Sushi Content:Fina Fisken is the best sushi in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:19 handlers.go:534: Scanned post: {PostId:8 UserId:1 Title:Real Embassy Content:Brazilian Real Embassy is now in Mariehamn Author:admin Created:2023-06-02T12:27:22Z}
2023/06/02 16:00:19 handlers.go:537: Processed 4 posts
2023/06/02 16:00:20 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:21 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:21 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:21 handlers.go:493: Categories: {Categories:[Politics]}
2023/06/02 16:00:21 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:21 handlers.go:513: With arguments: [Politics]
2023/06/02 16:00:21 handlers.go:537: Processed 0 posts
2023/06/02 16:00:22 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:23 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:23 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:23 handlers.go:493: Categories: {Categories:[Sports]}
2023/06/02 16:00:23 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:23 handlers.go:513: With arguments: [Sports]
2023/06/02 16:00:23 handlers.go:537: Processed 0 posts
2023/06/02 16:00:25 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:26 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:26 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:26 handlers.go:493: Categories: {Categories:[Language]}
2023/06/02 16:00:26 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:26 handlers.go:513: With arguments: [Language]
2023/06/02 16:00:26 handlers.go:537: Processed 0 posts
2023/06/02 16:00:27 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:40 handlers.go:429: Add Post Request body:  {1 Coded Coded admin [{5 Code}]}
2023/06/02 16:00:40 handlers.go:471: Post added successfully:  {1 admin Coded Coded }
2023/06/02 16:00:42 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:45 handlers.go:482: GettingPostsByCategory...
2023/06/02 16:00:45 handlers.go:492: PostsByCategoryHandler reached.
2023/06/02 16:00:45 handlers.go:493: Categories: {Categories:[Code]}
2023/06/02 16:00:45 handlers.go:512: Executing query: SELECT DISTINCT post.id, post.user_id, post.title, post.content, post.author, post.created_at 
		FROM post 
		INNER JOIN category_relation ON post.id = category_relation.post_id 
		WHERE category_relation.category_id IN (
		SELECT id FROM category WHERE category_name IN (?))
2023/06/02 16:00:45 handlers.go:513: With arguments: [Code]
2023/06/02 16:00:45 handlers.go:534: Scanned post: {PostId:9 UserId:1 Title:Coded Content:Coded Author:admin Created:2023-06-02T16:00:40Z}
2023/06/02 16:00:45 handlers.go:537: Processed 1 posts
2023/06/02 16:00:47 handlers.go:612: GetComments Rows:  &{0xc000108120 0x6d8440 0xc0002916e0 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/02 16:00:47 handlers.go:625: Comments sent:  []
2023/06/02 16:00:50 handlers.go:564: Adding comment... { 0 1 9 fvjebfv }
2023/06/02 16:00:50 handlers.go:612: GetComments Rows:  &{0xc000108120 0x6d8440 0xc00049a1e0 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/02 16:00:50 handlers.go:625: Comments sent:  [{admin 1 1 9 fvjebfv 2023-06-02T16:00:50Z}]
2023/06/02 16:00:53 handlers.go:564: Adding comment... { 0 1 9 ervvkebv }
2023/06/02 16:00:53 handlers.go:612: GetComments Rows:  &{0xc000108120 0x6d8440 0xc000291860 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/02 16:00:53 handlers.go:625: Comments sent:  [{admin 1 1 9 fvjebfv 2023-06-02T16:00:50Z} {admin 2 1 9 ervvkebv 2023-06-02T16:00:53Z}]
2023/06/02 16:00:54 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:00:57 handlers.go:612: GetComments Rows:  &{0xc000108120 0x6d8440 0xc00049a4e0 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/02 16:00:57 handlers.go:625: Comments sent:  [{admin 1 1 9 fvjebfv 2023-06-02T16:00:50Z} {admin 2 1 9 ervvkebv 2023-06-02T16:00:53Z}]
2023/06/02 16:01:01 handlers.go:564: Adding comment... { 0 2 9 svmbf }
2023/06/02 16:01:01 handlers.go:612: GetComments Rows:  &{0xc000108120 0x6d8440 0xc00049a660 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/02 16:01:01 handlers.go:625: Comments sent:  [{admin 1 1 9 fvjebfv 2023-06-02T16:00:50Z} {admin 2 1 9 ervvkebv 2023-06-02T16:00:53Z} {usr1 3 2 9 svmbf 2023-06-02T16:01:01Z}]
2023/06/02 16:01:05 handlers.go:564: Adding comment... { 0 2 9 rverv }
2023/06/02 16:01:05 handlers.go:612: GetComments Rows:  &{0xc000108120 0x6d8440 0xc000027140 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/02 16:01:05 handlers.go:625: Comments sent:  [{admin 1 1 9 fvjebfv 2023-06-02T16:00:50Z} {admin 2 1 9 ervvkebv 2023-06-02T16:00:53Z} {usr1 3 2 9 svmbf 2023-06-02T16:01:01Z} {usr1 4 2 9 rverv 2023-06-02T16:01:05Z}]
2023/06/02 16:01:09 handlers.go:376: AllPostsHandler reached.
2023/06/02 16:01:10 handlers.go:612: GetComments Rows:  &{0xc000108120 0x6d8440 0xc000291c80 <nil> <nil> {{0 0} 0 0 {{} 0} {{} 0}} false <nil> []}
2023/06/02 16:01:10 handlers.go:625: Comments sent:  [{admin 1 1 9 fvjebfv 2023-06-02T16:00:50Z} {admin 2 1 9 ervvkebv 2023-06-02T16:00:53Z} {usr1 3 2 9 svmbf 2023-06-02T16:01:01Z} {usr1 4 2 9 rverv 2023-06-02T16:01:05Z}]
2023/06/02 16:05:59 main.go:41: Server stopped.
