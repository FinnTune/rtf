2023/06/02 17:24:32 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/02 17:24:32 main.go:128: New Forum Begun
2023/06/02 17:24:32 sqlFuncs.go:18: Database opened successfully.
2023/06/02 17:24:32 main.go:57: File Servers Started.
2023/06/02 17:24:32 main.go:68: Handlers Started.
2023/06/02 17:24:32 main.go:104: Server Started and listening on port :443.
2023/06/02 17:24:33 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:24:33 main.go:77: Cookie exists.
2023/06/02 17:24:34 handlers.go:41: Checking login status.
2023/06/02 17:24:34 handlers.go:56: Manager's clients:  map[]
2023/06/02 17:24:34 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 17:24:34 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:24:34 main.go:77: Cookie exists.
2023/06/02 17:24:35 handlers.go:41: Checking login status.
2023/06/02 17:24:35 handlers.go:56: Manager's clients:  map[]
2023/06/02 17:24:35 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 17:24:39 handlers.go:41: Checking login status.
2023/06/02 17:24:39 handlers.go:56: Manager's clients:  map[]
2023/06/02 17:24:39 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 17:24:39 handlers.go:108: Login handler reached.
2023/06/02 17:24:39 handlers.go:124: Login POST request received.
2023/06/02 17:24:39 utility.go:29: Password and hash match.
2023/06/02 17:24:39 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-02 12:28:02 Password:$2a$12$w9ii3aHQcYnJSgkSCskjM.WopLVDCQZHomxfIL8UwQSuSjmPN0kNy Session: NumberComments:0 NumberPosts:0}
2023/06/02 17:24:39 handlers.go:144: Authentication condition reached.
2023/06/02 17:24:39 handlers.go:145: User Login list:  map[]
2023/06/02 17:24:39 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:24:39 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:24:39 handlers.go:270: Serving websocket.
2023/06/02 17:24:39 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:24:39 handlers.go:278: Decoding request body.
2023/06/02 17:24:39 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:24:39 handlers.go:307: Client does not exist.
2023/06/02 17:24:39 ws-client.go:44: New client connected.
2023/06/02 17:24:39 ws-manager.go:231: Client: 127.0.0.1:38768 added to manager.
2023/06/02 17:24:39 ws-client.go:65: Client IP and client port num.:  127.0.0.1:38768
2023/06/02 17:24:39 ws-client.go:90: Client read message from:  127.0.0.1:38768
2023/06/02 17:24:39 ws-manager.go:75: Adding user info: {user-connect {"otp":"7f7b0017-21c8-4174-b70e-6461b00425dd","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":false}}
2023/06/02 17:24:39 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/02 17:24:39 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/02 17:24:39 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/02 17:24:45 handlers.go:41: Checking login status.
2023/06/02 17:24:45 handlers.go:56: Manager's clients:  map[0xc000232e70:true]
2023/06/02 17:24:45 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/02 17:24:45 handlers.go:108: Login handler reached.
2023/06/02 17:24:45 handlers.go:124: Login POST request received.
2023/06/02 17:24:45 utility.go:29: Password and hash match.
2023/06/02 17:24:45 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-02 12:28:24 Password:$2a$12$k1hUhG0PwPea1UQP6jLGxuI1xeFVg/qaOYKJz58RJ6kQJKgbOLVwm Session: NumberComments:0 NumberPosts:0}
2023/06/02 17:24:45 handlers.go:144: Authentication condition reached.
2023/06/02 17:24:45 handlers.go:145: User Login list:  map[admin:true]
2023/06/02 17:24:45 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:24:45 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:24:45 handlers.go:270: Serving websocket.
2023/06/02 17:24:45 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:24:45 handlers.go:278: Decoding request body.
2023/06/02 17:24:45 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:24:45 handlers.go:307: Client does not exist.
2023/06/02 17:24:45 ws-client.go:44: New client connected.
2023/06/02 17:24:45 ws-manager.go:231: Client: 127.0.0.1:49790 added to manager.
2023/06/02 17:24:45 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49790
2023/06/02 17:24:45 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:24:45 ws-manager.go:75: Adding user info: {user-connect {"otp":"6d2c90fb-07fb-4232-aa1e-e6c1e8109493","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":false}}
2023/06/02 17:24:45 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/02 17:24:45 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:24:45 ws-client.go:177: Message sent to client: 127.0.0.1:49790 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:24:45 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:24:48 ws-client.go:90: Client read message from:  127.0.0.1:38768
2023/06/02 17:24:48 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:24:48 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:24:48 ws-manager.go:148: History sent to:  admin
2023/06/02 17:24:48 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:24:48 main.go:73: Handling request "/typing.gif" and serving index.html
2023/06/02 17:24:48 main.go:77: Cookie exists.
2023/06/02 17:24:50 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:24:50 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:24:50 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:24:50 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:24:50 ws-client.go:177: Message sent to client: 127.0.0.1:49790 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:24:50 main.go:73: Handling request "/typing.gif" and serving index.html
2023/06/02 17:24:50 main.go:77: Cookie exists.
2023/06/02 17:24:54 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:24:54 ws-manager.go:174: History sent to:  admin
2023/06/02 17:24:54 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:24:54 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:24:54 ws-manager.go:174: History sent to:  admin
2023/06/02 17:24:54 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:24:54 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:24:54 ws-manager.go:174: History sent to:  admin
2023/06/02 17:24:54 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:24:55 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:24:55 ws-manager.go:174: History sent to:  admin
2023/06/02 17:24:55 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:24:56 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:24:56 ws-manager.go:199: History sent to:  admin
2023/06/02 17:24:56 ws-client.go:177: Message sent to client: 127.0.0.1:38768 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:16 ws-client.go:90: Client read message from:  127.0.0.1:38768
2023/06/02 17:25:16 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:25:16 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:25:16 main.go:77: Cookie exists.
2023/06/02 17:25:17 handlers.go:41: Checking login status.
2023/06/02 17:25:17 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:25:17 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:25:17 handlers.go:87: OTP:  510076b0-e331-4370-8237-b727d2d18cbc
2023/06/02 17:25:17 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:25:17 handlers.go:270: Serving websocket.
2023/06/02 17:25:17 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:25:17 handlers.go:278: Decoding request body.
2023/06/02 17:25:17 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:25:17 handlers.go:293: Client already exists.
2023/06/02 17:25:17 handlers.go:294: ClientUName Debug:  admin
2023/06/02 17:25:17 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50388
2023/06/02 17:25:17 ws-client.go:90: Client read message from:  127.0.0.1:50388
2023/06/02 17:25:17 ws-manager.go:75: Adding user info: {user-connect {"otp":"510076b0-e331-4370-8237-b727d2d18cbc","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 17:25:17 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:25:17 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:25:17 ws-client.go:177: Message sent to client: 127.0.0.1:49790 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:25:17 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:25:17 ws-client.go:90: Client read message from:  127.0.0.1:49790
2023/06/02 17:25:17 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:25:18 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:25:18 main.go:77: Cookie exists.
2023/06/02 17:25:18 handlers.go:41: Checking login status.
2023/06/02 17:25:18 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:25:18 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:25:18 handlers.go:87: OTP:  226cefef-8062-42a9-b1e5-815dedfeb207
2023/06/02 17:25:18 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:25:18 handlers.go:270: Serving websocket.
2023/06/02 17:25:18 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:25:18 handlers.go:278: Decoding request body.
2023/06/02 17:25:18 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:25:18 handlers.go:293: Client already exists.
2023/06/02 17:25:18 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 17:25:18 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50408
2023/06/02 17:25:18 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:18 ws-manager.go:75: Adding user info: {user-connect {"otp":"226cefef-8062-42a9-b1e5-815dedfeb207","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 17:25:18 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:25:18 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:25:18 ws-client.go:177: Message sent to client: 127.0.0.1:50408 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:25:18 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:25:22 ws-client.go:90: Client read message from:  127.0.0.1:50388
2023/06/02 17:25:22 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:25:22 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:25:22 ws-manager.go:148: History sent to:  admin
2023/06/02 17:25:22 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:25:22 main.go:73: Handling request "/typing.gif" and serving index.html
2023/06/02 17:25:22 main.go:77: Cookie exists.
2023/06/02 17:25:23 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:23 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:25:23 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:25:23 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:25:23 ws-client.go:177: Message sent to client: 127.0.0.1:50408 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:25:23 main.go:73: Handling request "/typing.gif" and serving index.html
2023/06/02 17:25:23 main.go:77: Cookie exists.
2023/06/02 17:25:30 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:30 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:30 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:30 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:30 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:30 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:31 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:31 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:31 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:31 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:31 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:31 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:31 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:31 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:31 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:31 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:31 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:31 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:32 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:32 ws-manager.go:199: History sent to:  admin
2023/06/02 17:25:32 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:33 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:33 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:33 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:33 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:34 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:34 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:34 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:34 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:34 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:34 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:34 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:34 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:34 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:34 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:34 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:34 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:34 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:34 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:35 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:35 ws-manager.go:199: History sent to:  admin
2023/06/02 17:25:35 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:40 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:40 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:40 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:40 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:40 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:40 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:40 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:40 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:40 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:25:40 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:25:41 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:25:41 ws-manager.go:199: History sent to:  admin
2023/06/02 17:25:41 ws-client.go:177: Message sent to client: 127.0.0.1:50388 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:20 ws-client.go:90: Client read message from:  127.0.0.1:50388
2023/06/02 17:27:20 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:27:20 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:27:20 main.go:77: Cookie exists.
2023/06/02 17:27:21 ws-client.go:182: Client connection is nil.
2023/06/02 17:27:21 handlers.go:41: Checking login status.
2023/06/02 17:27:21 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:27:21 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:27:21 handlers.go:87: OTP:  344e2118-1b55-4680-bc79-4c6c965afd08
2023/06/02 17:27:21 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:27:21 handlers.go:270: Serving websocket.
2023/06/02 17:27:21 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:27:21 handlers.go:278: Decoding request body.
2023/06/02 17:27:21 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:27:21 handlers.go:293: Client already exists.
2023/06/02 17:27:21 handlers.go:294: ClientUName Debug:  admin
2023/06/02 17:27:21 ws-client.go:65: Client IP and client port num.:  127.0.0.1:60854
2023/06/02 17:27:21 ws-client.go:90: Client read message from:  127.0.0.1:60854
2023/06/02 17:27:21 ws-manager.go:75: Adding user info: {user-connect {"otp":"344e2118-1b55-4680-bc79-4c6c965afd08","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 17:27:21 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:27:21 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:27:21 ws-client.go:177: Message sent to client: 127.0.0.1:50408 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:27:21 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:27:22 ws-client.go:90: Client read message from:  127.0.0.1:50408
2023/06/02 17:27:22 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:27:22 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:27:22 main.go:77: Cookie exists.
2023/06/02 17:27:22 handlers.go:41: Checking login status.
2023/06/02 17:27:22 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:27:22 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:27:22 handlers.go:87: OTP:  bad32d45-3a7c-4e70-a0d7-73d5c15fb8b3
2023/06/02 17:27:23 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:27:23 handlers.go:270: Serving websocket.
2023/06/02 17:27:23 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:27:23 handlers.go:278: Decoding request body.
2023/06/02 17:27:23 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:27:23 handlers.go:293: Client already exists.
2023/06/02 17:27:23 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 17:27:23 ws-client.go:65: Client IP and client port num.:  127.0.0.1:60872
2023/06/02 17:27:23 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:23 ws-manager.go:75: Adding user info: {user-connect {"otp":"bad32d45-3a7c-4e70-a0d7-73d5c15fb8b3","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 17:27:23 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:27:23 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:27:23 ws-client.go:177: Message sent to client: 127.0.0.1:60872 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:27:23 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:27:27 ws-client.go:90: Client read message from:  127.0.0.1:60854
2023/06/02 17:27:27 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:27:27 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:27:27 ws-manager.go:148: History sent to:  admin
2023/06/02 17:27:27 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:27:27 main.go:73: Handling request "/typing.gif" and serving index.html
2023/06/02 17:27:27 main.go:77: Cookie exists.
2023/06/02 17:27:28 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:28 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:27:28 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:27:28 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:27:28 ws-client.go:177: Message sent to client: 127.0.0.1:60872 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:27:28 main.go:73: Handling request "/typing.gif" and serving index.html
2023/06/02 17:27:28 main.go:77: Cookie exists.
2023/06/02 17:27:30 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:30 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:30 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:30 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:30 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:30 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:30 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:30 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:30 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:30 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:30 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:30 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:30 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:31 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:31 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:31 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:31 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:31 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:31 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:31 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:31 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:31 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:31 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:31 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:31 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:31 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:32 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:32 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:32 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:32 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:32 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:32 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:32 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:32 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:32 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:32 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:33 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:33 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:33 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:33 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:33 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:33 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:33 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:27:33 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:27:34 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:27:34 ws-manager.go:199: History sent to:  admin
2023/06/02 17:27:34 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:29 ws-client.go:90: Client read message from:  127.0.0.1:60872
2023/06/02 17:28:29 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:28:29 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:28:29 main.go:77: Cookie exists.
2023/06/02 17:28:30 handlers.go:41: Checking login status.
2023/06/02 17:28:30 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:28:30 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:28:30 handlers.go:87: OTP:  11b67d69-e9de-4277-88ce-d773e6849097
2023/06/02 17:28:30 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:28:30 handlers.go:270: Serving websocket.
2023/06/02 17:28:30 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:28:30 handlers.go:278: Decoding request body.
2023/06/02 17:28:30 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:28:30 handlers.go:293: Client already exists.
2023/06/02 17:28:30 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 17:28:30 ws-client.go:65: Client IP and client port num.:  127.0.0.1:59712
2023/06/02 17:28:30 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:30 ws-manager.go:75: Adding user info: {user-connect {"otp":"11b67d69-e9de-4277-88ce-d773e6849097","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 17:28:30 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:28:30 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:28:30 ws-client.go:177: Message sent to client: 127.0.0.1:59712 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:28:30 ws-client.go:177: Message sent to client: 127.0.0.1:60854 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:28:31 ws-client.go:90: Client read message from:  127.0.0.1:60854
2023/06/02 17:28:31 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:28:31 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:28:31 main.go:77: Cookie exists.
2023/06/02 17:28:32 handlers.go:41: Checking login status.
2023/06/02 17:28:32 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:28:32 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:28:32 handlers.go:87: OTP:  6575ab76-fad0-40ac-b016-9eb1259ad18f
2023/06/02 17:28:32 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:28:32 handlers.go:270: Serving websocket.
2023/06/02 17:28:32 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:28:32 handlers.go:278: Decoding request body.
2023/06/02 17:28:32 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:28:32 handlers.go:293: Client already exists.
2023/06/02 17:28:32 handlers.go:294: ClientUName Debug:  admin
2023/06/02 17:28:32 ws-client.go:65: Client IP and client port num.:  127.0.0.1:59726
2023/06/02 17:28:32 ws-client.go:90: Client read message from:  127.0.0.1:59726
2023/06/02 17:28:32 ws-manager.go:75: Adding user info: {user-connect {"otp":"6575ab76-fad0-40ac-b016-9eb1259ad18f","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 17:28:32 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:28:32 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:28:32 ws-client.go:177: Message sent to client: 127.0.0.1:59712 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:28:32 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:28:34 ws-client.go:90: Client read message from:  127.0.0.1:59726
2023/06/02 17:28:34 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:28:34 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:28:34 ws-manager.go:148: History sent to:  admin
2023/06/02 17:28:34 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:28:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:36 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:28:36 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:28:36 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:28:36 ws-client.go:177: Message sent to client: 127.0.0.1:59712 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:28:39 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:39 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:39 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:39 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:39 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:39 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:40 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:40 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:40 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:40 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:40 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:40 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:40 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:40 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:40 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:40 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:40 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:40 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:41 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:41 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:41 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:41 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:41 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:41 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:41 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:41 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:41 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:41 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:41 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:41 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:41 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:41 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:42 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:42 ws-manager.go:199: History sent to:  admin
2023/06/02 17:28:42 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:51 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:51 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:51 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:51 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:51 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:51 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:51 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:51 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:51 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:51 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:52 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:52 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:52 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:52 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:52 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:52 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:52 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:52 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:52 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:52 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:52 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:52 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:52 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:52 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:52 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:53 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:53 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:53 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:53 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:53 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:53 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:53 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:53 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:53 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:53 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:53 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:53 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:54 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:54 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:54 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:54 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:54 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:54 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:54 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:54 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:54 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:54 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:54 ws-manager.go:174: History sent to:  admin
2023/06/02 17:28:54 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:28:55 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:28:55 ws-manager.go:199: History sent to:  admin
2023/06/02 17:28:55 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:10 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:10 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:10 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:11 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:11 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:11 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:11 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:11 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:11 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:11 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:11 ws-manager.go:174: History sent to:  admin
2023/06/02 17:29:11 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:29:12 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:29:12 ws-manager.go:199: History sent to:  admin
2023/06/02 17:29:12 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:32 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:32 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:33 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:33 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:33 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:33 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:33 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:33 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:33 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:33 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:33 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:33 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:34 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:34 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:34 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:34 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:34 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:34 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:34 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:34 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:34 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:34 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:34 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:34 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:35 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:35 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:35 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:35 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:35 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:35 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:35 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:35 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:35 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:35 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:35 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:35 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:36 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:36 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:36 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:37 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:37 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:37 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:37 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:37 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:37 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:37 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:37 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:37 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:37 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:37 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:37 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:37 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:37 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:37 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:37 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:37 ws-manager.go:174: History sent to:  admin
2023/06/02 17:34:37 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:34:38 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:34:38 ws-manager.go:199: History sent to:  admin
2023/06/02 17:34:38 ws-client.go:177: Message sent to client: 127.0.0.1:59726 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:25 ws-client.go:90: Client read message from:  127.0.0.1:59726
2023/06/02 17:35:25 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:35:25 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:35:25 main.go:77: Cookie exists.
2023/06/02 17:35:26 handlers.go:41: Checking login status.
2023/06/02 17:35:26 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:35:26 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:35:26 handlers.go:87: OTP:  9437d8b4-0670-43b9-8b06-b19c0a6263cb
2023/06/02 17:35:26 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:35:26 handlers.go:270: Serving websocket.
2023/06/02 17:35:26 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:35:26 handlers.go:278: Decoding request body.
2023/06/02 17:35:26 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:35:26 handlers.go:293: Client already exists.
2023/06/02 17:35:26 handlers.go:294: ClientUName Debug:  admin
2023/06/02 17:35:26 ws-client.go:65: Client IP and client port num.:  127.0.0.1:40922
2023/06/02 17:35:26 ws-client.go:90: Client read message from:  127.0.0.1:40922
2023/06/02 17:35:26 ws-manager.go:75: Adding user info: {user-connect {"otp":"9437d8b4-0670-43b9-8b06-b19c0a6263cb","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 17:35:26 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:35:26 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:35:26 ws-client.go:177: Message sent to client: 127.0.0.1:59712 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:35:26 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:35:26 ws-client.go:90: Client read message from:  127.0.0.1:59712
2023/06/02 17:35:26 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:35:26 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:35:26 main.go:77: Cookie exists.
2023/06/02 17:35:27 handlers.go:41: Checking login status.
2023/06/02 17:35:27 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:35:27 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:35:27 handlers.go:87: OTP:  d618dd1f-0c7c-442b-87ba-2ba5ac7b2610
2023/06/02 17:35:27 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:35:27 handlers.go:270: Serving websocket.
2023/06/02 17:35:27 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:35:27 handlers.go:278: Decoding request body.
2023/06/02 17:35:27 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:35:27 handlers.go:293: Client already exists.
2023/06/02 17:35:27 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 17:35:27 ws-client.go:65: Client IP and client port num.:  127.0.0.1:40940
2023/06/02 17:35:27 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:27 ws-manager.go:75: Adding user info: {user-connect {"otp":"d618dd1f-0c7c-442b-87ba-2ba5ac7b2610","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 17:35:27 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:35:27 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:35:27 ws-client.go:177: Message sent to client: 127.0.0.1:40940 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:35:27 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:35:29 ws-client.go:90: Client read message from:  127.0.0.1:40922
2023/06/02 17:35:29 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:35:29 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:35:29 ws-manager.go:148: History sent to:  admin
2023/06/02 17:35:29 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:35:30 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:30 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:35:30 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:35:30 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:35:30 ws-client.go:177: Message sent to client: 127.0.0.1:40940 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:32 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:33 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:34 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:34 ws-manager.go:174: History sent to:  admin
2023/06/02 17:35:34 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:35:34 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:35:34 ws-manager.go:199: History sent to:  admin
2023/06/02 17:35:34 ws-client.go:177: Message sent to client: 127.0.0.1:40922 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:07 ws-client.go:90: Client read message from:  127.0.0.1:40922
2023/06/02 17:36:07 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:36:07 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:36:07 main.go:77: Cookie exists.
2023/06/02 17:36:08 handlers.go:41: Checking login status.
2023/06/02 17:36:08 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:36:08 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:36:08 handlers.go:87: OTP:  7ee02a28-e195-4846-bc60-18b87328d5c5
2023/06/02 17:36:08 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:36:08 handlers.go:270: Serving websocket.
2023/06/02 17:36:08 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:36:08 handlers.go:278: Decoding request body.
2023/06/02 17:36:08 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:36:08 handlers.go:293: Client already exists.
2023/06/02 17:36:08 handlers.go:294: ClientUName Debug:  admin
2023/06/02 17:36:08 ws-client.go:65: Client IP and client port num.:  127.0.0.1:44530
2023/06/02 17:36:08 ws-client.go:90: Client read message from:  127.0.0.1:44530
2023/06/02 17:36:08 ws-manager.go:75: Adding user info: {user-connect {"otp":"7ee02a28-e195-4846-bc60-18b87328d5c5","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 17:36:08 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:36:08 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:36:08 ws-client.go:177: Message sent to client: 127.0.0.1:40940 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:36:08 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:36:08 ws-client.go:90: Client read message from:  127.0.0.1:40940
2023/06/02 17:36:08 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:36:09 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:36:09 main.go:77: Cookie exists.
2023/06/02 17:36:09 handlers.go:41: Checking login status.
2023/06/02 17:36:09 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:36:09 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:36:09 handlers.go:87: OTP:  42326474-a5e9-4a4d-ba65-968d3587eaba
2023/06/02 17:36:09 ws-client.go:182: Client connection is nil.
2023/06/02 17:36:09 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:36:09 handlers.go:270: Serving websocket.
2023/06/02 17:36:09 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:36:09 handlers.go:278: Decoding request body.
2023/06/02 17:36:09 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:36:09 handlers.go:293: Client already exists.
2023/06/02 17:36:09 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 17:36:09 ws-client.go:65: Client IP and client port num.:  127.0.0.1:44550
2023/06/02 17:36:09 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:09 ws-manager.go:75: Adding user info: {user-connect {"otp":"42326474-a5e9-4a4d-ba65-968d3587eaba","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 17:36:09 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:36:09 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:36:09 ws-client.go:177: Message sent to client: 127.0.0.1:44550 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:36:09 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:36:10 ws-client.go:90: Client read message from:  127.0.0.1:44530
2023/06/02 17:36:10 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:36:10 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:36:10 ws-manager.go:148: History sent to:  admin
2023/06/02 17:36:10 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:36:13 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:13 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:36:13 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:36:13 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:36:13 ws-client.go:177: Message sent to client: 127.0.0.1:44550 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:36:14 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:14 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:14 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:14 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:14 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:14 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:14 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:14 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:14 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:15 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:15 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:15 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:15 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:15 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:15 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:15 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:15 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:15 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:15 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:15 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:15 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:16 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:16 ws-manager.go:199: History sent to:  admin
2023/06/02 17:36:16 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:18 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:18 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:18 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:18 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:18 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:18 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:19 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:19 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:19 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:19 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:19 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:19 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:19 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:19 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:19 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:19 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:19 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:19 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:19 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:19 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:19 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:19 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:19 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:19 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:20 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:20 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:20 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:20 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:20 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:20 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:20 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:20 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:20 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:20 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:20 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:20 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:20 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:20 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:20 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:20 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:20 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:20 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:21 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:21 ws-manager.go:199: History sent to:  admin
2023/06/02 17:36:21 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:40 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:40 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:40 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:41 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:41 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:41 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:42 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:42 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:42 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:42 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:42 ws-manager.go:174: History sent to:  admin
2023/06/02 17:36:42 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:36:43 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:36:43 ws-manager.go:199: History sent to:  admin
2023/06/02 17:36:43 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:37 ws-client.go:90: Client read message from:  127.0.0.1:44550
2023/06/02 17:38:37 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:38:37 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:38:37 main.go:77: Cookie exists.
2023/06/02 17:38:37 handlers.go:41: Checking login status.
2023/06/02 17:38:37 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:38:37 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:38:37 handlers.go:87: OTP:  28c2380d-f0b2-4c93-a506-fae30066c526
2023/06/02 17:38:38 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:38:38 ws-client.go:182: Client connection is nil.
2023/06/02 17:38:38 handlers.go:270: Serving websocket.
2023/06/02 17:38:38 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:38:38 handlers.go:278: Decoding request body.
2023/06/02 17:38:38 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:38:38 handlers.go:293: Client already exists.
2023/06/02 17:38:38 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 17:38:38 ws-client.go:65: Client IP and client port num.:  127.0.0.1:39758
2023/06/02 17:38:38 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:38 ws-manager.go:75: Adding user info: {user-connect {"otp":"28c2380d-f0b2-4c93-a506-fae30066c526","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 17:38:38 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:38:38 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:38:38 ws-client.go:177: Message sent to client: 127.0.0.1:44530 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:38:38 ws-client.go:177: Message sent to client: 127.0.0.1:39758 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:38:38 ws-client.go:90: Client read message from:  127.0.0.1:44530
2023/06/02 17:38:38 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:38:38 ws-client.go:182: Client connection is nil.
2023/06/02 17:38:38 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:38:38 main.go:77: Cookie exists.
2023/06/02 17:38:39 handlers.go:41: Checking login status.
2023/06/02 17:38:39 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:38:39 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:38:39 handlers.go:87: OTP:  88387977-f78d-4127-a05b-141905ac3502
2023/06/02 17:38:40 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:38:40 handlers.go:270: Serving websocket.
2023/06/02 17:38:40 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:38:40 handlers.go:278: Decoding request body.
2023/06/02 17:38:40 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:38:40 handlers.go:293: Client already exists.
2023/06/02 17:38:40 handlers.go:294: ClientUName Debug:  admin
2023/06/02 17:38:40 ws-client.go:65: Client IP and client port num.:  127.0.0.1:39780
2023/06/02 17:38:40 ws-client.go:90: Client read message from:  127.0.0.1:39780
2023/06/02 17:38:40 ws-manager.go:75: Adding user info: {user-connect {"otp":"88387977-f78d-4127-a05b-141905ac3502","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 17:38:40 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:38:40 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:38:40 ws-client.go:177: Message sent to client: 127.0.0.1:39758 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:38:40 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:38:42 ws-client.go:90: Client read message from:  127.0.0.1:39780
2023/06/02 17:38:42 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:38:42 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:38:42 ws-manager.go:148: History sent to:  admin
2023/06/02 17:38:42 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:38:46 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:46 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:38:46 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:38:46 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:38:46 ws-client.go:177: Message sent to client: 127.0.0.1:39758 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:38:48 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:48 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:48 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:48 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:48 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:48 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:49 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:49 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:49 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:50 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:50 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:50 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:50 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:50 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:50 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:50 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:50 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:50 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:50 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:50 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:50 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:50 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:38:50 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:38:51 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:38:51 ws-manager.go:199: History sent to:  admin
2023/06/02 17:38:51 ws-client.go:177: Message sent to client: 127.0.0.1:39780 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:36 ws-client.go:90: Client read message from:  127.0.0.1:39780
2023/06/02 17:39:36 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:39:36 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:39:36 main.go:77: Cookie exists.
2023/06/02 17:39:37 handlers.go:41: Checking login status.
2023/06/02 17:39:37 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:39:37 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:39:37 handlers.go:87: OTP:  a5dc5354-8ff8-4565-b1b8-4023688b854b
2023/06/02 17:39:37 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:39:37 handlers.go:270: Serving websocket.
2023/06/02 17:39:37 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:39:37 handlers.go:278: Decoding request body.
2023/06/02 17:39:37 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/02 17:39:37 handlers.go:293: Client already exists.
2023/06/02 17:39:37 handlers.go:294: ClientUName Debug:  admin
2023/06/02 17:39:37 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49994
2023/06/02 17:39:37 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:39:37 ws-manager.go:75: Adding user info: {user-connect {"otp":"a5dc5354-8ff8-4565-b1b8-4023688b854b","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-02 12:28:02","loggedIn":true}}
2023/06/02 17:39:37 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:39:37 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:39:37 ws-client.go:177: Message sent to client: 127.0.0.1:39758 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:39:37 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:39:38 ws-client.go:90: Client read message from:  127.0.0.1:39758
2023/06/02 17:39:38 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/02 17:39:38 main.go:73: Handling request "/" and serving index.html
2023/06/02 17:39:38 main.go:77: Cookie exists.
2023/06/02 17:39:39 handlers.go:41: Checking login status.
2023/06/02 17:39:39 handlers.go:56: Manager's clients:  map[0xc000232070:true 0xc000232e70:true]
2023/06/02 17:39:39 handlers.go:67: Session cookie found. User logged in
2023/06/02 17:39:39 handlers.go:87: OTP:  ad17cce9-395c-486a-9c0b-78eabed99e44
2023/06/02 17:39:39 ws-client.go:182: Client connection is nil.
2023/06/02 17:39:39 handlers.go:376: AllPostsHandler reached.
2023/06/02 17:39:39 handlers.go:270: Serving websocket.
2023/06/02 17:39:39 handlers.go:30: Checking origin: https://localhost
2023/06/02 17:39:39 handlers.go:278: Decoding request body.
2023/06/02 17:39:39 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/02 17:39:39 handlers.go:293: Client already exists.
2023/06/02 17:39:39 handlers.go:294: ClientUName Debug:  usr1
2023/06/02 17:39:39 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50016
2023/06/02 17:39:39 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:39 ws-manager.go:75: Adding user info: {user-connect {"otp":"ad17cce9-395c-486a-9c0b-78eabed99e44","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-02 12:28:24","loggedIn":true}}
2023/06/02 17:39:39 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:39:39 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/02 17:39:39 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:39:39 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/02 17:39:41 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:39:41 ws-manager.go:116: History Request:  {0 admin usr1 false  }
2023/06/02 17:39:41 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:39:41 ws-manager.go:148: History sent to:  admin
2023/06/02 17:39:41 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:39:45 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:45 ws-manager.go:116: History Request:  {0 usr1 admin false  }
2023/06/02 17:39:45 ws-manager.go:134: History of Messages:  [{1 usr1 admin true ijssdguuh 2023-06-02T13:42:56.413305251+03:00} {2 usr1 admin false sgkjsg 2023-06-02T14:56:54.53961529+03:00} {3 usr1 admin false jkdlnjhd 2023-06-02T15:31:40.407656314+03:00} {4 admin usr1 false kjsdkjhsg 2023-06-02T15:31:47.378297407+03:00} {5 admin usr1 false sdgkjbsdg 2023-06-02T15:31:49.916972036+03:00} {6 admin usr1 false sdgkjbjsdg 2023-06-02T15:31:52.85867468+03:00} {7 usr1 admin false ldfdgljdh 2023-06-02T15:58:13.82728292+03:00} {8 usr1 admin false khsvkjhfb 2023-06-02T15:59:13.238625614+03:00} {9 usr1 admin false sdgghbhsdg 2023-06-02T17:13:00.917278721+03:00}]
2023/06/02 17:39:45 ws-manager.go:148: History sent to:  usr1
2023/06/02 17:39:45 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"chat_history","payload":[{"id":1,"from":"usr1","to":"admin","is_read":true,"message":"ijssdguuh","created_at":"2023-06-02T13:42:56.413305251+03:00"},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"sgkjsg","created_at":"2023-06-02T14:56:54.53961529+03:00"},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"jkdlnjhd","created_at":"2023-06-02T15:31:40.407656314+03:00"},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"kjsdkjhsg","created_at":"2023-06-02T15:31:47.378297407+03:00"},{"id":5,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbsdg","created_at":"2023-06-02T15:31:49.916972036+03:00"},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjbjsdg","created_at":"2023-06-02T15:31:52.85867468+03:00"},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"ldfdgljdh","created_at":"2023-06-02T15:58:13.82728292+03:00"},{"id":8,"from":"usr1","to":"admin","is_read":false,"message":"khsvkjhfb","created_at":"2023-06-02T15:59:13.238625614+03:00"},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"sdgghbhsdg","created_at":"2023-06-02T17:13:00.917278721+03:00"}]}
2023/06/02 17:39:50 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:50 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:50 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:50 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:50 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:50 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:50 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:50 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:50 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:50 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:50 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:50 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:50 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:50 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:50 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:51 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:51 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:51 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:51 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:51 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:51 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:51 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:51 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:51 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:51 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:51 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:51 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:51 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:51 ws-manager.go:174: History sent to:  admin
2023/06/02 17:39:51 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:39:52 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:39:52 ws-manager.go:199: History sent to:  admin
2023/06/02 17:39:52 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"stop-typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:00 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:00 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:00 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:00 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:00 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:00 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:00 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:00 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:00 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:00 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:00 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:00 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:00 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:00 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:00 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:01 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:01 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:01 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:01 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:01 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:01 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:01 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:01 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:01 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:01 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:01 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:01 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:01 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:01 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:01 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:01 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:01 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:01 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:01 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:01 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:01 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:02 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:02 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:02 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:02 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:02 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:02 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:03 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:03 ws-manager.go:199: History sent to:  usr1
2023/06/02 17:40:03 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:11 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:11 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:40:11 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:12 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:12 ws-manager.go:199: History sent to:  usr1
2023/06/02 17:40:12 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:40:13 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:40:13 ws-manager.go:38: Event/message sent: {new-message {"message":"jfjhjygyjgyjg","from":"admin","to":"usr1","sent":1685716813642}}
2023/06/02 17:40:13 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"sent-message","payload":{"message":"jfjhjygyjgyjg","from":"admin","to":"usr1","sent":"2023-06-02T17:40:13.64667432+03:00"}}
2023/06/02 17:40:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:40:15 ws-manager.go:38: Event/message sent: {new-message {"message":"kjsdgkjbsdgkjb","from":"usr1","to":"admin","sent":1685716815389}}
2023/06/02 17:40:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"sent-message","payload":{"message":"kjsdgkjbsdgkjb","from":"usr1","to":"admin","sent":"2023-06-02T17:40:15.417332105+03:00"}}
2023/06/02 17:48:11 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:11 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:11 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:11 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:11 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:11 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:11 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:11 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:11 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:11 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:11 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:11 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:12 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:12 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:12 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:12 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:12 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:12 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:12 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:12 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:12 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:12 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:12 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:12 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:12 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:12 ws-manager.go:174: History sent to:  usr1
2023/06/02 17:48:12 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:13 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:13 ws-manager.go:199: History sent to:  usr1
2023/06/02 17:48:13 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:13 ws-client.go:90: Client read message from:  127.0.0.1:49994
2023/06/02 17:48:13 ws-manager.go:38: Event/message sent: {new-message {"message":"khkbadgag","from":"admin","to":"usr1","sent":1685717293628}}
2023/06/02 17:48:13 ws-client.go:177: Message sent to client: 127.0.0.1:50016 Message: {"type":"sent-message","payload":{"message":"khkbadgag","from":"admin","to":"usr1","sent":"2023-06-02T17:48:13.644135374+03:00"}}
2023/06/02 17:48:14 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:14 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:14 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:14 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:14 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:14 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:15 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:15 ws-manager.go:174: History sent to:  admin
2023/06/02 17:48:15 ws-client.go:177: Message sent to client: 127.0.0.1:49994 Message: {"type":"typing","payload":{"id":0,"from":"usr1","to":"admin","is_read":false,"message":"","created_at":""}}
2023/06/02 17:48:16 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:16 ws-manager.go:38: Event/message sent: {new-message {"message":"asfkjbjaff","from":"usr1","to":"admin","sent":1685717296579}}
2023/06/02 17:48:16 ws-client.go:90: Client read message from:  127.0.0.1:50016
2023/06/02 17:48:16 ws-manager.go:199: History sent to:  admin
2023/06/02 17:48:16 ws-client.go:90: Client read message from:  127.0.0.1:49994
