2023/06/03 11:20:21 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/03 11:20:21 main.go:128: New Forum Begun
2023/06/03 11:20:21 sqlFuncs.go:18: Database opened successfully.
2023/06/03 11:20:21 main.go:57: File Servers Started.
2023/06/03 11:20:21 main.go:68: Handlers Started.
2023/06/03 11:20:21 main.go:104: Server Started and listening on port :443.
2023/06/03 11:20:27 main.go:73: Handling request "/" and serving index.html
2023/06/03 11:20:27 main.go:77: Cookie exists.
2023/06/03 11:20:28 main.go:73: Handling request "/" and serving index.html
2023/06/03 11:20:28 main.go:77: Cookie exists.
2023/06/03 11:20:29 handlers.go:41: Checking login status.
2023/06/03 11:20:29 handlers.go:56: Manager's clients:  map[]
2023/06/03 11:20:29 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 11:20:30 handlers.go:41: Checking login status.
2023/06/03 11:20:30 handlers.go:56: Manager's clients:  map[]
2023/06/03 11:20:30 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 11:20:35 handlers.go:41: Checking login status.
2023/06/03 11:20:35 handlers.go:56: Manager's clients:  map[]
2023/06/03 11:20:35 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 11:20:35 handlers.go:108: Login handler reached.
2023/06/03 11:20:35 handlers.go:124: Login POST request received.
2023/06/03 11:20:35 utility.go:29: Password and hash match.
2023/06/03 11:20:35 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/03 11:20:35 handlers.go:144: Authentication condition reached.
2023/06/03 11:20:35 handlers.go:145: User Login list:  map[]
2023/06/03 11:20:35 handlers.go:376: AllPostsHandler reached.
2023/06/03 11:20:35 handlers.go:270: Serving websocket.
2023/06/03 11:20:35 handlers.go:30: Checking origin: https://localhost
2023/06/03 11:20:35 handlers.go:278: Decoding request body.
2023/06/03 11:20:35 handlers.go:290: Session Id in ServeWS:  81e442e1-3ad4-4808-b51b-cb26dedfeb4e
2023/06/03 11:20:35 handlers.go:307: Client does not exist.
2023/06/03 11:20:35 ws-client.go:44: New client connected.
2023/06/03 11:20:35 ws-manager.go:233: Client: 127.0.0.1:41844 added to manager.
2023/06/03 11:20:35 ws-client.go:65: Client IP and client port num.:  127.0.0.1:41844
2023/06/03 11:20:35 handlers.go:376: AllPostsHandler reached.
2023/06/03 11:20:35 ws-client.go:90: Client read message from:  127.0.0.1:41844
2023/06/03 11:20:35 ws-manager.go:75: Adding user info: {user-connect {"otp":"06938c49-d047-4429-b642-50fbc777efd9","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":false}}
2023/06/03 11:20:35 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/03 11:20:35 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/03 11:20:35 ws-client.go:177: Message sent to client: 127.0.0.1:41844 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 11:20:42 handlers.go:41: Checking login status.
2023/06/03 11:20:42 handlers.go:56: Manager's clients:  map[0xc000390a10:true]
2023/06/03 11:20:42 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 11:20:42 handlers.go:108: Login handler reached.
2023/06/03 11:20:42 handlers.go:124: Login POST request received.
2023/06/03 11:20:42 utility.go:29: Password and hash match.
2023/06/03 11:20:42 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-03 10:43:21 Password:$2a$12$FaCwYszH42rBSTCpi0zg7OVHHT/YBpMai/bVrCGiZt.emSe8QmJxS Session: NumberComments:0 NumberPosts:0}
2023/06/03 11:20:42 handlers.go:144: Authentication condition reached.
2023/06/03 11:20:42 handlers.go:145: User Login list:  map[admin:true]
2023/06/03 11:20:42 handlers.go:376: AllPostsHandler reached.
2023/06/03 11:20:42 handlers.go:376: AllPostsHandler reached.
2023/06/03 11:20:42 handlers.go:270: Serving websocket.
2023/06/03 11:20:42 handlers.go:30: Checking origin: https://localhost
2023/06/03 11:20:42 handlers.go:278: Decoding request body.
2023/06/03 11:20:42 handlers.go:290: Session Id in ServeWS:  d5970280-2493-41a1-85a1-bc31b174ad0a
2023/06/03 11:20:42 handlers.go:307: Client does not exist.
2023/06/03 11:20:42 ws-client.go:44: New client connected.
2023/06/03 11:20:42 ws-manager.go:233: Client: 127.0.0.1:46492 added to manager.
2023/06/03 11:20:42 ws-client.go:65: Client IP and client port num.:  127.0.0.1:46492
2023/06/03 11:20:42 ws-client.go:90: Client read message from:  127.0.0.1:46492
2023/06/03 11:20:42 ws-manager.go:75: Adding user info: {user-connect {"otp":"e5aec3ec-409f-4807-93a1-5370919a2024","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":false}}
2023/06/03 11:20:42 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/03 11:20:42 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 11:20:42 ws-client.go:177: Message sent to client: 127.0.0.1:46492 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 11:20:42 ws-client.go:177: Message sent to client: 127.0.0.1:41844 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 11:20:52 ws-client.go:90: Client read message from:  127.0.0.1:41844
2023/06/03 11:20:52 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 11:20:52 ws-manager.go:134: History of Messages:  [{20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0}]
2023/06/03 11:20:52 ws-manager.go:148: History sent to:  admin
2023/06/03 11:20:52 ws-client.go:177: Message sent to client: 127.0.0.1:41844 Message: {"type":"chat_history","payload":[{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0}]}
2023/06/03 11:29:24 main.go:41: Server stopped.
