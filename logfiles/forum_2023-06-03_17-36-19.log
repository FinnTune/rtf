2023/06/03 16:56:01 main.go:127: Main begun. Log file checked, opened, and set.
2023/06/03 16:56:01 main.go:128: New Forum Begun
2023/06/03 16:56:01 sqlFuncs.go:18: Database opened successfully.
2023/06/03 16:56:01 main.go:57: File Servers Started.
2023/06/03 16:56:01 main.go:68: Handlers Started.
2023/06/03 16:56:01 main.go:104: Server Started and listening on port :443.
2023/06/03 16:56:13 main.go:73: Handling request "/" and serving index.html
2023/06/03 16:56:13 main.go:77: Cookie exists.
2023/06/03 16:56:14 handlers.go:41: Checking login status.
2023/06/03 16:56:14 handlers.go:56: Manager's clients:  map[]
2023/06/03 16:56:14 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 16:56:21 handlers.go:41: Checking login status.
2023/06/03 16:56:21 handlers.go:56: Manager's clients:  map[]
2023/06/03 16:56:21 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 16:56:21 handlers.go:108: Login handler reached.
2023/06/03 16:56:21 handlers.go:124: Login POST request received.
2023/06/03 16:56:21 utility.go:29: Password and hash match.
2023/06/03 16:56:21 handlers.go:143: User found: {ID:1 Username:admin Email:admin@gmail.com Joined:2023-06-03 10:42:58 Password:$2a$12$xR3MmQXzAyKn9TnBhxiOa.ZoBhj7CkI6RfTUovJk5ZXWXfgFYNVQ. Session: NumberComments:0 NumberPosts:0}
2023/06/03 16:56:21 handlers.go:144: Authentication condition reached.
2023/06/03 16:56:21 handlers.go:145: User Login list:  map[]
2023/06/03 16:56:21 handlers.go:376: AllPostsHandler reached.
2023/06/03 16:56:21 handlers.go:270: Serving websocket.
2023/06/03 16:56:21 handlers.go:30: Checking origin: https://localhost
2023/06/03 16:56:21 handlers.go:278: Decoding request body.
2023/06/03 16:56:21 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 16:56:21 handlers.go:307: Client does not exist.
2023/06/03 16:56:21 ws-client.go:44: New client connected.
2023/06/03 16:56:21 ws-manager.go:252: Client: 127.0.0.1:45784 added to manager.
2023/06/03 16:56:21 ws-client.go:65: Client IP and client port num.:  127.0.0.1:45784
2023/06/03 16:56:21 handlers.go:376: AllPostsHandler reached.
2023/06/03 16:56:21 ws-client.go:90: Client read message from:  127.0.0.1:45784
2023/06/03 16:56:21 ws-manager.go:75: Adding user info: {user-connect {"otp":"16ea6a0c-e5d1-47c6-bbf3-cb5209e81c7a","id":1,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":false}}
2023/06/03 16:56:21 ws-manager.go:88: Adding user to LoggedInList:  admin
2023/06/03 16:56:21 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/03 16:56:21 ws-client.go:177: Message sent to client: 127.0.0.1:45784 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 16:56:33 main.go:73: Handling request "/" and serving index.html
2023/06/03 16:56:33 main.go:79: Cookie does not exist. Creating cookie.
2023/06/03 16:56:34 handlers.go:41: Checking login status.
2023/06/03 16:56:34 handlers.go:56: Manager's clients:  map[0xc00021aa10:true]
2023/06/03 16:56:34 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 16:56:39 handlers.go:41: Checking login status.
2023/06/03 16:56:39 handlers.go:56: Manager's clients:  map[0xc00021aa10:true]
2023/06/03 16:56:39 handlers.go:94: No client found with matching session ID. User not logged in.
2023/06/03 16:56:39 handlers.go:108: Login handler reached.
2023/06/03 16:56:39 handlers.go:124: Login POST request received.
2023/06/03 16:56:39 utility.go:29: Password and hash match.
2023/06/03 16:56:39 handlers.go:143: User found: {ID:2 Username:usr1 Email:usr1@gmail.com Joined:2023-06-03 10:43:21 Password:$2a$12$FaCwYszH42rBSTCpi0zg7OVHHT/YBpMai/bVrCGiZt.emSe8QmJxS Session: NumberComments:0 NumberPosts:0}
2023/06/03 16:56:39 handlers.go:144: Authentication condition reached.
2023/06/03 16:56:39 handlers.go:145: User Login list:  map[admin:true]
2023/06/03 16:56:39 handlers.go:376: AllPostsHandler reached.
2023/06/03 16:56:39 handlers.go:376: AllPostsHandler reached.
2023/06/03 16:56:39 handlers.go:270: Serving websocket.
2023/06/03 16:56:39 handlers.go:30: Checking origin: https://localhost
2023/06/03 16:56:39 handlers.go:278: Decoding request body.
2023/06/03 16:56:39 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 16:56:39 handlers.go:307: Client does not exist.
2023/06/03 16:56:39 ws-client.go:44: New client connected.
2023/06/03 16:56:39 ws-manager.go:252: Client: 127.0.0.1:46986 added to manager.
2023/06/03 16:56:39 ws-client.go:65: Client IP and client port num.:  127.0.0.1:46986
2023/06/03 16:56:39 ws-client.go:90: Client read message from:  127.0.0.1:46986
2023/06/03 16:56:39 ws-manager.go:75: Adding user info: {user-connect {"otp":"f8d972bc-fad1-467c-897d-15d770ae0684","id":2,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":false}}
2023/06/03 16:56:39 ws-manager.go:88: Adding user to LoggedInList:  usr1
2023/06/03 16:56:39 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 16:56:39 ws-client.go:177: Message sent to client: 127.0.0.1:45784 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 16:56:39 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 16:56:43 ws-client.go:90: Client read message from:  127.0.0.1:45784
2023/06/03 16:56:43 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 16:56:43 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 16:56:43 ws-manager.go:167: History sent to:  admin
2023/06/03 16:56:43 ws-client.go:177: Message sent to client: 127.0.0.1:45784 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 16:57:57 ws-client.go:90: Client read message from:  127.0.0.1:45784
2023/06/03 16:57:57 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 16:57:57 main.go:73: Handling request "/" and serving index.html
2023/06/03 16:57:57 main.go:77: Cookie exists.
2023/06/03 16:57:59 handlers.go:41: Checking login status.
2023/06/03 16:57:59 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 16:57:59 handlers.go:67: Session cookie found. User logged in
2023/06/03 16:57:59 handlers.go:87: OTP:  0826a300-ad8e-41d9-a1ea-812b34a9a1b3
2023/06/03 16:57:59 handlers.go:376: AllPostsHandler reached.
2023/06/03 16:57:59 handlers.go:270: Serving websocket.
2023/06/03 16:57:59 handlers.go:30: Checking origin: https://localhost
2023/06/03 16:57:59 handlers.go:278: Decoding request body.
2023/06/03 16:57:59 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 16:57:59 handlers.go:293: Client already exists.
2023/06/03 16:57:59 handlers.go:294: ClientUName Debug:  admin
2023/06/03 16:57:59 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52266
2023/06/03 16:57:59 ws-client.go:90: Client read message from:  127.0.0.1:52266
2023/06/03 16:57:59 ws-manager.go:75: Adding user info: {user-connect {"otp":"0826a300-ad8e-41d9-a1ea-812b34a9a1b3","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 16:57:59 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 16:57:59 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 16:57:59 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 16:57:59 ws-client.go:177: Message sent to client: 127.0.0.1:52266 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 16:58:03 ws-client.go:90: Client read message from:  127.0.0.1:52266
2023/06/03 16:58:03 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 16:58:03 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 16:58:03 ws-manager.go:167: History sent to:  admin
2023/06/03 16:58:03 ws-client.go:177: Message sent to client: 127.0.0.1:52266 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 16:58:27 ws-client.go:90: Client read message from:  127.0.0.1:52266
2023/06/03 16:58:27 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 16:58:27 ws-client.go:182: Client connection is nil.
2023/06/03 16:58:28 main.go:73: Handling request "/" and serving index.html
2023/06/03 16:58:28 main.go:77: Cookie exists.
2023/06/03 16:58:29 handlers.go:41: Checking login status.
2023/06/03 16:58:29 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 16:58:29 handlers.go:67: Session cookie found. User logged in
2023/06/03 16:58:29 handlers.go:87: OTP:  6f422b55-5b26-4898-9800-104680be8157
2023/06/03 16:58:29 handlers.go:376: AllPostsHandler reached.
2023/06/03 16:58:29 handlers.go:270: Serving websocket.
2023/06/03 16:58:29 handlers.go:30: Checking origin: https://localhost
2023/06/03 16:58:29 handlers.go:278: Decoding request body.
2023/06/03 16:58:29 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 16:58:29 handlers.go:293: Client already exists.
2023/06/03 16:58:29 handlers.go:294: ClientUName Debug:  admin
2023/06/03 16:58:29 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49838
2023/06/03 16:58:30 ws-client.go:90: Client read message from:  127.0.0.1:49838
2023/06/03 16:58:30 ws-manager.go:75: Adding user info: {user-connect {"otp":"6f422b55-5b26-4898-9800-104680be8157","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 16:58:30 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 16:58:30 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 16:58:30 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 16:58:30 ws-client.go:177: Message sent to client: 127.0.0.1:49838 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 16:58:32 ws-client.go:90: Client read message from:  127.0.0.1:49838
2023/06/03 16:58:32 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 16:58:32 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 16:58:32 ws-manager.go:167: History sent to:  admin
2023/06/03 16:58:32 ws-client.go:177: Message sent to client: 127.0.0.1:49838 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:02:02 ws-client.go:90: Client read message from:  127.0.0.1:49838
2023/06/03 17:02:02 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:02:03 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:02:03 main.go:77: Cookie exists.
2023/06/03 17:02:05 handlers.go:41: Checking login status.
2023/06/03 17:02:05 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:02:05 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:02:05 handlers.go:87: OTP:  24fc5c2a-7d46-4b84-be31-251ec591c20c
2023/06/03 17:02:05 ws-client.go:182: Client connection is nil.
2023/06/03 17:02:05 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:02:05 handlers.go:270: Serving websocket.
2023/06/03 17:02:05 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:02:05 handlers.go:278: Decoding request body.
2023/06/03 17:02:05 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:02:05 handlers.go:293: Client already exists.
2023/06/03 17:02:05 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:02:05 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52738
2023/06/03 17:02:05 ws-client.go:90: Client read message from:  127.0.0.1:52738
2023/06/03 17:02:05 ws-manager.go:75: Adding user info: {user-connect {"otp":"24fc5c2a-7d46-4b84-be31-251ec591c20c","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:02:05 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:02:05 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:02:05 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:02:05 ws-client.go:177: Message sent to client: 127.0.0.1:52738 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:02:08 ws-client.go:90: Client read message from:  127.0.0.1:52738
2023/06/03 17:02:08 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:02:08 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:02:08 ws-manager.go:167: History sent to:  admin
2023/06/03 17:02:08 ws-client.go:177: Message sent to client: 127.0.0.1:52738 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:02:48 ws-client.go:90: Client read message from:  127.0.0.1:52738
2023/06/03 17:02:48 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:02:49 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:02:49 main.go:77: Cookie exists.
2023/06/03 17:02:50 ws-client.go:182: Client connection is nil.
2023/06/03 17:02:50 handlers.go:41: Checking login status.
2023/06/03 17:02:50 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:02:50 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:02:50 handlers.go:87: OTP:  c05a2896-b1df-42f5-a572-2fab55775ab8
2023/06/03 17:02:51 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:02:51 handlers.go:270: Serving websocket.
2023/06/03 17:02:51 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:02:51 handlers.go:278: Decoding request body.
2023/06/03 17:02:51 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:02:51 handlers.go:293: Client already exists.
2023/06/03 17:02:51 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:02:51 ws-client.go:65: Client IP and client port num.:  127.0.0.1:56902
2023/06/03 17:02:51 ws-client.go:90: Client read message from:  127.0.0.1:56902
2023/06/03 17:02:51 ws-manager.go:75: Adding user info: {user-connect {"otp":"c05a2896-b1df-42f5-a572-2fab55775ab8","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:02:51 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:02:51 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:02:51 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:02:51 ws-client.go:177: Message sent to client: 127.0.0.1:56902 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:02:53 ws-client.go:90: Client read message from:  127.0.0.1:56902
2023/06/03 17:02:53 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:02:53 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:02:53 ws-manager.go:167: History sent to:  admin
2023/06/03 17:02:53 ws-client.go:177: Message sent to client: 127.0.0.1:56902 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:04:07 ws-client.go:90: Client read message from:  127.0.0.1:56902
2023/06/03 17:04:07 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:04:07 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:04:07 main.go:77: Cookie exists.
2023/06/03 17:04:08 ws-client.go:182: Client connection is nil.
2023/06/03 17:04:09 handlers.go:41: Checking login status.
2023/06/03 17:04:09 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:04:09 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:04:09 handlers.go:87: OTP:  38928f0d-fc61-4510-9fad-6f9022eaf8f8
2023/06/03 17:04:09 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:04:09 handlers.go:270: Serving websocket.
2023/06/03 17:04:09 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:04:09 handlers.go:278: Decoding request body.
2023/06/03 17:04:09 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:04:09 handlers.go:293: Client already exists.
2023/06/03 17:04:09 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:04:09 ws-client.go:65: Client IP and client port num.:  127.0.0.1:41268
2023/06/03 17:04:09 ws-client.go:90: Client read message from:  127.0.0.1:41268
2023/06/03 17:04:09 ws-manager.go:75: Adding user info: {user-connect {"otp":"38928f0d-fc61-4510-9fad-6f9022eaf8f8","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:04:09 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:04:09 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:04:09 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:04:09 ws-client.go:177: Message sent to client: 127.0.0.1:41268 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:04:11 ws-client.go:90: Client read message from:  127.0.0.1:41268
2023/06/03 17:04:11 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:04:11 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:04:11 ws-manager.go:167: History sent to:  admin
2023/06/03 17:04:11 ws-client.go:177: Message sent to client: 127.0.0.1:41268 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:04:39 ws-client.go:90: Client read message from:  127.0.0.1:41268
2023/06/03 17:04:39 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:04:40 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:04:40 main.go:77: Cookie exists.
2023/06/03 17:04:41 handlers.go:41: Checking login status.
2023/06/03 17:04:41 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:04:41 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:04:41 handlers.go:87: OTP:  f5ae1f71-6260-482c-b019-64d67f506471
2023/06/03 17:04:41 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:04:41 handlers.go:270: Serving websocket.
2023/06/03 17:04:41 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:04:41 handlers.go:278: Decoding request body.
2023/06/03 17:04:41 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:04:41 handlers.go:293: Client already exists.
2023/06/03 17:04:41 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:04:41 ws-client.go:65: Client IP and client port num.:  127.0.0.1:49554
2023/06/03 17:04:41 ws-client.go:90: Client read message from:  127.0.0.1:49554
2023/06/03 17:04:41 ws-manager.go:75: Adding user info: {user-connect {"otp":"f5ae1f71-6260-482c-b019-64d67f506471","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:04:41 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:04:41 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:04:41 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:04:41 ws-client.go:177: Message sent to client: 127.0.0.1:49554 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:04:43 ws-client.go:90: Client read message from:  127.0.0.1:49554
2023/06/03 17:04:43 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:04:43 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:04:43 ws-manager.go:167: History sent to:  admin
2023/06/03 17:04:43 ws-client.go:177: Message sent to client: 127.0.0.1:49554 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:04:50 ws-client.go:90: Client read message from:  127.0.0.1:49554
2023/06/03 17:04:50 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:04:50 ws-manager.go:153: History of Messages:  [{14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0}]
2023/06/03 17:04:50 ws-manager.go:167: History sent to:  admin
2023/06/03 17:04:50 ws-client.go:177: Message sent to client: 127.0.0.1:49554 Message: {"type":"chat_history","payload":[{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0}]}
2023/06/03 17:04:53 ws-client.go:90: Client read message from:  127.0.0.1:49554
2023/06/03 17:04:53 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 17:04:53 ws-manager.go:153: History of Messages:  [{4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0}]
2023/06/03 17:04:53 ws-manager.go:167: History sent to:  admin
2023/06/03 17:04:53 ws-client.go:177: Message sent to client: 127.0.0.1:49554 Message: {"type":"chat_history","payload":[{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0}]}
2023/06/03 17:04:55 ws-client.go:90: Client read message from:  127.0.0.1:49554
2023/06/03 17:04:55 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/03 17:04:55 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0} {2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0}]
2023/06/03 17:04:55 ws-manager.go:167: History sent to:  admin
2023/06/03 17:04:55 ws-client.go:177: Message sent to client: 127.0.0.1:49554 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0}]}
2023/06/03 17:05:04 ws-client.go:90: Client read message from:  127.0.0.1:49554
2023/06/03 17:05:04 ws-manager.go:116: History Request:  {0 admin usr1 false   10 40}
2023/06/03 17:05:04 ws-manager.go:153: History of Messages:  []
2023/06/03 17:05:04 ws-manager.go:167: History sent to:  admin
2023/06/03 17:05:04 ws-client.go:177: Message sent to client: 127.0.0.1:49554 Message: {"type":"chat_history","payload":null}
2023/06/03 17:05:49 ws-client.go:90: Client read message from:  127.0.0.1:49554
2023/06/03 17:05:49 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:05:49 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:05:49 main.go:77: Cookie exists.
2023/06/03 17:05:51 handlers.go:41: Checking login status.
2023/06/03 17:05:51 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:05:51 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:05:51 handlers.go:87: OTP:  249fe624-72c8-4df2-a0f5-462dcea4a9f2
2023/06/03 17:05:51 ws-client.go:182: Client connection is nil.
2023/06/03 17:05:51 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:05:51 handlers.go:270: Serving websocket.
2023/06/03 17:05:51 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:05:51 handlers.go:278: Decoding request body.
2023/06/03 17:05:51 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:05:51 handlers.go:293: Client already exists.
2023/06/03 17:05:51 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:05:51 ws-client.go:65: Client IP and client port num.:  127.0.0.1:34120
2023/06/03 17:05:51 ws-client.go:90: Client read message from:  127.0.0.1:34120
2023/06/03 17:05:51 ws-manager.go:75: Adding user info: {user-connect {"otp":"249fe624-72c8-4df2-a0f5-462dcea4a9f2","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:05:51 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:05:51 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:05:51 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:05:51 ws-client.go:177: Message sent to client: 127.0.0.1:34120 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:05:53 ws-client.go:90: Client read message from:  127.0.0.1:34120
2023/06/03 17:05:53 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:05:53 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:05:53 ws-manager.go:167: History sent to:  admin
2023/06/03 17:05:53 ws-client.go:177: Message sent to client: 127.0.0.1:34120 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:05:58 ws-client.go:90: Client read message from:  127.0.0.1:34120
2023/06/03 17:05:58 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:05:58 ws-manager.go:153: History of Messages:  [{14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0}]
2023/06/03 17:05:58 ws-manager.go:167: History sent to:  admin
2023/06/03 17:05:58 ws-client.go:177: Message sent to client: 127.0.0.1:34120 Message: {"type":"chat_history","payload":[{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0}]}
2023/06/03 17:06:01 ws-client.go:90: Client read message from:  127.0.0.1:34120
2023/06/03 17:06:01 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 17:06:01 ws-manager.go:153: History of Messages:  [{4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0}]
2023/06/03 17:06:01 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:01 ws-client.go:177: Message sent to client: 127.0.0.1:34120 Message: {"type":"chat_history","payload":[{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0}]}
2023/06/03 17:06:04 ws-client.go:90: Client read message from:  127.0.0.1:34120
2023/06/03 17:06:04 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/03 17:06:04 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0} {2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0}]
2023/06/03 17:06:04 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:04 ws-client.go:177: Message sent to client: 127.0.0.1:34120 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0}]}
2023/06/03 17:06:06 ws-client.go:90: Client read message from:  127.0.0.1:34120
2023/06/03 17:06:06 ws-manager.go:116: History Request:  {0 admin usr1 false   10 40}
2023/06/03 17:06:06 ws-manager.go:153: History of Messages:  []
2023/06/03 17:06:06 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:06 ws-client.go:177: Message sent to client: 127.0.0.1:34120 Message: {"type":"chat_history","payload":null}
2023/06/03 17:06:18 ws-client.go:90: Client read message from:  127.0.0.1:34120
2023/06/03 17:06:18 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:06:19 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:06:19 main.go:77: Cookie exists.
2023/06/03 17:06:20 handlers.go:41: Checking login status.
2023/06/03 17:06:20 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:06:20 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:06:20 handlers.go:87: OTP:  b6738937-91f4-4363-a7f7-b67693a27283
2023/06/03 17:06:20 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:06:20 handlers.go:270: Serving websocket.
2023/06/03 17:06:20 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:06:20 handlers.go:278: Decoding request body.
2023/06/03 17:06:20 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:06:20 handlers.go:293: Client already exists.
2023/06/03 17:06:20 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:06:20 ws-client.go:65: Client IP and client port num.:  127.0.0.1:45652
2023/06/03 17:06:20 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:06:20 ws-manager.go:75: Adding user info: {user-connect {"otp":"b6738937-91f4-4363-a7f7-b67693a27283","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:06:20 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:06:20 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:06:20 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:06:20 ws-client.go:177: Message sent to client: 127.0.0.1:45652 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:06:21 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:06:21 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:06:21 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:06:21 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:21 ws-client.go:177: Message sent to client: 127.0.0.1:45652 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:06:23 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:06:23 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:06:23 ws-manager.go:153: History of Messages:  [{14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0}]
2023/06/03 17:06:23 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:23 ws-client.go:177: Message sent to client: 127.0.0.1:45652 Message: {"type":"chat_history","payload":[{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0}]}
2023/06/03 17:06:24 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:06:24 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 17:06:24 ws-manager.go:153: History of Messages:  [{4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0}]
2023/06/03 17:06:24 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:24 ws-client.go:177: Message sent to client: 127.0.0.1:45652 Message: {"type":"chat_history","payload":[{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0}]}
2023/06/03 17:06:27 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:06:27 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/03 17:06:27 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0} {2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0}]
2023/06/03 17:06:27 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:27 ws-client.go:177: Message sent to client: 127.0.0.1:45652 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0}]}
2023/06/03 17:06:29 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:06:29 ws-manager.go:116: History Request:  {0 admin usr1 false   10 40}
2023/06/03 17:06:29 ws-manager.go:153: History of Messages:  []
2023/06/03 17:06:29 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:29 ws-client.go:177: Message sent to client: 127.0.0.1:45652 Message: {"type":"chat_history","payload":null}
2023/06/03 17:06:30 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:06:30 ws-manager.go:116: History Request:  {0 admin usr1 false   10 50}
2023/06/03 17:06:30 ws-manager.go:153: History of Messages:  []
2023/06/03 17:06:30 ws-manager.go:167: History sent to:  admin
2023/06/03 17:06:30 ws-client.go:177: Message sent to client: 127.0.0.1:45652 Message: {"type":"chat_history","payload":null}
2023/06/03 17:07:01 ws-client.go:90: Client read message from:  127.0.0.1:45652
2023/06/03 17:07:01 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:07:02 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:07:02 main.go:77: Cookie exists.
2023/06/03 17:07:03 ws-client.go:182: Client connection is nil.
2023/06/03 17:07:04 handlers.go:41: Checking login status.
2023/06/03 17:07:04 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:07:04 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:07:04 handlers.go:87: OTP:  69a95e28-37da-45cd-8eab-8e5261079077
2023/06/03 17:07:04 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:07:04 handlers.go:270: Serving websocket.
2023/06/03 17:07:04 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:07:04 handlers.go:278: Decoding request body.
2023/06/03 17:07:04 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:07:04 handlers.go:293: Client already exists.
2023/06/03 17:07:04 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:07:04 ws-client.go:65: Client IP and client port num.:  127.0.0.1:51420
2023/06/03 17:07:04 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:04 ws-manager.go:75: Adding user info: {user-connect {"otp":"69a95e28-37da-45cd-8eab-8e5261079077","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:07:04 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:07:04 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:07:04 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:07:04 ws-client.go:177: Message sent to client: 127.0.0.1:51420 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:07:07 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:07 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:07:07 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:07:07 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:07 ws-client.go:177: Message sent to client: 127.0.0.1:51420 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:09 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:09 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:07:09 ws-manager.go:153: History of Messages:  [{14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0}]
2023/06/03 17:07:09 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:09 ws-client.go:177: Message sent to client: 127.0.0.1:51420 Message: {"type":"chat_history","payload":[{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:11 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:11 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 17:07:11 ws-manager.go:153: History of Messages:  [{4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0}]
2023/06/03 17:07:11 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:11 ws-client.go:177: Message sent to client: 127.0.0.1:51420 Message: {"type":"chat_history","payload":[{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:12 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:12 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/03 17:07:12 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0} {2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0}]
2023/06/03 17:07:12 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:12 ws-client.go:177: Message sent to client: 127.0.0.1:51420 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:15 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:15 ws-manager.go:116: History Request:  {0 admin usr1 false   10 40}
2023/06/03 17:07:15 ws-manager.go:153: History of Messages:  []
2023/06/03 17:07:15 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:15 ws-client.go:177: Message sent to client: 127.0.0.1:51420 Message: {"type":"chat_history","payload":null}
2023/06/03 17:07:16 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:16 ws-manager.go:116: History Request:  {0 admin usr1 false   10 50}
2023/06/03 17:07:16 ws-manager.go:153: History of Messages:  []
2023/06/03 17:07:16 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:16 ws-client.go:177: Message sent to client: 127.0.0.1:51420 Message: {"type":"chat_history","payload":null}
2023/06/03 17:07:46 ws-client.go:90: Client read message from:  127.0.0.1:51420
2023/06/03 17:07:46 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:07:46 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:07:46 main.go:77: Cookie exists.
2023/06/03 17:07:48 handlers.go:41: Checking login status.
2023/06/03 17:07:48 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:07:48 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:07:48 handlers.go:87: OTP:  ab33306b-de05-4d17-b97e-1e9cc3cd80e4
2023/06/03 17:07:48 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:07:48 handlers.go:270: Serving websocket.
2023/06/03 17:07:48 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:07:48 handlers.go:278: Decoding request body.
2023/06/03 17:07:48 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:07:48 handlers.go:293: Client already exists.
2023/06/03 17:07:48 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:07:48 ws-client.go:65: Client IP and client port num.:  127.0.0.1:58918
2023/06/03 17:07:48 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:48 ws-manager.go:75: Adding user info: {user-connect {"otp":"ab33306b-de05-4d17-b97e-1e9cc3cd80e4","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:07:48 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:07:48 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:07:48 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:07:48 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:07:49 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:49 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:07:49 ws-manager.go:153: History of Messages:  [{24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0}]
2023/06/03 17:07:49 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:49 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"chat_history","payload":[{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:51 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:51 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:07:51 ws-manager.go:153: History of Messages:  [{14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0}]
2023/06/03 17:07:51 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:51 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"chat_history","payload":[{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:53 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:53 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 17:07:53 ws-manager.go:153: History of Messages:  [{4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0} {8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0}]
2023/06/03 17:07:53 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:53 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"chat_history","payload":[{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0},{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:54 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:54 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/03 17:07:54 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0} {2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0}]
2023/06/03 17:07:54 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:54 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0}]}
2023/06/03 17:07:55 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:55 ws-manager.go:116: History Request:  {0 admin usr1 false   10 40}
2023/06/03 17:07:55 ws-manager.go:153: History of Messages:  []
2023/06/03 17:07:55 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:55 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"chat_history","payload":null}
2023/06/03 17:07:56 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:56 ws-manager.go:116: History Request:  {0 admin usr1 false   10 50}
2023/06/03 17:07:56 ws-manager.go:153: History of Messages:  []
2023/06/03 17:07:56 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:56 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"chat_history","payload":null}
2023/06/03 17:07:58 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:07:58 ws-manager.go:116: History Request:  {0 admin usr1 false   10 60}
2023/06/03 17:07:58 ws-manager.go:153: History of Messages:  []
2023/06/03 17:07:58 ws-manager.go:167: History sent to:  admin
2023/06/03 17:07:58 ws-client.go:177: Message sent to client: 127.0.0.1:58918 Message: {"type":"chat_history","payload":null}
2023/06/03 17:09:34 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:34 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:34 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:34 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:34 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:34 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:35 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:35 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:35 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:35 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:35 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:36 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:36 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:09:36 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:36 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:36 ws-manager.go:38: Event/message sent: {new-message {"message":"sdkjbsd","from":"admin","to":"usr1","sent":1685801376588}}
2023/06/03 17:09:36 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"sent-message","payload":{"message":"sdkjbsd","from":"admin","to":"usr1","sent":"2023-06-03T17:09:36.594024374+03:00"}}
2023/06/03 17:09:39 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:39 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:39 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:39 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:39 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:39 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:09:39 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:40 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:40 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:09:40 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:09:40 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:09:40 ws-manager.go:38: Event/message sent: {new-message {"message":"afn","from":"admin","to":"usr1","sent":1685801380862}}
2023/06/03 17:09:40 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"sent-message","payload":{"message":"afn","from":"admin","to":"usr1","sent":"2023-06-03T17:09:40.867139156+03:00"}}
2023/06/03 17:14:44 ws-client.go:90: Client read message from:  127.0.0.1:58918
2023/06/03 17:14:44 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:14:44 ws-client.go:182: Client connection is nil.
2023/06/03 17:14:44 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:14:44 main.go:77: Cookie exists.
2023/06/03 17:14:44 ws-client.go:182: Client connection is nil.
2023/06/03 17:14:46 handlers.go:41: Checking login status.
2023/06/03 17:14:46 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:14:46 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:14:46 handlers.go:87: OTP:  12a4026f-5ef2-4d75-93ba-44495f6ac5de
2023/06/03 17:14:46 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:14:46 handlers.go:270: Serving websocket.
2023/06/03 17:14:46 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:14:46 handlers.go:278: Decoding request body.
2023/06/03 17:14:46 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:14:46 handlers.go:293: Client already exists.
2023/06/03 17:14:46 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:14:46 ws-client.go:65: Client IP and client port num.:  127.0.0.1:57992
2023/06/03 17:14:46 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:46 ws-manager.go:75: Adding user info: {user-connect {"otp":"12a4026f-5ef2-4d75-93ba-44495f6ac5de","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:14:46 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:14:46 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:14:46 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:14:46 ws-client.go:177: Message sent to client: 127.0.0.1:57992 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:14:48 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:48 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:14:48 ws-manager.go:153: History of Messages:  [{26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0}]
2023/06/03 17:14:48 ws-manager.go:167: History sent to:  admin
2023/06/03 17:14:48 ws-client.go:177: Message sent to client: 127.0.0.1:57992 Message: {"type":"chat_history","payload":[{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0}]}
2023/06/03 17:14:51 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:51 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:14:51 ws-manager.go:153: History of Messages:  [{16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0}]
2023/06/03 17:14:51 ws-manager.go:167: History sent to:  admin
2023/06/03 17:14:51 ws-client.go:177: Message sent to client: 127.0.0.1:57992 Message: {"type":"chat_history","payload":[{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0}]}
2023/06/03 17:14:56 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:56 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:56 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:56 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:56 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:56 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:56 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:57 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:57 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:57 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:57 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:57 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:57 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:57 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:57 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:57 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:57 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:14:57 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:58 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:58 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:14:58 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:14:59 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:14:59 ws-manager.go:38: Event/message sent: {new-message {"message":"kjsdfkjs","from":"admin","to":"usr1","sent":1685801699066}}
2023/06/03 17:14:59 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"sent-message","payload":{"message":"kjsdfkjs","from":"admin","to":"usr1","sent":"2023-06-03T17:14:59.073089488+03:00"}}
2023/06/03 17:16:46 ws-client.go:90: Client read message from:  127.0.0.1:57992
2023/06/03 17:16:46 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:16:46 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:16:46 main.go:77: Cookie exists.
2023/06/03 17:16:48 handlers.go:41: Checking login status.
2023/06/03 17:16:48 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:16:48 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:16:48 handlers.go:87: OTP:  0392bfe1-df6d-4dc5-849e-827287a4e4e8
2023/06/03 17:16:48 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:16:48 handlers.go:270: Serving websocket.
2023/06/03 17:16:48 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:16:48 handlers.go:278: Decoding request body.
2023/06/03 17:16:48 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:16:48 handlers.go:293: Client already exists.
2023/06/03 17:16:48 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:16:48 ws-client.go:65: Client IP and client port num.:  127.0.0.1:47026
2023/06/03 17:16:48 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:48 ws-manager.go:75: Adding user info: {user-connect {"otp":"0392bfe1-df6d-4dc5-849e-827287a4e4e8","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:16:48 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:16:48 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:16:48 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:16:48 ws-client.go:177: Message sent to client: 127.0.0.1:47026 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:16:52 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:52 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:16:52 ws-manager.go:153: History of Messages:  [{27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0} {28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0}]
2023/06/03 17:16:52 ws-manager.go:167: History sent to:  admin
2023/06/03 17:16:52 ws-client.go:177: Message sent to client: 127.0.0.1:47026 Message: {"type":"chat_history","payload":[{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0},{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0}]}
2023/06/03 17:16:54 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:54 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:16:55 ws-manager.go:153: History of Messages:  [{17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0} {18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0}]
2023/06/03 17:16:55 ws-manager.go:167: History sent to:  admin
2023/06/03 17:16:55 ws-client.go:177: Message sent to client: 127.0.0.1:47026 Message: {"type":"chat_history","payload":[{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0},{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0}]}
2023/06/03 17:16:58 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:58 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:16:58 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:16:58 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:58 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:16:58 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:16:58 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:58 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:16:58 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:16:58 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:58 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:16:58 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:16:58 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:58 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:16:58 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:16:59 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:59 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:16:59 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:16:59 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:16:59 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:16:59 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:17:00 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:17:00 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:17:00 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:17:00 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:17:00 ws-manager.go:38: Event/message sent: {new-message {"message":"adkbagd","from":"admin","to":"usr1","sent":1685801820637}}
2023/06/03 17:17:00 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"sent-message","payload":{"message":"adkbagd","from":"admin","to":"usr1","sent":"2023-06-03T17:17:00.641916875+03:00"}}
2023/06/03 17:19:03 ws-client.go:90: Client read message from:  127.0.0.1:47026
2023/06/03 17:19:03 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:19:04 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:19:04 main.go:77: Cookie exists.
2023/06/03 17:19:04 ws-client.go:182: Client connection is nil.
2023/06/03 17:19:05 handlers.go:41: Checking login status.
2023/06/03 17:19:05 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:19:05 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:19:05 handlers.go:87: OTP:  1db07270-3636-4e06-85e0-6e42440e6d4a
2023/06/03 17:19:06 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:19:06 handlers.go:270: Serving websocket.
2023/06/03 17:19:06 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:19:06 handlers.go:278: Decoding request body.
2023/06/03 17:19:06 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:19:06 handlers.go:293: Client already exists.
2023/06/03 17:19:06 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:19:06 ws-client.go:65: Client IP and client port num.:  127.0.0.1:44062
2023/06/03 17:19:06 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:06 ws-manager.go:75: Adding user info: {user-connect {"otp":"1db07270-3636-4e06-85e0-6e42440e6d4a","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:19:06 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:19:06 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:19:06 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:19:06 ws-client.go:177: Message sent to client: 127.0.0.1:44062 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:19:08 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:08 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:19:08 ws-manager.go:153: History of Messages:  [{28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0}]
2023/06/03 17:19:08 ws-manager.go:167: History sent to:  admin
2023/06/03 17:19:08 ws-client.go:177: Message sent to client: 127.0.0.1:44062 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0}]}
2023/06/03 17:19:10 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:10 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:19:10 ws-manager.go:153: History of Messages:  [{18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0}]
2023/06/03 17:19:10 ws-manager.go:167: History sent to:  admin
2023/06/03 17:19:10 ws-client.go:177: Message sent to client: 127.0.0.1:44062 Message: {"type":"chat_history","payload":[{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0}]}
2023/06/03 17:19:14 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:19:14 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:19:14 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:19:14 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:19:14 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:19:14 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:19:14 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:19:14 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:19:14 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:19:14 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:19:14 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:14 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:19:14 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:19:15 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:19:15 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:19:15 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:21 ws-client.go:90: Client read message from:  127.0.0.1:44062
2023/06/03 17:21:21 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:21:21 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:21:21 main.go:77: Cookie exists.
2023/06/03 17:21:22 ws-client.go:182: Client connection is nil.
2023/06/03 17:21:23 handlers.go:41: Checking login status.
2023/06/03 17:21:23 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:21:23 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:21:23 handlers.go:87: OTP:  c13ae394-d409-4ab9-ac0a-cc78dd35ef79
2023/06/03 17:21:23 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:21:23 handlers.go:270: Serving websocket.
2023/06/03 17:21:23 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:21:23 handlers.go:278: Decoding request body.
2023/06/03 17:21:23 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:21:23 handlers.go:293: Client already exists.
2023/06/03 17:21:23 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:21:23 ws-client.go:65: Client IP and client port num.:  127.0.0.1:58392
2023/06/03 17:21:23 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:23 ws-manager.go:75: Adding user info: {user-connect {"otp":"c13ae394-d409-4ab9-ac0a-cc78dd35ef79","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:21:23 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:21:23 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:21:23 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:21:23 ws-client.go:177: Message sent to client: 127.0.0.1:58392 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:21:24 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:24 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:21:24 ws-manager.go:153: History of Messages:  [{28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0}]
2023/06/03 17:21:24 ws-manager.go:167: History sent to:  admin
2023/06/03 17:21:24 ws-client.go:177: Message sent to client: 127.0.0.1:58392 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0}]}
2023/06/03 17:21:26 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:26 ws-manager.go:116: History Request:  {0 admin usr1 false   10 10}
2023/06/03 17:21:26 ws-manager.go:153: History of Messages:  [{18 admin usr1 false I'll talk to you later, mate. 2023-06-03T11:13:49.664760333+03:00 0 0} {19 usr1 admin false Sounds good. C yah 2023-06-03T11:13:56.143762863+03:00 0 0} {20 admin usr1 false C yah 2023-06-03T11:14:00.089586746+03:00 0 0} {21 admin usr1 false sgjhbsdg 2023-06-03T11:57:39.766900136+03:00 0 0} {22 admin usr1 false aadfkjbssgd 2023-06-03T11:57:42.80975185+03:00 0 0} {23 admin usr1 false sdkjbgs 2023-06-03T12:01:34.455481938+03:00 0 0} {24 admin usr1 false sdgjkjnsg 2023-06-03T12:01:36.942203062+03:00 0 0} {25 admin usr1 false sdgkjnsg 2023-06-03T12:01:39.025503622+03:00 0 0} {26 admin usr1 false sdgkjsng 2023-06-03T12:01:41.086733007+03:00 0 0} {27 admin usr1 false sdkjsnjgd 2023-06-03T12:01:43.096936829+03:00 0 0}]
2023/06/03 17:21:26 ws-manager.go:167: History sent to:  admin
2023/06/03 17:21:26 ws-client.go:177: Message sent to client: 127.0.0.1:58392 Message: {"type":"chat_history","payload":[{"id":18,"from":"admin","to":"usr1","is_read":false,"message":"I'll talk to you later, mate.","created_at":"2023-06-03T11:13:49.664760333+03:00","limit":0,"offset":0},{"id":19,"from":"usr1","to":"admin","is_read":false,"message":"Sounds good. C yah","created_at":"2023-06-03T11:13:56.143762863+03:00","limit":0,"offset":0},{"id":20,"from":"admin","to":"usr1","is_read":false,"message":"C yah","created_at":"2023-06-03T11:14:00.089586746+03:00","limit":0,"offset":0},{"id":21,"from":"admin","to":"usr1","is_read":false,"message":"sgjhbsdg","created_at":"2023-06-03T11:57:39.766900136+03:00","limit":0,"offset":0},{"id":22,"from":"admin","to":"usr1","is_read":false,"message":"aadfkjbssgd","created_at":"2023-06-03T11:57:42.80975185+03:00","limit":0,"offset":0},{"id":23,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbgs","created_at":"2023-06-03T12:01:34.455481938+03:00","limit":0,"offset":0},{"id":24,"from":"admin","to":"usr1","is_read":false,"message":"sdgjkjnsg","created_at":"2023-06-03T12:01:36.942203062+03:00","limit":0,"offset":0},{"id":25,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsg","created_at":"2023-06-03T12:01:39.025503622+03:00","limit":0,"offset":0},{"id":26,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjsng","created_at":"2023-06-03T12:01:41.086733007+03:00","limit":0,"offset":0},{"id":27,"from":"admin","to":"usr1","is_read":false,"message":"sdkjsnjgd","created_at":"2023-06-03T12:01:43.096936829+03:00","limit":0,"offset":0}]}
2023/06/03 17:21:27 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:27 ws-manager.go:116: History Request:  {0 admin usr1 false   10 20}
2023/06/03 17:21:27 ws-manager.go:153: History of Messages:  [{8 admin usr1 false Travelling mostly. 2023-06-03T11:12:23.048349553+03:00 0 0} {9 usr1 admin false Where all have you been? 2023-06-03T11:12:30.005962227+03:00 0 0} {10 admin usr1 false All around. How about yourlsef? 2023-06-03T11:12:42.535622371+03:00 0 0} {11 usr1 admin false I've been all around the world. 2023-06-03T11:12:57.738596796+03:00 0 0} {12 admin usr1 false Did you enjoy yourself? 2023-06-03T11:13:05.894162141+03:00 0 0} {13 usr1 admin false I alwasy do. 2023-06-03T11:13:11.659161519+03:00 0 0} {14 admin usr1 false Awesome to hear mate. 2023-06-03T11:13:20.752250727+03:00 0 0} {15 usr1 admin false Same goes for you. 2023-06-03T11:13:28.204387578+03:00 0 0} {16 usr1 admin false I have to bounce.
 2023-06-03T11:13:35.94052233+03:00 0 0} {17 admin usr1 false As do I. 2023-06-03T11:13:40.221839944+03:00 0 0}]
2023/06/03 17:21:27 ws-manager.go:167: History sent to:  admin
2023/06/03 17:21:27 ws-client.go:177: Message sent to client: 127.0.0.1:58392 Message: {"type":"chat_history","payload":[{"id":8,"from":"admin","to":"usr1","is_read":false,"message":"Travelling mostly.","created_at":"2023-06-03T11:12:23.048349553+03:00","limit":0,"offset":0},{"id":9,"from":"usr1","to":"admin","is_read":false,"message":"Where all have you been?","created_at":"2023-06-03T11:12:30.005962227+03:00","limit":0,"offset":0},{"id":10,"from":"admin","to":"usr1","is_read":false,"message":"All around. How about yourlsef?","created_at":"2023-06-03T11:12:42.535622371+03:00","limit":0,"offset":0},{"id":11,"from":"usr1","to":"admin","is_read":false,"message":"I've been all around the world.","created_at":"2023-06-03T11:12:57.738596796+03:00","limit":0,"offset":0},{"id":12,"from":"admin","to":"usr1","is_read":false,"message":"Did you enjoy yourself?","created_at":"2023-06-03T11:13:05.894162141+03:00","limit":0,"offset":0},{"id":13,"from":"usr1","to":"admin","is_read":false,"message":"I alwasy do.","created_at":"2023-06-03T11:13:11.659161519+03:00","limit":0,"offset":0},{"id":14,"from":"admin","to":"usr1","is_read":false,"message":"Awesome to hear mate.","created_at":"2023-06-03T11:13:20.752250727+03:00","limit":0,"offset":0},{"id":15,"from":"usr1","to":"admin","is_read":false,"message":"Same goes for you.","created_at":"2023-06-03T11:13:28.204387578+03:00","limit":0,"offset":0},{"id":16,"from":"usr1","to":"admin","is_read":false,"message":"I have to bounce.\n","created_at":"2023-06-03T11:13:35.94052233+03:00","limit":0,"offset":0},{"id":17,"from":"admin","to":"usr1","is_read":false,"message":"As do I.","created_at":"2023-06-03T11:13:40.221839944+03:00","limit":0,"offset":0}]}
2023/06/03 17:21:29 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:29 ws-manager.go:116: History Request:  {0 admin usr1 false   10 30}
2023/06/03 17:21:29 ws-manager.go:153: History of Messages:  [{1 admin usr1 false Hello Usr1! 2023-06-03T11:10:40.091378171+03:00 0 0} {2 usr1 admin false Hello Admin! 2023-06-03T11:10:47.530493551+03:00 0 0} {3 usr1 admin false How are you? 2023-06-03T11:11:00.245139983+03:00 0 0} {4 admin usr1 false I'm fine and yourself? 2023-06-03T11:11:11.416913134+03:00 0 0} {5 usr1 admin false Just fine. What are your plans? 2023-06-03T11:11:24.66201296+03:00 0 0} {6 admin usr1 false Nada. Just hanging around. You 2023-06-03T11:11:39.716254929+03:00 0 0} {7 usr1 admin false Same. What have you been up to? 2023-06-03T11:12:08.953323714+03:00 0 0}]
2023/06/03 17:21:29 ws-manager.go:167: History sent to:  admin
2023/06/03 17:21:29 ws-client.go:177: Message sent to client: 127.0.0.1:58392 Message: {"type":"chat_history","payload":[{"id":1,"from":"admin","to":"usr1","is_read":false,"message":"Hello Usr1!","created_at":"2023-06-03T11:10:40.091378171+03:00","limit":0,"offset":0},{"id":2,"from":"usr1","to":"admin","is_read":false,"message":"Hello Admin!","created_at":"2023-06-03T11:10:47.530493551+03:00","limit":0,"offset":0},{"id":3,"from":"usr1","to":"admin","is_read":false,"message":"How are you?","created_at":"2023-06-03T11:11:00.245139983+03:00","limit":0,"offset":0},{"id":4,"from":"admin","to":"usr1","is_read":false,"message":"I'm fine and yourself?","created_at":"2023-06-03T11:11:11.416913134+03:00","limit":0,"offset":0},{"id":5,"from":"usr1","to":"admin","is_read":false,"message":"Just fine. What are your plans?","created_at":"2023-06-03T11:11:24.66201296+03:00","limit":0,"offset":0},{"id":6,"from":"admin","to":"usr1","is_read":false,"message":"Nada. Just hanging around. You","created_at":"2023-06-03T11:11:39.716254929+03:00","limit":0,"offset":0},{"id":7,"from":"usr1","to":"admin","is_read":false,"message":"Same. What have you been up to?","created_at":"2023-06-03T11:12:08.953323714+03:00","limit":0,"offset":0}]}
2023/06/03 17:21:33 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:33 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:21:33 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:33 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:33 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:21:33 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:33 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:33 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:21:33 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:33 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:33 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:21:33 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:33 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:33 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:21:33 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:33 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:33 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:21:33 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:34 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:34 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:21:34 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:21:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:21:35 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:21:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:34 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:34 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:34 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:34 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:34 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:34 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:34 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:34 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:34 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:35 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:35 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:35 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:36 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:36 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:22:36 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:45 ws-client.go:90: Client read message from:  127.0.0.1:46986
2023/06/03 17:22:45 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:22:45 ws-manager.go:153: History of Messages:  [{28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0}]
2023/06/03 17:22:45 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:22:45 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0}]}
2023/06/03 17:22:49 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:49 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:49 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:49 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:49 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:49 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:49 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:49 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:49 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:49 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:49 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:22:49 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:22:50 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:22:50 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:22:50 ws-client.go:177: Message sent to client: 127.0.0.1:46986 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:24:03 ws-client.go:90: Client read message from:  127.0.0.1:58392
2023/06/03 17:24:03 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:24:03 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:24:03 main.go:77: Cookie exists.
2023/06/03 17:24:05 ws-client.go:90: Client read message from:  127.0.0.1:46986
2023/06/03 17:24:05 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:24:05 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:24:05 main.go:77: Cookie exists.
2023/06/03 17:24:05 ws-client.go:182: Client connection is nil.
2023/06/03 17:24:05 handlers.go:41: Checking login status.
2023/06/03 17:24:05 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:24:05 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:24:05 handlers.go:87: OTP:  034a7c76-33dc-422d-8452-04b897c6a90d
2023/06/03 17:24:06 ws-client.go:182: Client connection is nil.
2023/06/03 17:24:06 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:24:06 handlers.go:270: Serving websocket.
2023/06/03 17:24:06 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:24:06 handlers.go:278: Decoding request body.
2023/06/03 17:24:06 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:24:06 handlers.go:293: Client already exists.
2023/06/03 17:24:06 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:24:06 ws-client.go:65: Client IP and client port num.:  127.0.0.1:44600
2023/06/03 17:24:06 handlers.go:41: Checking login status.
2023/06/03 17:24:06 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:24:06 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:24:06 handlers.go:87: OTP:  83c789d5-79ea-4aed-b315-8d00ee47a469
2023/06/03 17:24:06 ws-client.go:182: Client connection is nil.
2023/06/03 17:24:06 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:24:06 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:24:06 ws-manager.go:75: Adding user info: {user-connect {"otp":"034a7c76-33dc-422d-8452-04b897c6a90d","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:24:06 ws-manager.go:86: User in LoggedInList:  map[admin:true]
2023/06/03 17:24:06 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/03 17:24:06 ws-client.go:177: Message sent to client: 127.0.0.1:44600 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 17:24:06 handlers.go:270: Serving websocket.
2023/06/03 17:24:06 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:24:06 handlers.go:278: Decoding request body.
2023/06/03 17:24:06 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:24:06 handlers.go:293: Client already exists.
2023/06/03 17:24:06 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 17:24:06 ws-client.go:65: Client IP and client port num.:  127.0.0.1:44616
2023/06/03 17:24:06 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 17:24:07 ws-client.go:90: Client read message from:  127.0.0.1:44616
2023/06/03 17:24:07 ws-manager.go:75: Adding user info: {user-connect {"otp":"83c789d5-79ea-4aed-b315-8d00ee47a469","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 17:24:07 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:24:07 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:24:07 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:24:07 ws-client.go:177: Message sent to client: 127.0.0.1:44600 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:24:08 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:24:08 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:24:08 ws-manager.go:153: History of Messages:  [{28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0}]
2023/06/03 17:24:08 ws-manager.go:167: History sent to:  admin
2023/06/03 17:24:08 ws-client.go:177: Message sent to client: 127.0.0.1:44600 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0}]}
2023/06/03 17:24:11 ws-client.go:90: Client read message from:  127.0.0.1:44616
2023/06/03 17:24:11 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:24:11 ws-manager.go:153: History of Messages:  [{28 admin usr1 false sdffljoijsfgg 2023-06-03T12:01:45.507247555+03:00 0 0} {29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0}]
2023/06/03 17:24:11 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:24:11 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"chat_history","payload":[{"id":28,"from":"admin","to":"usr1","is_read":false,"message":"sdffljoijsfgg","created_at":"2023-06-03T12:01:45.507247555+03:00","limit":0,"offset":0},{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0}]}
2023/06/03 17:26:07 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:07 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:26:07 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:08 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:26:08 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:08 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:26:08 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:08 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:26:08 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:08 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:26:08 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:08 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:26:08 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:08 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:08 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:26:08 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:09 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:09 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:26:09 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:26:10 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:26:10 ws-manager.go:38: Event/message sent: {new-message {"message":"sdkjnsg","from":"admin","to":"usr1","sent":1685802370677}}
2023/06/03 17:26:10 ws-client.go:177: Message sent to client: 127.0.0.1:44616 Message: {"type":"sent-message","payload":{"message":"sdkjnsg","from":"admin","to":"usr1","sent":"2023-06-03T17:26:10.68264971+03:00"}}
2023/06/03 17:27:39 ws-client.go:90: Client read message from:  127.0.0.1:44616
2023/06/03 17:27:39 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:27:39 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:27:39 main.go:77: Cookie exists.
2023/06/03 17:27:40 handlers.go:41: Checking login status.
2023/06/03 17:27:40 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:27:40 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:27:40 handlers.go:87: OTP:  71b0050a-7a60-414f-9adf-175c158dd384
2023/06/03 17:27:40 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:27:40 handlers.go:270: Serving websocket.
2023/06/03 17:27:40 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:27:40 handlers.go:278: Decoding request body.
2023/06/03 17:27:40 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:27:40 handlers.go:293: Client already exists.
2023/06/03 17:27:40 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 17:27:40 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50814
2023/06/03 17:27:41 ws-client.go:90: Client read message from:  127.0.0.1:50814
2023/06/03 17:27:41 ws-manager.go:75: Adding user info: {user-connect {"otp":"71b0050a-7a60-414f-9adf-175c158dd384","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 17:27:41 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:27:41 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:27:41 ws-client.go:177: Message sent to client: 127.0.0.1:44600 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:27:41 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:27:41 ws-client.go:90: Client read message from:  127.0.0.1:44600
2023/06/03 17:27:41 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:27:41 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:27:41 main.go:77: Cookie exists.
2023/06/03 17:27:42 ws-client.go:182: Client connection is nil.
2023/06/03 17:27:43 handlers.go:41: Checking login status.
2023/06/03 17:27:43 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:27:43 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:27:43 handlers.go:87: OTP:  fe9d9f86-984d-4acf-88dc-f9cef971b921
2023/06/03 17:27:43 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:27:43 handlers.go:270: Serving websocket.
2023/06/03 17:27:43 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:27:43 handlers.go:278: Decoding request body.
2023/06/03 17:27:43 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:27:43 handlers.go:293: Client already exists.
2023/06/03 17:27:43 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:27:43 ws-client.go:65: Client IP and client port num.:  127.0.0.1:50820
2023/06/03 17:27:44 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:44 ws-manager.go:75: Adding user info: {user-connect {"otp":"fe9d9f86-984d-4acf-88dc-f9cef971b921","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:27:44 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:27:44 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:27:44 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:27:44 ws-client.go:177: Message sent to client: 127.0.0.1:50820 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:27:45 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:45 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:27:45 ws-manager.go:153: History of Messages:  [{29 admin usr1 false sdggjdfdgg 2023-06-03T12:01:47.763031142+03:00 0 0} {30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0}]
2023/06/03 17:27:45 ws-manager.go:167: History sent to:  admin
2023/06/03 17:27:45 ws-client.go:177: Message sent to client: 127.0.0.1:50820 Message: {"type":"chat_history","payload":[{"id":29,"from":"admin","to":"usr1","is_read":false,"message":"sdggjdfdgg","created_at":"2023-06-03T12:01:47.763031142+03:00","limit":0,"offset":0},{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0}]}
2023/06/03 17:27:48 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:48 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:48 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:48 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:48 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:48 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:48 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:48 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:48 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:48 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:48 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:48 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:48 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:49 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:49 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:49 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:49 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:49 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:49 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:49 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:49 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:49 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:49 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:49 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:49 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:49 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:49 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:49 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:50 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:50 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:50 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:50 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:50 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:50 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:50 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:50 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:50 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:50 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:50 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:50 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:50 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:50 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:51 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:51 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:27:51 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:52 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:52 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:27:52 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:27:57 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:27:57 ws-manager.go:38: Event/message sent: {new-message {"message":"dskbksdgkjsdgkjdsfkjn","from":"admin","to":"usr1","sent":1685802477411}}
2023/06/03 17:27:57 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"sent-message","payload":{"message":"dskbksdgkjsdgkjdsfkjn","from":"admin","to":"usr1","sent":"2023-06-03T17:27:57.418035493+03:00"}}
2023/06/03 17:28:01 ws-client.go:90: Client read message from:  127.0.0.1:50814
2023/06/03 17:28:01 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:28:01 ws-manager.go:153: History of Messages:  [{30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0}]
2023/06/03 17:28:01 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:28:01 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"chat_history","payload":[{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0}]}
2023/06/03 17:29:28 ws-client.go:90: Client read message from:  127.0.0.1:50820
2023/06/03 17:29:28 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:29:28 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:29:28 main.go:77: Cookie exists.
2023/06/03 17:29:30 handlers.go:41: Checking login status.
2023/06/03 17:29:30 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:29:30 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:29:30 handlers.go:87: OTP:  835258a5-652d-4d4c-8dbb-17c379e4ad6d
2023/06/03 17:29:30 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:29:30 handlers.go:270: Serving websocket.
2023/06/03 17:29:30 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:29:30 handlers.go:278: Decoding request body.
2023/06/03 17:29:30 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:29:30 handlers.go:293: Client already exists.
2023/06/03 17:29:30 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:29:30 ws-client.go:65: Client IP and client port num.:  127.0.0.1:54278
2023/06/03 17:29:30 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:30 ws-manager.go:75: Adding user info: {user-connect {"otp":"835258a5-652d-4d4c-8dbb-17c379e4ad6d","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:29:30 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:29:30 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:29:30 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:29:30 ws-client.go:177: Message sent to client: 127.0.0.1:54278 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:29:32 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:32 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:29:32 ws-manager.go:153: History of Messages:  [{30 admin usr1 false ewljjwet 2023-06-03T12:01:49.82976334+03:00 0 0} {31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0}]
2023/06/03 17:29:32 ws-manager.go:167: History sent to:  admin
2023/06/03 17:29:32 ws-client.go:177: Message sent to client: 127.0.0.1:54278 Message: {"type":"chat_history","payload":[{"id":30,"from":"admin","to":"usr1","is_read":false,"message":"ewljjwet","created_at":"2023-06-03T12:01:49.82976334+03:00","limit":0,"offset":0},{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0}]}
2023/06/03 17:29:36 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:29:36 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:36 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:29:36 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:36 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:29:36 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:36 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:29:36 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:37 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:29:37 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:37 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:29:37 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:37 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:29:37 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:38 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:38 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:29:38 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:29:39 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:29:39 ws-manager.go:38: Event/message sent: {new-message {"message":"afkjbaf","from":"admin","to":"usr1","sent":1685802579508}}
2023/06/03 17:29:39 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"sent-message","payload":{"message":"afkjbaf","from":"admin","to":"usr1","sent":"2023-06-03T17:29:39.512419636+03:00"}}
2023/06/03 17:30:15 ws-client.go:90: Client read message from:  127.0.0.1:54278
2023/06/03 17:30:15 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:30:15 ws-client.go:182: Client connection is nil.
2023/06/03 17:30:15 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:30:15 main.go:77: Cookie exists.
2023/06/03 17:30:16 ws-client.go:182: Client connection is nil.
2023/06/03 17:30:17 handlers.go:41: Checking login status.
2023/06/03 17:30:17 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:30:17 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:30:17 handlers.go:87: OTP:  7702e2a7-f84e-4e9c-889c-feeb1a5da836
2023/06/03 17:30:17 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:30:17 handlers.go:270: Serving websocket.
2023/06/03 17:30:17 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:30:17 handlers.go:278: Decoding request body.
2023/06/03 17:30:17 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:30:17 handlers.go:293: Client already exists.
2023/06/03 17:30:17 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:30:17 ws-client.go:65: Client IP and client port num.:  127.0.0.1:51242
2023/06/03 17:30:17 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:17 ws-manager.go:75: Adding user info: {user-connect {"otp":"7702e2a7-f84e-4e9c-889c-feeb1a5da836","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:30:17 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:30:17 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:30:17 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:30:17 ws-client.go:177: Message sent to client: 127.0.0.1:51242 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:30:19 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:19 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:30:19 ws-manager.go:153: History of Messages:  [{31 admin usr1 false daguhsguhsdg 2023-06-03T12:08:02.346644111+03:00 0 0} {32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0}]
2023/06/03 17:30:19 ws-manager.go:167: History sent to:  admin
2023/06/03 17:30:19 ws-client.go:177: Message sent to client: 127.0.0.1:51242 Message: {"type":"chat_history","payload":[{"id":31,"from":"admin","to":"usr1","is_read":false,"message":"daguhsguhsdg","created_at":"2023-06-03T12:08:02.346644111+03:00","limit":0,"offset":0},{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0}]}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:23 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:23 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:23 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:24 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:24 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:30:24 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:25 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:25 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:30:25 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:30:32 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:30:32 ws-manager.go:38: Event/message sent: {new-message {"message":"adfkjbsdgg","from":"admin","to":"usr1","sent":1685802632458}}
2023/06/03 17:30:32 ws-client.go:177: Message sent to client: 127.0.0.1:50814 Message: {"type":"sent-message","payload":{"message":"adfkjbsdgg","from":"admin","to":"usr1","sent":"2023-06-03T17:30:32.464548795+03:00"}}
2023/06/03 17:32:10 ws-client.go:90: Client read message from:  127.0.0.1:51242
2023/06/03 17:32:10 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:32:10 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:32:10 main.go:77: Cookie exists.
2023/06/03 17:32:11 handlers.go:41: Checking login status.
2023/06/03 17:32:11 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:32:11 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:32:11 handlers.go:87: OTP:  9b30c8f6-362a-46a1-be6e-892b4a8664fb
2023/06/03 17:32:11 ws-client.go:90: Client read message from:  127.0.0.1:50814
2023/06/03 17:32:11 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:32:12 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:32:12 main.go:77: Cookie exists.
2023/06/03 17:32:12 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:32:12 handlers.go:270: Serving websocket.
2023/06/03 17:32:12 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:32:12 handlers.go:278: Decoding request body.
2023/06/03 17:32:12 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:32:12 handlers.go:293: Client already exists.
2023/06/03 17:32:12 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:32:12 ws-client.go:65: Client IP and client port num.:  127.0.0.1:40956
2023/06/03 17:32:12 ws-client.go:182: Client connection is nil.
2023/06/03 17:32:13 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:13 ws-manager.go:75: Adding user info: {user-connect {"otp":"9b30c8f6-362a-46a1-be6e-892b4a8664fb","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:32:13 ws-manager.go:86: User in LoggedInList:  map[admin:true]
2023/06/03 17:32:13 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true]
2023/06/03 17:32:13 ws-client.go:156: Client connection is nil.
2023/06/03 17:32:13 ws-client.go:177: Message sent to client: 127.0.0.1:40956 Message: {"type":"users-online","payload":{"admin":true}}
2023/06/03 17:32:13 handlers.go:41: Checking login status.
2023/06/03 17:32:13 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:32:13 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:32:13 handlers.go:87: OTP:  d4be2625-ee60-43cc-902b-7704d5f2723d
2023/06/03 17:32:13 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:32:13 handlers.go:270: Serving websocket.
2023/06/03 17:32:13 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:32:13 handlers.go:278: Decoding request body.
2023/06/03 17:32:13 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:32:13 handlers.go:293: Client already exists.
2023/06/03 17:32:13 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 17:32:13 ws-client.go:65: Client IP and client port num.:  127.0.0.1:40958
2023/06/03 17:32:13 ws-client.go:90: Client read message from:  127.0.0.1:40958
2023/06/03 17:32:13 ws-manager.go:75: Adding user info: {user-connect {"otp":"d4be2625-ee60-43cc-902b-7704d5f2723d","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 17:32:13 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:32:13 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:32:13 ws-client.go:177: Message sent to client: 127.0.0.1:40956 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:32:13 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:32:14 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:14 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:32:14 ws-manager.go:153: History of Messages:  [{32 admin usr1 false adfjbsdff 2023-06-03T12:19:07.870014127+03:00 0 0} {33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0}]
2023/06/03 17:32:14 ws-manager.go:167: History sent to:  admin
2023/06/03 17:32:14 ws-client.go:177: Message sent to client: 127.0.0.1:40956 Message: {"type":"chat_history","payload":[{"id":32,"from":"admin","to":"usr1","is_read":false,"message":"adfjbsdff","created_at":"2023-06-03T12:19:07.870014127+03:00","limit":0,"offset":0},{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0}]}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:18 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:32:18 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:19 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:19 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:32:19 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:32:20 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:32:20 ws-manager.go:38: Event/message sent: {new-message {"message":"adkfjnsdg","from":"admin","to":"usr1","sent":1685802740046}}
2023/06/03 17:32:20 ws-client.go:177: Message sent to client: 127.0.0.1:40958 Message: {"type":"sent-message","payload":{"message":"adkfjnsdg","from":"admin","to":"usr1","sent":"2023-06-03T17:32:20.059956658+03:00"}}
2023/06/03 17:34:06 ws-client.go:90: Client read message from:  127.0.0.1:40956
2023/06/03 17:34:06 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:34:07 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:34:07 main.go:77: Cookie exists.
2023/06/03 17:34:08 ws-client.go:90: Client read message from:  127.0.0.1:40958
2023/06/03 17:34:08 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:34:08 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:34:08 main.go:77: Cookie exists.
2023/06/03 17:34:08 handlers.go:41: Checking login status.
2023/06/03 17:34:08 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:34:08 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:34:08 handlers.go:87: OTP:  b2b01a8d-2d56-4d95-b81d-272f4ae64fe8
2023/06/03 17:34:09 ws-client.go:182: Client connection is nil.
2023/06/03 17:34:09 handlers.go:41: Checking login status.
2023/06/03 17:34:09 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:34:09 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:34:09 handlers.go:87: OTP:  7e408b34-081e-435c-bf58-4c3d72df320c
2023/06/03 17:34:10 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:34:10 handlers.go:270: Serving websocket.
2023/06/03 17:34:10 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:34:10 handlers.go:278: Decoding request body.
2023/06/03 17:34:10 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:34:10 handlers.go:293: Client already exists.
2023/06/03 17:34:10 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:34:10 ws-client.go:65: Client IP and client port num.:  127.0.0.1:46686
2023/06/03 17:34:10 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:34:10 handlers.go:270: Serving websocket.
2023/06/03 17:34:10 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:34:10 handlers.go:278: Decoding request body.
2023/06/03 17:34:10 handlers.go:290: Session Id in ServeWS:  fc7be8c7-1fda-4a3b-a2cd-a0231edab67a
2023/06/03 17:34:10 handlers.go:293: Client already exists.
2023/06/03 17:34:10 handlers.go:294: ClientUName Debug:  usr1
2023/06/03 17:34:10 ws-client.go:65: Client IP and client port num.:  127.0.0.1:46694
2023/06/03 17:34:10 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:10 ws-manager.go:75: Adding user info: {user-connect {"otp":"b2b01a8d-2d56-4d95-b81d-272f4ae64fe8","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:34:10 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:34:10 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:34:10 ws-client.go:177: Message sent to client: 127.0.0.1:46686 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:34:10 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:34:10 ws-client.go:90: Client read message from:  127.0.0.1:46694
2023/06/03 17:34:10 ws-manager.go:75: Adding user info: {user-connect {"otp":"7e408b34-081e-435c-bf58-4c3d72df320c","id":0,"username":"usr1","email":"usr1@gmail.com","joined":"2023-06-03 10:43:21","loggedIn":true}}
2023/06/03 17:34:10 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:34:10 ws-manager.go:92: User: usr1 added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:34:10 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:34:10 ws-client.go:177: Message sent to client: 127.0.0.1:46686 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:34:12 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:12 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:34:12 ws-manager.go:153: History of Messages:  [{33 usr1 admin false dgkjsgd 2023-06-03T12:19:28.263765214+03:00 0 0} {34 admin usr1 false sdkjbsd 2023-06-03T17:09:36.594024374+03:00 0 0} {35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0}]
2023/06/03 17:34:12 ws-manager.go:167: History sent to:  admin
2023/06/03 17:34:12 ws-client.go:177: Message sent to client: 127.0.0.1:46686 Message: {"type":"chat_history","payload":[{"id":33,"from":"usr1","to":"admin","is_read":false,"message":"dgkjsgd","created_at":"2023-06-03T12:19:28.263765214+03:00","limit":0,"offset":0},{"id":34,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsd","created_at":"2023-06-03T17:09:36.594024374+03:00","limit":0,"offset":0},{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0}]}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:18 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:18 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:18 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:19 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:19 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:34:19 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:24 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:24 ws-manager.go:38: Event/message sent: {new-message {"message":"sdkjbsdgg","from":"admin","to":"usr1","sent":1685802864356}}
2023/06/03 17:34:24 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"sent-message","payload":{"message":"sdkjbsdgg","from":"admin","to":"usr1","sent":"2023-06-03T17:34:24.361929858+03:00"}}
2023/06/03 17:34:50 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:50 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:50 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:50 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:50 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:50 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:50 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:50 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:50 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:50 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:50 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:50 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:34:50 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:51 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:51 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:34:51 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:34:51 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:34:51 ws-manager.go:38: Event/message sent: {new-message {"message":"sdlnsg","from":"admin","to":"usr1","sent":1685802891673}}
2023/06/03 17:34:51 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"sent-message","payload":{"message":"sdlnsg","from":"admin","to":"usr1","sent":"2023-06-03T17:34:51.676957214+03:00"}}
2023/06/03 17:35:09 ws-client.go:90: Client read message from:  127.0.0.1:46686
2023/06/03 17:35:09 ws-client.go:93: Client Made an Error:  websocket: close 1001 (going away)
2023/06/03 17:35:09 main.go:73: Handling request "/" and serving index.html
2023/06/03 17:35:09 main.go:77: Cookie exists.
2023/06/03 17:35:11 handlers.go:41: Checking login status.
2023/06/03 17:35:11 handlers.go:56: Manager's clients:  map[0xc0000ea1c0:true 0xc00021aa10:true]
2023/06/03 17:35:11 handlers.go:67: Session cookie found. User logged in
2023/06/03 17:35:11 handlers.go:87: OTP:  85614625-04d4-4226-99a5-0b3c4a1dd7e4
2023/06/03 17:35:11 handlers.go:376: AllPostsHandler reached.
2023/06/03 17:35:11 handlers.go:270: Serving websocket.
2023/06/03 17:35:11 handlers.go:30: Checking origin: https://localhost
2023/06/03 17:35:11 handlers.go:278: Decoding request body.
2023/06/03 17:35:11 handlers.go:290: Session Id in ServeWS:  3b8479eb-d2ba-4f5f-946e-19f15bd8ebc2
2023/06/03 17:35:11 handlers.go:293: Client already exists.
2023/06/03 17:35:11 handlers.go:294: ClientUName Debug:  admin
2023/06/03 17:35:11 ws-client.go:65: Client IP and client port num.:  127.0.0.1:52810
2023/06/03 17:35:11 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:11 ws-manager.go:75: Adding user info: {user-connect {"otp":"85614625-04d4-4226-99a5-0b3c4a1dd7e4","id":0,"username":"admin","email":"admin@gmail.com","joined":"2023-06-03 10:42:58","loggedIn":true}}
2023/06/03 17:35:11 ws-manager.go:86: User in LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:35:11 ws-manager.go:92: User: admin added to LoggedInList:  map[admin:true usr1:true]
2023/06/03 17:35:11 ws-client.go:177: Message sent to client: 127.0.0.1:52810 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:35:11 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"users-online","payload":{"admin":true,"usr1":true}}
2023/06/03 17:35:13 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:13 ws-manager.go:116: History Request:  {0 admin usr1 false   10 0}
2023/06/03 17:35:13 ws-manager.go:153: History of Messages:  [{35 admin usr1 false afn 2023-06-03T17:09:40.867139156+03:00 0 0} {36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0} {43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0}]
2023/06/03 17:35:13 ws-manager.go:167: History sent to:  admin
2023/06/03 17:35:13 ws-client.go:177: Message sent to client: 127.0.0.1:52810 Message: {"type":"chat_history","payload":[{"id":35,"from":"admin","to":"usr1","is_read":false,"message":"afn","created_at":"2023-06-03T17:09:40.867139156+03:00","limit":0,"offset":0},{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0},{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0}]}
2023/06/03 17:35:15 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:15 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:15 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:15 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:15 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:15 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:16 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:16 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:16 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:16 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:16 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:16 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:16 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:16 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:16 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:16 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:16 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:16 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:16 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:16 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:16 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:16 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:16 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:16 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:17 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:17 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:35:17 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:17 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:17 ws-manager.go:38: Event/message sent: {new-message {"message":"sdgkjnsf","from":"admin","to":"usr1","sent":1685802917591}}
2023/06/03 17:35:17 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"sent-message","payload":{"message":"sdgkjnsf","from":"admin","to":"usr1","sent":"2023-06-03T17:35:17.603804775+03:00"}}
2023/06/03 17:35:23 ws-client.go:90: Client read message from:  127.0.0.1:46694
2023/06/03 17:35:23 ws-manager.go:116: History Request:  {0 usr1 admin false   10 0}
2023/06/03 17:35:23 ws-manager.go:153: History of Messages:  [{36 admin usr1 false kjsdfkjs 2023-06-03T17:14:59.073089488+03:00 0 0} {37 admin usr1 false adkbagd 2023-06-03T17:17:00.641916875+03:00 0 0} {38 admin usr1 false sdkjnsg 2023-06-03T17:26:10.68264971+03:00 0 0} {39 admin usr1 false dskbksdgkjsdgkjdsfkjn 2023-06-03T17:27:57.418035493+03:00 0 0} {40 admin usr1 false afkjbaf 2023-06-03T17:29:39.512419636+03:00 0 0} {41 admin usr1 false adfkjbsdgg 2023-06-03T17:30:32.464548795+03:00 0 0} {42 admin usr1 false adkfjnsdg 2023-06-03T17:32:20.059956658+03:00 0 0} {43 admin usr1 false sdkjbsdgg 2023-06-03T17:34:24.361929858+03:00 0 0} {44 admin usr1 false sdlnsg 2023-06-03T17:34:51.676957214+03:00 0 0} {45 admin usr1 false sdgkjnsf 2023-06-03T17:35:17.603804775+03:00 0 0}]
2023/06/03 17:35:23 ws-manager.go:167: History sent to:  usr1
2023/06/03 17:35:23 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"chat_history","payload":[{"id":36,"from":"admin","to":"usr1","is_read":false,"message":"kjsdfkjs","created_at":"2023-06-03T17:14:59.073089488+03:00","limit":0,"offset":0},{"id":37,"from":"admin","to":"usr1","is_read":false,"message":"adkbagd","created_at":"2023-06-03T17:17:00.641916875+03:00","limit":0,"offset":0},{"id":38,"from":"admin","to":"usr1","is_read":false,"message":"sdkjnsg","created_at":"2023-06-03T17:26:10.68264971+03:00","limit":0,"offset":0},{"id":39,"from":"admin","to":"usr1","is_read":false,"message":"dskbksdgkjsdgkjdsfkjn","created_at":"2023-06-03T17:27:57.418035493+03:00","limit":0,"offset":0},{"id":40,"from":"admin","to":"usr1","is_read":false,"message":"afkjbaf","created_at":"2023-06-03T17:29:39.512419636+03:00","limit":0,"offset":0},{"id":41,"from":"admin","to":"usr1","is_read":false,"message":"adfkjbsdgg","created_at":"2023-06-03T17:30:32.464548795+03:00","limit":0,"offset":0},{"id":42,"from":"admin","to":"usr1","is_read":false,"message":"adkfjnsdg","created_at":"2023-06-03T17:32:20.059956658+03:00","limit":0,"offset":0},{"id":43,"from":"admin","to":"usr1","is_read":false,"message":"sdkjbsdgg","created_at":"2023-06-03T17:34:24.361929858+03:00","limit":0,"offset":0},{"id":44,"from":"admin","to":"usr1","is_read":false,"message":"sdlnsg","created_at":"2023-06-03T17:34:51.676957214+03:00","limit":0,"offset":0},{"id":45,"from":"admin","to":"usr1","is_read":false,"message":"sdgkjnsf","created_at":"2023-06-03T17:35:17.603804775+03:00","limit":0,"offset":0}]}
2023/06/03 17:35:31 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:31 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:31 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:31 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:31 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:31 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:32 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:32 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:32 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:33 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:33 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:35:33 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:34 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:34 ws-manager.go:38: Event/message sent: {new-message {"message":"sdg,m sgsgd","from":"admin","to":"usr1","sent":1685802934110}}
2023/06/03 17:35:34 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"sent-message","payload":{"message":"sdg,m sgsgd","from":"admin","to":"usr1","sent":"2023-06-03T17:35:34.1430766+03:00"}}
2023/06/03 17:35:36 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:36 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:36 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:36 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:36 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:36 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:36 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:36 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:36 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:36 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:36 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:36 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:36 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:36 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:36 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:37 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:37 ws-manager.go:193: History sent to:  usr1
2023/06/03 17:35:37 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:38 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:38 ws-manager.go:218: History sent to:  usr1
2023/06/03 17:35:38 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"stop-typing","payload":{"id":0,"from":"admin","to":"usr1","is_read":false,"message":"","created_at":"","limit":0,"offset":0}}
2023/06/03 17:35:39 ws-client.go:90: Client read message from:  127.0.0.1:52810
2023/06/03 17:35:39 ws-manager.go:38: Event/message sent: {new-message {"message":"sdgkjnsgdkjnsgd","from":"admin","to":"usr1","sent":1685802939337}}
2023/06/03 17:35:39 ws-client.go:177: Message sent to client: 127.0.0.1:46694 Message: {"type":"sent-message","payload":{"message":"sdgkjnsgdkjnsgd","from":"admin","to":"usr1","sent":"2023-06-03T17:35:39.339938964+03:00"}}
2023/06/03 17:36:17 main.go:41: Server stopped.
